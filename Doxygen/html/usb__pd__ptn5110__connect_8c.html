<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: pd/ptn5110/usb_pd_ptn5110_connect.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_695ae6a37edf2996f6d6c89c01e2f5f0.html">pd</a></li><li class="navelem"><a class="el" href="dir_4e883349aa6e5a1d72d9550594327c1a.html">ptn5110</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">usb_pd_ptn5110_connect.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;usb_pd_config.h&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd_8h_source.html">usb_pd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__phy_8h_source.html">usb_pd_phy.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__ptn5110_8h_source.html">usb_pd_ptn5110.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__ptn5110__register_8h_source.html">usb_pd_ptn5110_register.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__timer_8h_source.html">usb_pd_timer.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for usb_pd_ptn5110_connect.c:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c__incl.png" border="0" usemap="#pd_2ptn5110_2usb__pd__ptn5110__connect_8c" alt=""/></div>
<map name="pd_2ptn5110_2usb__pd__ptn5110__connect_8c" id="pd_2ptn5110_2usb__pd__ptn5110__connect_8c">
<area shape="rect" id="node5" href="usb__pd_8h.html" title="usb_pd.h" alt="" coords="333,96,407,123"/><area shape="rect" id="node9" href="usb__pd__phy_8h.html" title="usb_pd_phy.h" alt="" coords="433,96,535,123"/><area shape="rect" id="node10" href="usb__pd__ptn5110_8h.html" title="usb_pd_ptn5110.h" alt="" coords="560,96,688,123"/><area shape="rect" id="node11" href="usb__pd__ptn5110__register_8h.html" title="usb_pd_ptn5110_register.h" alt="" coords="712,96,891,123"/><area shape="rect" id="node12" href="usb__pd__timer_8h.html" title="usb_pd_timer.h" alt="" coords="915,96,1025,123"/><area shape="rect" id="node6" href="usb__osa_8h.html" title="usb_osa.h" alt="" coords="219,171,300,197"/><area shape="rect" id="node7" href="usb__misc_8h.html" title="usb_misc.h" alt="" coords="326,171,415,197"/><area shape="rect" id="node8" href="usb__cmsis__wrapper_8h.html" title="usb_cmsis_wrapper.h" alt="" coords="440,171,588,197"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a28187789d766599d2041078b07208b2c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2c">discharge_mode_t</a> { <a class="el" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67">DCHRG_DISABLED</a> = 0, 
<a class="el" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252">DCHRG_ENABLED</a> = 1
 }</td></tr>
<tr class="separator:a28187789d766599d2041078b07208b2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae176a3f90e065c327a147a07c4b05885"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ae176a3f90e065c327a147a07c4b05885">PDPTN5110_ConnectReleasePowerControl</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:ae176a3f90e065c327a147a07c4b05885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when connection is detached or disabled (unused, I think the original code use this error)  <a href="#ae176a3f90e065c327a147a07c4b05885">More...</a><br/></td></tr>
<tr class="separator:ae176a3f90e065c327a147a07c4b05885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dd9eaa05d32525cd38a9c5e94d11ea3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a0dd9eaa05d32525cd38a9c5e94d11ea3">PDPTN5110_ConnectInit</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a0dd9eaa05d32525cd38a9c5e94d11ea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the hardware for bypass state machine.  <a href="#a0dd9eaa05d32525cd38a9c5e94d11ea3">More...</a><br/></td></tr>
<tr class="separator:a0dd9eaa05d32525cd38a9c5e94d11ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4cd7c31c2532a3b1b03b7d060c3aff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a4b4cd7c31c2532a3b1b03b7d060c3aff">PDPTN5110_ConnectGetCC</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, <a class="el" href="group__usb__pd__phy__drv.html#gaad64c8a6c58f68d58feedd48b49778bd">pd_phy_get_cc_state_t</a> *ccStates)</td></tr>
<tr class="memdesc:a4b4cd7c31c2532a3b1b03b7d060c3aff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current pin state for a given CC pin.  <a href="#a4b4cd7c31c2532a3b1b03b7d060c3aff">More...</a><br/></td></tr>
<tr class="separator:a4b4cd7c31c2532a3b1b03b7d060c3aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b274ef814628d8ab8d9a7f1070360e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a34b274ef814628d8ab8d9a7f1070360e">PDPTN5110_ConnectEnableTypeCConnection</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a34b274ef814628d8ab8d9a7f1070360e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable interrupts for connection.  <a href="#a34b274ef814628d8ab8d9a7f1070360e">More...</a><br/></td></tr>
<tr class="separator:a34b274ef814628d8ab8d9a7f1070360e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6626302ba190e99a55b7242f90fd2873"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a6626302ba190e99a55b7242f90fd2873">PDPTN5110_ConnectDetachOrDisableCallback</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a6626302ba190e99a55b7242f90fd2873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback when connection is detached or disabled (enter into detach or disable state, so put in the PD_PHY_RESET_CONNECT_DETECTION)  <a href="#a6626302ba190e99a55b7242f90fd2873">More...</a><br/></td></tr>
<tr class="separator:a6626302ba190e99a55b7242f90fd2873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca1a6719003c681f4cf906b31fdfd1cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#aca1a6719003c681f4cf906b31fdfd1cc">PDPTN5110_ConnectRawVbusDischarge</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t enable)</td></tr>
<tr class="memdesc:aca1a6719003c681f4cf906b31fdfd1cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update victoria register and internal state (call through control API interface)  <a href="#aca1a6719003c681f4cf906b31fdfd1cc">More...</a><br/></td></tr>
<tr class="separator:aca1a6719003c681f4cf906b31fdfd1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4db861a676fce36fbfe7019f83212f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a2a4db861a676fce36fbfe7019f83212f">PDPTN5110_ConnectDisableComparators</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a2a4db861a676fce36fbfe7019f83212f"><td class="mdescLeft">&#160;</td><td class="mdescRight">disble CC monitor temoporarily after disconnection (put in the PD_PHY_RESET_CONNECT_DETECTION, original codes call this in TYPEC_TRY_SRC, TYPEC_TRY_SNK, TYPEC_TRY_WAIT_SRC too)  <a href="#a2a4db861a676fce36fbfe7019f83212f">More...</a><br/></td></tr>
<tr class="separator:a2a4db861a676fce36fbfe7019f83212f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f5a2e19ad75f706660e4037af19233"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ac0f5a2e19ad75f706660e4037af19233">PDPTN5110_ConnectSetCC</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t usedCC)</td></tr>
<tr class="separator:ac0f5a2e19ad75f706660e4037af19233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0679fd98bbeb52b3046805a304939aaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a0679fd98bbeb52b3046805a304939aaa">PDPTN5110_ConnectAssertRpAttached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t usedCC, uint8_t rpCfg)</td></tr>
<tr class="memdesc:a0679fd98bbeb52b3046805a304939aaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert and monitor Rp.  <a href="#a0679fd98bbeb52b3046805a304939aaa">More...</a><br/></td></tr>
<tr class="separator:a0679fd98bbeb52b3046805a304939aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04e4e22845301da2fa5e7555f9f59ba0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a04e4e22845301da2fa5e7555f9f59ba0">PDPTN5110_ConnectAssertRpUnattached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t srcRp)</td></tr>
<tr class="memdesc:a04e4e22845301da2fa5e7555f9f59ba0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert and monitor Rp in unattached state.  <a href="#a04e4e22845301da2fa5e7555f9f59ba0">More...</a><br/></td></tr>
<tr class="separator:a04e4e22845301da2fa5e7555f9f59ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d7f033cf50fdc8a29caff893219629a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a6d7f033cf50fdc8a29caff893219629a">PDPTN5110_ConnectAssertRpDbgAccSrc</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a6d7f033cf50fdc8a29caff893219629a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert and monitor Rp as DTS source.  <a href="#a6d7f033cf50fdc8a29caff893219629a">More...</a><br/></td></tr>
<tr class="separator:a6d7f033cf50fdc8a29caff893219629a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ff250867f55687d57baa1c76315239"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a50ff250867f55687d57baa1c76315239">PDPTN5110_ConnectAssertRdDbgAccSnk</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a50ff250867f55687d57baa1c76315239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert and monitor Rd as DTS sink.  <a href="#a50ff250867f55687d57baa1c76315239">More...</a><br/></td></tr>
<tr class="separator:a50ff250867f55687d57baa1c76315239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94dc6e083ed76c5ff0dda5e184ee592"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ab94dc6e083ed76c5ff0dda5e184ee592">PDPTN5110_ConnectAssertRdAttached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t usedCC, uint8_t detectWay)</td></tr>
<tr class="memdesc:ab94dc6e083ed76c5ff0dda5e184ee592"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert and monitor Rd in unattached state.  <a href="#ab94dc6e083ed76c5ff0dda5e184ee592">More...</a><br/></td></tr>
<tr class="separator:ab94dc6e083ed76c5ff0dda5e184ee592"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c56e52ddbb1fbb4d9fc09d36fe49a73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a8c56e52ddbb1fbb4d9fc09d36fe49a73">PDPTN5110_ConnectAssertRdUnattached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a8c56e52ddbb1fbb4d9fc09d36fe49a73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assert and monitor Rd in unattached state.  <a href="#a8c56e52ddbb1fbb4d9fc09d36fe49a73">More...</a><br/></td></tr>
<tr class="separator:a8c56e52ddbb1fbb4d9fc09d36fe49a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55a4f79062b33d94bd7284e08a73ba3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ad55a4f79062b33d94bd7284e08a73ba3">PDPTN5110_ConnectAssertDrpUnattached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t startSrc, uint8_t srcRp)</td></tr>
<tr class="memdesc:ad55a4f79062b33d94bd7284e08a73ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle and monitor Rp/Rd in unattached state.  <a href="#ad55a4f79062b33d94bd7284e08a73ba3">More...</a><br/></td></tr>
<tr class="separator:ad55a4f79062b33d94bd7284e08a73ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ff53f5b949eac37e29c4942c51a315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a21ff53f5b949eac37e29c4942c51a315">PDPTN5110_ConnectDbgAccSnkAttached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a21ff53f5b949eac37e29c4942c51a315"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set register when dbg acc sink is attached.  <a href="#a21ff53f5b949eac37e29c4942c51a315">More...</a><br/></td></tr>
<tr class="separator:a21ff53f5b949eac37e29c4942c51a315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac845e3e6c969e18371e948c8190123d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ac845e3e6c969e18371e948c8190123d2">PDPTN5110_ConnectDbgAccSrcAttached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:ac845e3e6c969e18371e948c8190123d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set register when dbg acc source is attached.  <a href="#ac845e3e6c969e18371e948c8190123d2">More...</a><br/></td></tr>
<tr class="separator:ac845e3e6c969e18371e948c8190123d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af57d909893f710a05924c70ee0a4d1a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#af57d909893f710a05924c70ee0a4d1a5">PDPTN5110_ConnectAudioAccessoryAttached</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t cc)</td></tr>
<tr class="memdesc:af57d909893f710a05924c70ee0a4d1a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set CC to monitor for accessory disconnection on CC1.  <a href="#af57d909893f710a05924c70ee0a4d1a5">More...</a><br/></td></tr>
<tr class="separator:af57d909893f710a05924c70ee0a4d1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784ca3f7cf79f3df2a26734007ebd767"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a784ca3f7cf79f3df2a26734007ebd767">PDPTN5110_ConnectSWitchCCComms</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t enable, uint8_t cc)</td></tr>
<tr class="memdesc:a784ca3f7cf79f3df2a26734007ebd767"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select the CC line to route to the PHY.  <a href="#a784ca3f7cf79f3df2a26734007ebd767">More...</a><br/></td></tr>
<tr class="separator:a784ca3f7cf79f3df2a26734007ebd767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7cdb7377bb383beaa0bbe287d3f3405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ae7cdb7377bb383beaa0bbe287d3f3405">PDPTN5110_ConnectSwitchVConn</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t enable)</td></tr>
<tr class="memdesc:ae7cdb7377bb383beaa0bbe287d3f3405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select the CC line to route to the VCONN source.  <a href="#ae7cdb7377bb383beaa0bbe287d3f3405">More...</a><br/></td></tr>
<tr class="separator:ae7cdb7377bb383beaa0bbe287d3f3405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae27fca1a06ebec2028f45dd00e0eff8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ae27fca1a06ebec2028f45dd00e0eff8d">PDPTN5110_ConnectSync</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:ae27fca1a06ebec2028f45dd00e0eff8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Syncronize hardware to CC state (roleControl, tcpc_control, fault_control, power_control)  <a href="#ae27fca1a06ebec2028f45dd00e0eff8d">More...</a><br/></td></tr>
<tr class="separator:ae27fca1a06ebec2028f45dd00e0eff8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08e54c5c0945d6f40e0dde03d9cca41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ae08e54c5c0945d6f40e0dde03d9cca41">PDPTN5110_ConnectDisableAll</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:ae08e54c5c0945d6f40e0dde03d9cca41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set CC to Z and disable comparators.  <a href="#ae08e54c5c0945d6f40e0dde03d9cca41">More...</a><br/></td></tr>
<tr class="separator:ae08e54c5c0945d6f40e0dde03d9cca41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1136effbc01ddeeb75c6e70077fa1fca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a1136effbc01ddeeb75c6e70077fa1fca">PDPTN5110_ConnectUpdateAfterPRSwap</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t powerRole)</td></tr>
<tr class="memdesc:a1136effbc01ddeeb75c6e70077fa1fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update hardware after a power role swap has completed (e.g. read current advert of new source).  <a href="#a1136effbc01ddeeb75c6e70077fa1fca">More...</a><br/></td></tr>
<tr class="separator:a1136effbc01ddeeb75c6e70077fa1fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f18c15d8ac2bccfec8a5b0dde20bd6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a93f18c15d8ac2bccfec8a5b0dde20bd6">PDPTN5110_ConnectGetTypeCCurrent</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t usedCC)</td></tr>
<tr class="memdesc:a93f18c15d8ac2bccfec8a5b0dde20bd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current current limit.  <a href="#a93f18c15d8ac2bccfec8a5b0dde20bd6">More...</a><br/></td></tr>
<tr class="separator:a93f18c15d8ac2bccfec8a5b0dde20bd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719232873c71eb8c1ae556668d842007"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a719232873c71eb8c1ae556668d842007">PDPTN5110_ConnectINTcTypeCCurrentStable</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a719232873c71eb8c1ae556668d842007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to be called when TypeC current sense is stable.  <a href="#a719232873c71eb8c1ae556668d842007">More...</a><br/></td></tr>
<tr class="separator:a719232873c71eb8c1ae556668d842007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac096caab4176c744ae773ca2e079ada3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#ac096caab4176c744ae773ca2e079ada3">PDPTN5110_ConnectInTcChecKDetacHDurIngHardReset</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:ac096caab4176c744ae773ca2e079ada3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to check for detach during hard reset The CC state change as OPEN when doing hard_reset, set the inProgress as normal state so the normal detach can be detected.  Called from ISR context (do not implement it)  <a href="#ac096caab4176c744ae773ca2e079ada3">More...</a><br/></td></tr>
<tr class="separator:ac096caab4176c744ae773ca2e079ada3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c93cf6ac2b690c0837b01fc8b37068"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a04c93cf6ac2b690c0837b01fc8b37068">PDPTN5110_ConnectSetInProgress</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t state)</td></tr>
<tr class="memdesc:a04c93cf6ac2b690c0837b01fc8b37068"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the Hardware chip that an activity is in progress.  <a href="#a04c93cf6ac2b690c0837b01fc8b37068">More...</a><br/></td></tr>
<tr class="separator:a04c93cf6ac2b690c0837b01fc8b37068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f7e996505f2487f22397d4f18b70fe"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a45f7e996505f2487f22397d4f18b70fe">PDPTN5110_ConnectCompareCcVoltage</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a45f7e996505f2487f22397d4f18b70fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the CC line voltage to determine the orientation.  <a href="#a45f7e996505f2487f22397d4f18b70fe">More...</a><br/></td></tr>
<tr class="separator:a45f7e996505f2487f22397d4f18b70fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4363da28058199bf22cacb67e5824518"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a4363da28058199bf22cacb67e5824518">PDPTN5110_ConnectSrcSetTypecCurrent</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t usedCC, uint8_t val)</td></tr>
<tr class="separator:a4363da28058199bf22cacb67e5824518"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0544c3fe466e421738dae463968b70ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__connect_8c.html#a0544c3fe466e421738dae463968b70ba">else</a></td></tr>
<tr class="separator:a0544c3fe466e421738dae463968b70ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a28187789d766599d2041078b07208b2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2c">discharge_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67"></a>DCHRG_DISABLED</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252"></a>DCHRG_ENABLED</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67">DCHRG_DISABLED</a> = 0,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252">DCHRG_ENABLED</a> = 1,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;} <a class="code" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2c">discharge_mode_t</a>;</div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67">DCHRG_DISABLED</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:48</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252">DCHRG_ENABLED</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:49</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a28187789d766599d2041078b07208b2c"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2c">discharge_mode_t</a></div><div class="ttdeci">discharge_mode_t</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:46</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad55a4f79062b33d94bd7284e08a73ba3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertDrpUnattached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>startSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>srcRp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Toggle and monitor Rp/Rd in unattached state. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (startSrc)</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#a1cf8f4ed850df9a6b08e2031c094e16e">TCPC_ROLE_CONTROL_DRP_MASK</a> | <a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a> |</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                                                                  <a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a> |</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                                                                  (srcRp &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#af1326986d5bf1439be095b2964d64b57">TCPC_ROLE_CONTROL_RP_VALUE_LSB</a>));</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    {</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#a1cf8f4ed850df9a6b08e2031c094e16e">TCPC_ROLE_CONTROL_DRP_MASK</a> | <a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a> |</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                                                                  <a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a> |</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                                                                  (srcRp &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#af1326986d5bf1439be095b2964d64b57">TCPC_ROLE_CONTROL_RP_VALUE_LSB</a>));</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:887</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a1cf8f4ed850df9a6b08e2031c094e16e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a1cf8f4ed850df9a6b08e2031c094e16e">TCPC_ROLE_CONTROL_DRP_MASK</a></div><div class="ttdeci">#define TCPC_ROLE_CONTROL_DRP_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:251</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:872</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:871</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:888</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_af1326986d5bf1439be095b2964d64b57"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#af1326986d5bf1439be095b2964d64b57">TCPC_ROLE_CONTROL_RP_VALUE_LSB</a></div><div class="ttdeci">#define TCPC_ROLE_CONTROL_RP_VALUE_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:253</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ad55a4f79062b33d94bd7284e08a73ba3_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ad55a4f79062b33d94bd7284e08a73ba3_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ad55a4f79062b33d94bd7284e08a73ba3_icgraph" id="usb__pd__ptn5110__connect_8c_ad55a4f79062b33d94bd7284e08a73ba3_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a365742e7fe65b04a258288d01dc787e1" title="USB_RAM_ADDRESS_ALIGNMENT" alt="" coords="264,12,509,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab94dc6e083ed76c5ff0dda5e184ee592"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertRdAttached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>usedCC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>detectWay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert and monitor Rd in unattached state. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">/* Disable CC_Status change alert when sinking */</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">/* note: Current Advertisement comes from CC_STATUS alert, So we cannot disable the CC_STATUS alert if we need to */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">/* detect the current advertisement change when sinking VBUS */</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">/* PDPTN5110_IntcIrqDisable(ptn5110Instance, TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK); */</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">/* Just the connected pull down */</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                  (usedCC == <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a>) ? ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a>) :</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                                        ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a>));</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">/* Enable AutoDischarge after connection */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> == <a class="code" href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896">kVbusPower_Stable</a>)</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, power_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                           (1 &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#ad83d6cafaf5aec3f51d02467064096e9">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</a>));</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    }</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:873</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aa594b019548753b279b058071e537257"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">__pd_phy_tcpc_instance_::pwrInProgress</a></div><div class="ttdeci">volatile uint8_t pwrInProgress</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:235</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:889</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:872</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:59</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:888</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896"><div class="ttname"><a href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896">kVbusPower_Stable</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:712</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ad83d6cafaf5aec3f51d02467064096e9"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ad83d6cafaf5aec3f51d02467064096e9">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:289</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ab94dc6e083ed76c5ff0dda5e184ee592_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ab94dc6e083ed76c5ff0dda5e184ee592_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ab94dc6e083ed76c5ff0dda5e184ee592_icgraph" id="usb__pd__ptn5110__connect_8c_ab94dc6e083ed76c5ff0dda5e184ee592_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="261,12,445,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="494,12,639,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a50ff250867f55687d57baa1c76315239"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertRdDbgAccSnk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert and monitor Rd as DTS sink. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;{</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">/* pull down both pins, one to Rd and the other to Ra (except TCPC cannot pull down to Ra) */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                  ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a>));</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:872</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:888</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a50ff250867f55687d57baa1c76315239_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a50ff250867f55687d57baa1c76315239_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a50ff250867f55687d57baa1c76315239_icgraph" id="usb__pd__ptn5110__connect_8c_a50ff250867f55687d57baa1c76315239_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="261,12,445,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="494,12,639,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8c56e52ddbb1fbb4d9fc09d36fe49a73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertRdUnattached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert and monitor Rd in unattached state. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">/* pull down both pins */</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                  ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a>));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea789822d846e607cdfaebdbd1f18d1a4b">ROLE_CONTROL_CC2_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:872</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6ad1971cd6098f4e7f699ba5bbf0b522e2">ROLE_CONTROL_CC1_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:888</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a8c56e52ddbb1fbb4d9fc09d36fe49a73_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a8c56e52ddbb1fbb4d9fc09d36fe49a73_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a8c56e52ddbb1fbb4d9fc09d36fe49a73_icgraph" id="usb__pd__ptn5110__connect_8c_a8c56e52ddbb1fbb4d9fc09d36fe49a73_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a365742e7fe65b04a258288d01dc787e1" title="USB_RAM_ADDRESS_ALIGNMENT" alt="" coords="261,12,507,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0679fd98bbeb52b3046805a304939aaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertRpAttached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>usedCC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rpCfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert and monitor Rp. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Called from both EC and CLP task contexts </dd></dl>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;{</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    uint8_t powerControl = 0;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">/* Map from configuiration table values to Rp_Value_t value in roleControl */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    uint8_t cfgRpMap[3] = {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda2c21b21cb1f3495b95b672e49d917827">ROLE_CONTROL_RP_DEFAULT</a>,    <span class="comment">/*USBPD_CURLIM_STD_USB*/</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda20ed779255b1efa331f40861592ac627">ROLE_CONTROL_RP_VALUE_RP_1</a>, <span class="comment">/*USBPD_CURLIM_1A5*/</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <a class="code" href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805cedaaec4ee49c6ff871850886150f5706001">ROLE_CONTROL_RP_VALUE_RP_3</a>, <span class="comment">/*USBPD_CURLIM_3A*/</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    };</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">/* Set Rp &amp; Rp current value */</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        uint8_t rpSel = cfgRpMap[rpCfg - 1];</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <span class="keywordflow">if</span> (usedCC == <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a>)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                          (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a> | rpSel);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                          (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a> | rpSel);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> != <a class="code" href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896">kVbusPower_Stable</a>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        powerControl = <a class="code" href="usb__pd__ptn5110__register_8h.html#aa13de5eedb2ee0fd09b72c543268ec9e">TCPC_POWER_CONTROL_DISABLE_VOLTAGE_ALARMS_MASK</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        powerControl =</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            (<a class="code" href="usb__pd__ptn5110__register_8h.html#aa13de5eedb2ee0fd09b72c543268ec9e">TCPC_POWER_CONTROL_DISABLE_VOLTAGE_ALARMS_MASK</a> | <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="comment">/* Enable DisableVoltageAlarms and AutoDischarge after connection */</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, power_control, powerControl, powerControl);</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:873</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aa594b019548753b279b058071e537257"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">__pd_phy_tcpc_instance_::pwrInProgress</a></div><div class="ttdeci">volatile uint8_t pwrInProgress</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:235</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aa13de5eedb2ee0fd09b72c543268ec9e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aa13de5eedb2ee0fd09b72c543268ec9e">TCPC_POWER_CONTROL_DISABLE_VOLTAGE_ALARMS_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_DISABLE_VOLTAGE_ALARMS_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:287</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9e61abdadcb5d3299b5d98536e805cedaaec4ee49c6ff871850886150f5706001"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805cedaaec4ee49c6ff871850886150f5706001">ROLE_CONTROL_RP_VALUE_RP_3</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:857</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:889</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:887</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:871</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:59</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9e61abdadcb5d3299b5d98536e805ceda20ed779255b1efa331f40861592ac627"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda20ed779255b1efa331f40861592ac627">ROLE_CONTROL_RP_VALUE_RP_1</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:856</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9e61abdadcb5d3299b5d98536e805ceda2c21b21cb1f3495b95b672e49d917827"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda2c21b21cb1f3495b95b672e49d917827">ROLE_CONTROL_RP_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:855</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896"><div class="ttname"><a href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896">kVbusPower_Stable</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:712</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a0679fd98bbeb52b3046805a304939aaa_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a0679fd98bbeb52b3046805a304939aaa_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a0679fd98bbeb52b3046805a304939aaa_icgraph" id="usb__pd__ptn5110__connect_8c_a0679fd98bbeb52b3046805a304939aaa_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="261,12,445,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="494,12,639,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6d7f033cf50fdc8a29caff893219629a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertRpDbgAccSrc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert and monitor Rp as DTS source. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;{</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">/* Both Rp pull ups, one at Rp3.0 and one at Rp1.5 */</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">/* (but there is no way in TCPC to set different RP strengths) */</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                  ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a>));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:887</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:871</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a6d7f033cf50fdc8a29caff893219629a_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a6d7f033cf50fdc8a29caff893219629a_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a6d7f033cf50fdc8a29caff893219629a_icgraph" id="usb__pd__ptn5110__connect_8c_a6d7f033cf50fdc8a29caff893219629a_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="261,12,445,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="494,12,639,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04e4e22845301da2fa5e7555f9f59ba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAssertRpUnattached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>srcRp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assert and monitor Rp in unattached state. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;{</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">/* Both Rp pull ups */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a>) | (srcRp &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#af1326986d5bf1439be095b2964d64b57">TCPC_ROLE_CONTROL_RP_VALUE_LSB</a>));</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:887</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:871</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_af1326986d5bf1439be095b2964d64b57"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#af1326986d5bf1439be095b2964d64b57">TCPC_ROLE_CONTROL_RP_VALUE_LSB</a></div><div class="ttdeci">#define TCPC_ROLE_CONTROL_RP_VALUE_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:253</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a04e4e22845301da2fa5e7555f9f59ba0_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a04e4e22845301da2fa5e7555f9f59ba0_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a04e4e22845301da2fa5e7555f9f59ba0_icgraph" id="usb__pd__ptn5110__connect_8c_a04e4e22845301da2fa5e7555f9f59ba0_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a365742e7fe65b04a258288d01dc787e1" title="USB_RAM_ADDRESS_ALIGNMENT" alt="" coords="261,12,507,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af57d909893f710a05924c70ee0a4d1a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectAudioAccessoryAttached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set CC to monitor for accessory disconnection on CC1. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    uint8_t cc1Orcc2 = (cc == <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a>) ? ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a>) :</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                                         ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a>);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control, cc1Orcc2);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:873</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:889</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:887</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:871</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:59</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_af57d909893f710a05924c70ee0a4d1a5_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_af57d909893f710a05924c70ee0a4d1a5_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_af57d909893f710a05924c70ee0a4d1a5_icgraph" id="usb__pd__ptn5110__connect_8c_af57d909893f710a05924c70ee0a4d1a5_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="301,12,485,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="534,12,679,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a45f7e996505f2487f22397d4f18b70fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t PDPTN5110_ConnectCompareCcVoltage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare the CC line voltage to determine the orientation. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>only for DebugAccSnk </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;0 cc1 voltage &gt; cc2 voltage =0 (cc1 voltage == cc2 voltage) or (any of the cc1 is not connected) &lt;0 cc1 voltage &lt; cc2 voltage For DBG accessory. </dd></dl>
<div class="fragment"><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    uint8_t ccStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CC_STATUS, cc_status);</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    uint8_t cc2State = <a class="code" href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a>(ccStatus, CC_STATUS, CC2_STATE);</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    uint8_t cc1State = <a class="code" href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a>(ccStatus, CC_STATUS, CC1_STATE);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> ((cc1State != <a class="code" href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960">kCurrent_Invalid</a>) &amp;&amp; (cc2State != <a class="code" href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960">kCurrent_Invalid</a>))</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    {</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <span class="keywordflow">return</span> cc1State - cc2State;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;}</div>
<div class="ttc" id="group__usb__pd__stack_html_ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960"><div class="ttname"><a href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960">kCurrent_Invalid</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:257</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a4c72b463345eebcb1c15dc920386d4fe"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a></div><div class="ttdeci">#define TcpcReadField(VALUE, REG_NAME, FIELD_NAME)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:88</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a45f7e996505f2487f22397d4f18b70fe_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a45f7e996505f2487f22397d4f18b70fe_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a45f7e996505f2487f22397d4f18b70fe_icgraph" id="usb__pd__ptn5110__connect_8c_a45f7e996505f2487f22397d4f18b70fe_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="259,12,405,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21ff53f5b949eac37e29c4942c51a315"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectDbgAccSnkAttached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set register when dbg acc sink is attached. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">/* Note: Don&#39;t change Role Control, CC line should be kept as Rd/Rd when working at Dbg Acc sink state */</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">/* Enable AutoDischarge after connection */</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, power_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                       (1 &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#ad83d6cafaf5aec3f51d02467064096e9">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</a>));</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a>, <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, power_control));</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a44780576115e54b36970c33d085ff76d"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a></div><div class="ttdeci">#define ADDR_power_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1424</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ad83d6cafaf5aec3f51d02467064096e9"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ad83d6cafaf5aec3f51d02467064096e9">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:289</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_cgraph" id="usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="277,31,432,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="480,23,669,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="725,5,870,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="718,56,877,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_icgraph" id="usb__pd__ptn5110__connect_8c_a21ff53f5b949eac37e29c4942c51a315_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="277,12,461,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="510,12,655,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac845e3e6c969e18371e948c8190123d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectDbgAccSrcAttached </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set register when dbg acc source is attached. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">/* Note: Don&#39;t change Role Control, CC line should be kept as Rp/Rp when working at Dbg Acc source state */</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">/* Enable AutoDischarge after connection */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, power_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                       (1 &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#ad83d6cafaf5aec3f51d02467064096e9">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</a>));</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a>, <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, power_control));</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a44780576115e54b36970c33d085ff76d"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a></div><div class="ttdeci">#define ADDR_power_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1424</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ad83d6cafaf5aec3f51d02467064096e9"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ad83d6cafaf5aec3f51d02467064096e9">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:289</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_cgraph" id="usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="272,31,427,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="475,23,664,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="719,5,865,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="713,56,871,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_icgraph" id="usb__pd__ptn5110__connect_8c_ac845e3e6c969e18371e948c8190123d2_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="272,12,456,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="505,12,650,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6626302ba190e99a55b7242f90fd2873"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectDetachOrDisableCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when connection is detached or disabled (enter into detach or disable state, so put in the PD_PHY_RESET_CONNECT_DETECTION) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">/* need to disable Vbus monitor when detached */</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a7d062e29ec69d7d2e139f87d0450da2b">PDPTN5110_VbusDisableMonitorAndDetect</a>(ptn5110Instance);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">/* Disable AutoDischarge before waiting for connection */</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a>(ptn5110Instance, CONTROL, power_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                           0);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">/* need to stop BIST Test Data mode when detached */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aad3c9ce4cbeb9feae002869320f59c43">tcpcRegCache</a>.<a class="code" href="structpd__phy__TCPC__reg__cache__t.html#a62952ade18c2ee72f74d53efa4f99378">CONTROL</a>.<a class="code" href="structpd__phy__TCPC__reg__cache__t.html#a8271f0587de98c5504df7e2bc489835d">tcpc_control</a> &amp;= ~(<a class="code" href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#ae3ccca921b7e3aeb0f01c1f69581c3a3">REG_CLR_BIT</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a>, <a class="code" href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a>);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">/* reenable CC_Status change alert */</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990">PDPTN5110_IntcIrqClearAndEnable</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a6024dac3160698c7e906e3ced36c0c14">TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;}</div>
<div class="ttc" id="structpd__phy__TCPC__reg__cache__t_html_a8271f0587de98c5504df7e2bc489835d"><div class="ttname"><a href="structpd__phy__TCPC__reg__cache__t.html#a8271f0587de98c5504df7e2bc489835d">pd_phy_TCPC_reg_cache_t::tcpc_control</a></div><div class="ttdeci">uint8_t tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:157</div></div>
<div class="ttc" id="structpd__phy__TCPC__reg__cache__t_html_a62952ade18c2ee72f74d53efa4f99378"><div class="ttname"><a href="structpd__phy__TCPC__reg__cache__t.html#a62952ade18c2ee72f74d53efa4f99378">pd_phy_TCPC_reg_cache_t::CONTROL</a></div><div class="ttdeci">struct pd_phy_TCPC_reg_cache_t::@27 CONTROL</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a90e68fcc68e250295e83aa79a79ffe10"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a></div><div class="ttdeci">#define REG_CACHE_MODIFY_FIELD(ptn5110Instance, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:335</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a6024dac3160698c7e906e3ced36c0c14"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a6024dac3160698c7e906e3ced36c0c14">TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</a></div><div class="ttdeci">#define TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:155</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a89aac5fc25777f43c58415e411e818b1"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a></div><div class="ttdeci">#define ADDR_tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1421</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aad3c9ce4cbeb9feae002869320f59c43"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aad3c9ce4cbeb9feae002869320f59c43">__pd_phy_tcpc_instance_::tcpcRegCache</a></div><div class="ttdeci">pd_phy_TCPC_reg_cache_t tcpcRegCache</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:209</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a7d062e29ec69d7d2e139f87d0450da2b"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a7d062e29ec69d7d2e139f87d0450da2b">PDPTN5110_VbusDisableMonitorAndDetect</a></div><div class="ttdeci">void PDPTN5110_VbusDisableMonitorAndDetect(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Disable Vbus monitor and detect. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:316</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ae3ccca921b7e3aeb0f01c1f69581c3a3"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ae3ccca921b7e3aeb0f01c1f69581c3a3">REG_CLR_BIT</a></div><div class="ttdeci">#define REG_CLR_BIT(ptn5110Instance, reg, field)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:310</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a246e6a17444329c822ca5d5996119184"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a></div><div class="ttdeci">#define TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:242</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_abd805633921ee7371cf2b2b90774e990"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990">PDPTN5110_IntcIrqClearAndEnable</a></div><div class="ttdeci">void PDPTN5110_IntcIrqClearAndEnable(pd_phy_ptn5110_instance_t *ptn5110Instance, uint16_t mask)</div><div class="ttdoc">Clear and enable external interrupt. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:614</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_cgraph" id="usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a7d062e29ec69d7d2e139f87d0450da2b" title="Disable Vbus monitor and detect. " alt="" coords="262,23,482,65"/><area shape="rect" id="node7" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990" title="Clear and enable external interrupt. " alt="" coords="275,89,469,130"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="531,31,685,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="733,23,923,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="978,5,1123,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="971,56,1130,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_icgraph" id="usb__pd__ptn5110__connect_8c_a6626302ba190e99a55b7242f90fd2873_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="262,12,407,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae08e54c5c0945d6f40e0dde03d9cca41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectDisableAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set CC to Z and disable comparators. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">/* Clear terminations */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                  ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a>));</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <span class="comment">// Disable AutoDischarge before waiting for connection</span></div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="usb__pd__ptn5110__connect_8c.html#ae176a3f90e065c327a147a07c4b05885">PDPTN5110_ConnectReleasePowerControl</a>(ptn5110Instance);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:873</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_ae176a3f90e065c327a147a07c4b05885"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#ae176a3f90e065c327a147a07c4b05885">PDPTN5110_ConnectReleasePowerControl</a></div><div class="ttdeci">void PDPTN5110_ConnectReleasePowerControl(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Callback when connection is detached or disabled (unused, I think the original code use this error) ...</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:67</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:889</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_cgraph" id="usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#ae176a3f90e065c327a147a07c4b05885" title="Callback when connection is detached or disabled (unused, I think the original code use this error) ..." alt="" coords="264,23,464,65"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="512,31,667,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="715,23,904,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="959,5,1105,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="953,56,1111,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_icgraph" id="usb__pd__ptn5110__connect_8c_ae08e54c5c0945d6f40e0dde03d9cca41_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="277,5,398,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="265,56,410,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2a4db861a676fce36fbfe7019f83212f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectDisableComparators </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>disble CC monitor temoporarily after disconnection (put in the PD_PHY_RESET_CONNECT_DETECTION, original codes call this in TYPEC_TRY_SRC, TYPEC_TRY_SNK, TYPEC_TRY_WAIT_SRC too) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;{</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">/* TODO */</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a2a4db861a676fce36fbfe7019f83212f_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a2a4db861a676fce36fbfe7019f83212f_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a2a4db861a676fce36fbfe7019f83212f_icgraph" id="usb__pd__ptn5110__connect_8c_a2a4db861a676fce36fbfe7019f83212f_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="251,12,397,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a34b274ef814628d8ab8d9a7f1070360e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectEnableTypeCConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable interrupts for connection. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Only called from CLP task context (call one time in the task, so put in the init function) </dd></dl>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="comment">/* reenable CC_Status change alert */</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990">PDPTN5110_IntcIrqClearAndEnable</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a6024dac3160698c7e906e3ced36c0c14">TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a6024dac3160698c7e906e3ced36c0c14"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a6024dac3160698c7e906e3ced36c0c14">TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</a></div><div class="ttdeci">#define TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:155</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_abd805633921ee7371cf2b2b90774e990"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990">PDPTN5110_IntcIrqClearAndEnable</a></div><div class="ttdeci">void PDPTN5110_IntcIrqClearAndEnable(pd_phy_ptn5110_instance_t *ptn5110Instance, uint16_t mask)</div><div class="ttdoc">Clear and enable external interrupt. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:614</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_cgraph" id="usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990" title="Clear and enable external interrupt. " alt="" coords="275,5,469,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_icgraph" id="usb__pd__ptn5110__connect_8c_a34b274ef814628d8ab8d9a7f1070360e_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="275,12,397,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4b4cd7c31c2532a3b1b03b7d060c3aff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectGetCC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__pd__phy__drv.html#gaad64c8a6c58f68d58feedd48b49778bd">pd_phy_get_cc_state_t</a> *&#160;</td>
          <td class="paramname"><em>ccStates</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the current pin state for a given CC pin. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Only called from CLP task </dd></dl>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    uint8_t cc1Status;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    uint8_t cc2Status;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    uint8_t roleControl = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, role_control);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    uint8_t rawStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CC_STATUS, cc_status);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">// Question: check cc filter timer是否在工作, cc filter的作用是什么？</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">// 用来保证CC status被正确获取，是最新的status？</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="usb__pd__timer_8c.html#a3d4072fbbc7b10a05c795eaf9ed33f5f">PD_TimerCheckInvalidOrTimeOut</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fac01b412f395a7e02591756ce3d743ade">timrCCFilter</a>))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (rawStatus == 0xFFu)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847">PDPTN5110_RegCacheSynC</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110_8h.html#a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3">kRegModule_CCStatus</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="comment">/* ptn5110Instance-&gt;ccStatusNoChangeTime = 0; */</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#if 0</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (rawStatus != ptn5110Instance-&gt;ccPrevStatus)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        ptn5110Instance-&gt;ccPrevStatus = rawStatus;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        ptn5110Instance-&gt;ccStatusNoChangeTime = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        ptn5110Instance-&gt;ccStatusNoChangeTime++;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;ccStatusNoChangeTime &gt;= 50)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        ptn5110Instance-&gt;ccStatusNoChangeTime = 0;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847">PDPTN5110_RegCacheSynC</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110_8h.html#a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3">kRegModule_CCStatus</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    rawStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CC_STATUS, cc_status);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    cc1Status = rawStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a635d8d080b381b13439565e61ea106ee">TCPC_CC_STATUS_CC1_STATE_MASK</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    cc2Status = rawStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#ac388ecb31db15cb050911f8d7ae14a81">TCPC_CC_STATUS_CC2_STATE_MASK</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">/* If we are still looking, then just use the previous value */</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (rawStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#af1b0ebc02da1abca4208d91a13934e12">TCPC_CC_STATUS_LOOKING4_CONNECTION_MASK</a>)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (rawStatus == 0xFFu)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaab679c126401ef34d37b0807109669dcf">kCCState_Unstable</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaab679c126401ef34d37b0807109669dcf">kCCState_Unstable</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="comment">// 0 -&gt; Rp, 1 -&gt; Rd</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">if</span> (!(rawStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#ab004c0d3bb1f6f6ade40ef649dcd6999">TCPC_CC_STATUS_CONNECT_RESULT_MASK</a>)) <span class="comment">/* Rp for Source */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">// cc1 disconnect or don&#39;t care</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">if</span> ((roleControl &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a1ad26aaaf48668f390e6a651dd4920d4">TCPC_ROLE_CONTROL_CC1_MASK</a>) == <a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">switch</span> (cc1Status)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            {</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="usb__pd__ptn5110__register_8h.html#a751518215f843f27341f3ba60f792a3fa225be0330fc54716895751c3bccd9cc3">CC_STATUS_CC1_STATE_SRC_OPEN</a>:</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaac26b04a9aef09cf82b2b01c5d775ad40">kCCState_SrcOpen</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="usb__pd__ptn5110__register_8h.html#a751518215f843f27341f3ba60f792a3fa5854f31101d3d453b3c883923585b585">CC_STATUS_CC1_STATE_SRC_RA</a>:</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaab1f4f45b18f4f5729a23ef05ba9c741d">kCCState_SrcRa</a>;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="usb__pd__ptn5110__register_8h.html#a751518215f843f27341f3ba60f792a3fadd92a9baea71a3bd84a4e9db7c3486eb">CC_STATUS_CC1_STATE_SRC_RD</a>:</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaaa412476134fd446143c0e7275b5c329f">kCCState_SrcRd</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">cc1State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span> ((roleControl &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#ae2705a7862594049fc1f95639ab6dc14">TCPC_ROLE_CONTROL_CC2_MASK</a>) == <a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">switch</span> (cc2Status)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="usb__pd__ptn5110__register_8h.html#aecef9d9f19116420b1e2828d78d7ca3da958ec69df304e3d774b48d9f63f0eb7c">CC_STATUS_CC2_STATE_SRC_OPEN</a>:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaac26b04a9aef09cf82b2b01c5d775ad40">kCCState_SrcOpen</a>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="usb__pd__ptn5110__register_8h.html#aecef9d9f19116420b1e2828d78d7ca3daa3f8b1fb4feb7422e32932c21c82cf52">CC_STATUS_CC2_STATE_SRC_RA</a>:</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaab1f4f45b18f4f5729a23ef05ba9c741d">kCCState_SrcRa</a>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="usb__pd__ptn5110__register_8h.html#aecef9d9f19116420b1e2828d78d7ca3da58b888f9975aa22a1c947cbe5fe5a79e">CC_STATUS_CC2_STATE_SRC_RD</a>:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaaa412476134fd446143c0e7275b5c329f">kCCState_SrcRd</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    ccStates-&gt;<a class="code" href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">cc2State</a> = <a class="code" href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:873</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ab004c0d3bb1f6f6ade40ef649dcd6999"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ab004c0d3bb1f6f6ade40ef649dcd6999">TCPC_CC_STATUS_CONNECT_RESULT_MASK</a></div><div class="ttdeci">#define TCPC_CC_STATUS_CONNECT_RESULT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:311</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga09172da56b484f99a2ee891e75882faaaa412476134fd446143c0e7275b5c329f"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaaa412476134fd446143c0e7275b5c329f">kCCState_SrcRd</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:68</div></div>
<div class="ttc" id="struct__pd__phy__get__cc__state_html_a551804e47b7f897e9e4ca61e0af9caf3"><div class="ttname"><a href="struct__pd__phy__get__cc__state.html#a551804e47b7f897e9e4ca61e0af9caf3">_pd_phy_get_cc_state::cc1State</a></div><div class="ttdeci">uint8_t cc1State</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:308</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aecef9d9f19116420b1e2828d78d7ca3da958ec69df304e3d774b48d9f63f0eb7c"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aecef9d9f19116420b1e2828d78d7ca3da958ec69df304e3d774b48d9f63f0eb7c">CC_STATUS_CC2_STATE_SRC_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:916</div></div>
<div class="ttc" id="struct__pd__phy__get__cc__state_html_af32a14cc7bbfad052b927f765176aac8"><div class="ttname"><a href="struct__pd__phy__get__cc__state.html#af32a14cc7bbfad052b927f765176aac8">_pd_phy_get_cc_state::cc2State</a></div><div class="ttdeci">uint8_t cc2State</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:310</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga09172da56b484f99a2ee891e75882faaab1f4f45b18f4f5729a23ef05ba9c741d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaab1f4f45b18f4f5729a23ef05ba9c741d">kCCState_SrcRa</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:70</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ac32468695e40e122402f73f58e2b2883"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">__pd_phy_tcpc_instance_::pdHandle</a></div><div class="ttdeci">pd_handle pdHandle</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:206</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga09172da56b484f99a2ee891e75882faaac26b04a9aef09cf82b2b01c5d775ad40"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaac26b04a9aef09cf82b2b01c5d775ad40">kCCState_SrcOpen</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:66</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ae2705a7862594049fc1f95639ab6dc14"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ae2705a7862594049fc1f95639ab6dc14">TCPC_ROLE_CONTROL_CC2_MASK</a></div><div class="ttdeci">#define TCPC_ROLE_CONTROL_CC2_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:257</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a751518215f843f27341f3ba60f792a3fa225be0330fc54716895751c3bccd9cc3"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a751518215f843f27341f3ba60f792a3fa225be0330fc54716895751c3bccd9cc3">CC_STATUS_CC1_STATE_SRC_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:947</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a1ad26aaaf48668f390e6a651dd4920d4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a1ad26aaaf48668f390e6a651dd4920d4">TCPC_ROLE_CONTROL_CC1_MASK</a></div><div class="ttdeci">#define TCPC_ROLE_CONTROL_CC1_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:260</div></div>
<div class="ttc" id="usb__pd__timer_8c_html_a3d4072fbbc7b10a05c795eaf9ed33f5f"><div class="ttname"><a href="usb__pd__timer_8c.html#a3d4072fbbc7b10a05c795eaf9ed33f5f">PD_TimerCheckInvalidOrTimeOut</a></div><div class="ttdeci">uint8_t PD_TimerCheckInvalidOrTimeOut(pd_handle pdHandle, uint8_t timrName)</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.c:115</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aecef9d9f19116420b1e2828d78d7ca3da58b888f9975aa22a1c947cbe5fe5a79e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aecef9d9f19116420b1e2828d78d7ca3da58b888f9975aa22a1c947cbe5fe5a79e">CC_STATUS_CC2_STATE_SRC_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:918</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac388ecb31db15cb050911f8d7ae14a81"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac388ecb31db15cb050911f8d7ae14a81">TCPC_CC_STATUS_CC2_STATE_MASK</a></div><div class="ttdeci">#define TCPC_CC_STATUS_CC2_STATE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:314</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a751518215f843f27341f3ba60f792a3fa5854f31101d3d453b3c883923585b585"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a751518215f843f27341f3ba60f792a3fa5854f31101d3d453b3c883923585b585">CC_STATUS_CC1_STATE_SRC_RA</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:948</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:889</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a635d8d080b381b13439565e61ea106ee"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a635d8d080b381b13439565e61ea106ee">TCPC_CC_STATUS_CC1_STATE_MASK</a></div><div class="ttdeci">#define TCPC_CC_STATUS_CC1_STATE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:317</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaad9c10479d9b8c3ead23386b15c857458">kCCState_Unknown</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:76</div></div>
<div class="ttc" id="usb__pd__timer_8h_html_a94e23fe7d4bf2bf6f8de1f51126d071fac01b412f395a7e02591756ce3d743ade"><div class="ttname"><a href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fac01b412f395a7e02591756ce3d743ade">timrCCFilter</a></div><div class="ttdef"><b>Definition:</b> usb_pd_timer.h:75</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga09172da56b484f99a2ee891e75882faaab679c126401ef34d37b0807109669dcf"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga09172da56b484f99a2ee891e75882faaab679c126401ef34d37b0807109669dcf">kCCState_Unstable</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:81</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aecef9d9f19116420b1e2828d78d7ca3daa3f8b1fb4feb7422e32932c21c82cf52"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aecef9d9f19116420b1e2828d78d7ca3daa3f8b1fb4feb7422e32932c21c82cf52">CC_STATUS_CC2_STATE_SRC_RA</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:917</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3">kRegModule_CCStatus</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:104</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_af1b0ebc02da1abca4208d91a13934e12"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#af1b0ebc02da1abca4208d91a13934e12">TCPC_CC_STATUS_LOOKING4_CONNECTION_MASK</a></div><div class="ttdeci">#define TCPC_CC_STATUS_LOOKING4_CONNECTION_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:308</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a751518215f843f27341f3ba60f792a3fadd92a9baea71a3bd84a4e9db7c3486eb"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a751518215f843f27341f3ba60f792a3fadd92a9baea71a3bd84a4e9db7c3486eb">CC_STATUS_CC1_STATE_SRC_RD</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:949</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_af840718cd0f3de58b800010cde92e847"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847">PDPTN5110_RegCacheSynC</a></div><div class="ttdeci">void PDPTN5110_RegCacheSynC(pd_phy_ptn5110_instance_t *ptn5110Instance, uint16_t mask)</div><div class="ttdoc">Read the remote registers to local buffer. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:88</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_cgraph" id="usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_cgraph">
<area shape="rect" id="node2" href="usb__pd__timer_8c.html#a3d4072fbbc7b10a05c795eaf9ed33f5f" title="PD_TimerCheckInvalidOrTimeOut" alt="" coords="248,5,469,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847" title="Read the remote registers to local buffer. " alt="" coords="259,56,458,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_icgraph" id="usb__pd__ptn5110__connect_8c_a4b4cd7c31c2532a3b1b03b7d060c3aff_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="249,5,394,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93f18c15d8ac2bccfec8a5b0dde20bd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PDPTN5110_ConnectGetTypeCCurrent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>usedCC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the current current limit. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;{</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    uint8_t typecCurrent = <a class="code" href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960">kCurrent_Invalid</a>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    uint8_t ccStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CC_STATUS, cc_status);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">/* Update Typec Current status only when connectionresult shows we&#39;re presenting Rd */</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">if</span> (ccStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#ab004c0d3bb1f6f6ade40ef649dcd6999">TCPC_CC_STATUS_CONNECT_RESULT_MASK</a>)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        typecCurrent = (usedCC == <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a>) ? <a class="code" href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a>(ccStatus, CC_STATUS, CC2_STATE) :</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                                             <a class="code" href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a>(ccStatus, CC_STATUS, CC1_STATE);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="preprocessor">#if defined(PD_CONFIG_PD3_AMS_COLLISION_AVOID_ENABLE) &amp;&amp; (PD_CONFIG_PD3_AMS_COLLISION_AVOID_ENABLE)</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="preprocessor"></span>    <span class="keywordflow">if</span> (typecCurrent == <a class="code" href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ead84bbcae527b6cfc2e9a5fd96648af74">kCurrent_1A5</a>)</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a68e310d1771e6f32f6d1b1b9f5c00aa8">amsSinkTxOK</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    }</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    {</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a68e310d1771e6f32f6d1b1b9f5c00aa8">amsSinkTxOK</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="keywordflow">return</span> typecCurrent;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ab004c0d3bb1f6f6ade40ef649dcd6999"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ab004c0d3bb1f6f6ade40ef649dcd6999">TCPC_CC_STATUS_CONNECT_RESULT_MASK</a></div><div class="ttdeci">#define TCPC_CC_STATUS_CONNECT_RESULT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:311</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960"><div class="ttname"><a href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ea6a78d430fc49679cceb7e12ca7a8c960">kCurrent_Invalid</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:257</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a68e310d1771e6f32f6d1b1b9f5c00aa8"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a68e310d1771e6f32f6d1b1b9f5c00aa8">__pd_phy_tcpc_instance_::amsSinkTxOK</a></div><div class="ttdeci">uint8_t amsSinkTxOK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:233</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a4c72b463345eebcb1c15dc920386d4fe"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a></div><div class="ttdeci">#define TcpcReadField(VALUE, REG_NAME, FIELD_NAME)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:88</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:59</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaf956bb4d3d27df52fb694311b8219b0ead84bbcae527b6cfc2e9a5fd96648af74"><div class="ttname"><a href="group__usb__pd__stack.html#ggaf956bb4d3d27df52fb694311b8219b0ead84bbcae527b6cfc2e9a5fd96648af74">kCurrent_1A5</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:259</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a93f18c15d8ac2bccfec8a5b0dde20bd6_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a93f18c15d8ac2bccfec8a5b0dde20bd6_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a93f18c15d8ac2bccfec8a5b0dde20bd6_icgraph" id="usb__pd__ptn5110__connect_8c_a93f18c15d8ac2bccfec8a5b0dde20bd6_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="257,12,402,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0dd9eaa05d32525cd38a9c5e94d11ea3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the hardware for bypass state machine. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;{</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> = <a class="code" href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771babd57680a848fb2ffdfcb7ce62b380348">kVbusPower_Invalid</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="ttc" id="group__usb__pd__stack_html_gga1af9af0106a9413093f8e0d9b796771babd57680a848fb2ffdfcb7ce62b380348"><div class="ttname"><a href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771babd57680a848fb2ffdfcb7ce62b380348">kVbusPower_Invalid</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:710</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aa594b019548753b279b058071e537257"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">__pd_phy_tcpc_instance_::pwrInProgress</a></div><div class="ttdeci">volatile uint8_t pwrInProgress</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:235</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a0dd9eaa05d32525cd38a9c5e94d11ea3_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a0dd9eaa05d32525cd38a9c5e94d11ea3_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a0dd9eaa05d32525cd38a9c5e94d11ea3_icgraph" id="usb__pd__ptn5110__connect_8c_a0dd9eaa05d32525cd38a9c5e94d11ea3_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="225,5,346,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac096caab4176c744ae773ca2e079ada3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectInTcChecKDetacHDurIngHardReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to check for detach during hard reset The CC state change as OPEN when doing hard_reset, set the inProgress as normal state so the normal detach can be detected.  Called from ISR context (do not implement it) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="comment">/* If we see a detach condition during a hard reset, then exit the hard reset condition */</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> == <a class="code" href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771ba08bcf27d29365689235f1a3f6b683a09">kVbusPower_InHardReset</a>)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    {</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        uint8_t ccStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CC_STATUS, cc_status);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordtype">bool</span> orientReverse = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONF_STD_OUT, config_standard_output) &amp;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                             <a class="code" href="usb__pd__ptn5110__register_8h.html#a58f12313252d1e2624f672322fdf3d11">TCPC_CONFIGURE_STANDARD_OUTPUT_CONNECTOR_ORIENTATION_GPIO0_MASK</a>;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        <span class="comment">/* Check for open condition on the attached CC line */</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">if</span> ((orientReverse ? <a class="code" href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a>(ccStatus, CC_STATUS, CC2_STATE) :</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;                             <a class="code" href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a>(ccStatus, CC_STATUS, CC1_STATE)) == 0)</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="comment">/* ConnectClpSetInProgress(ptn5110Instance, kVbusPower_Stable); */</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        }</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aa594b019548753b279b058071e537257"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">__pd_phy_tcpc_instance_::pwrInProgress</a></div><div class="ttdeci">volatile uint8_t pwrInProgress</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:235</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga1af9af0106a9413093f8e0d9b796771ba08bcf27d29365689235f1a3f6b683a09"><div class="ttname"><a href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771ba08bcf27d29365689235f1a3f6b683a09">kVbusPower_InHardReset</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:714</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a4c72b463345eebcb1c15dc920386d4fe"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a4c72b463345eebcb1c15dc920386d4fe">TcpcReadField</a></div><div class="ttdeci">#define TcpcReadField(VALUE, REG_NAME, FIELD_NAME)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:88</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a58f12313252d1e2624f672322fdf3d11"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a58f12313252d1e2624f672322fdf3d11">TCPC_CONFIGURE_STANDARD_OUTPUT_CONNECTOR_ORIENTATION_GPIO0_MASK</a></div><div class="ttdeci">#define TCPC_CONFIGURE_STANDARD_OUTPUT_CONNECTOR_ORIENTATION_GPIO0_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:230</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ac096caab4176c744ae773ca2e079ada3_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ac096caab4176c744ae773ca2e079ada3_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ac096caab4176c744ae773ca2e079ada3_icgraph" id="usb__pd__ptn5110__connect_8c_ac096caab4176c744ae773ca2e079ada3_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="264,12,467,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="515,12,717,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="766,12,911,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a719232873c71eb8c1ae556668d842007"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectINTcTypeCCurrentStable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to be called when TypeC current sense is stable. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;{</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="comment">/* uint8_t typecCurrent = kCurrent_Invalid; */</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a0a78bbebf4ee073519c2250c856c58da">currentStable</a> = 1;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">    typecCurrent = PDPTN5110_ConnectGetTypeCCurrent(ptn5110Instance, ptn5110Instance-&gt;usedCC);</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<span class="comment">    PD_Notify(ptn5110Instance-&gt;pdHandle, PD_PHY_EVENT_SINK_TYPEC_CURRENT_VALUE, &amp;typecCurrent);</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a0a78bbebf4ee073519c2250c856c58da"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a0a78bbebf4ee073519c2250c856c58da">__pd_phy_tcpc_instance_::currentStable</a></div><div class="ttdeci">volatile uint8_t currentStable</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:234</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a719232873c71eb8c1ae556668d842007_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a719232873c71eb8c1ae556668d842007_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a719232873c71eb8c1ae556668d842007_icgraph" id="usb__pd__ptn5110__connect_8c_a719232873c71eb8c1ae556668d842007_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#a1136effbc01ddeeb75c6e70077fa1fca" title="Update hardware after a power role swap has completed (e.g. read current advert of new source)..." alt="" coords="265,5,487,46"/><area shape="rect" id="node5" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="275,71,477,97"/><area shape="rect" id="node3" href="usb__pd__ptn5110__connect_8c.html#a04c93cf6ac2b690c0837b01fc8b37068" title="Inform the Hardware chip that an activity is in progress. " alt="" coords="536,15,771,41"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="819,41,965,68"/><area shape="rect" id="node6" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="553,67,754,93"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca1a6719003c681f4cf906b31fdfd1cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectRawVbusDischarge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update victoria register and internal state (call through control API interface) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a1e9aed7bc7941100ecbb9c1d96075df0">PDPTN5110_EnableVSafe0VComparator</a>(ptn5110Instance, (enable));</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a>(ptn5110Instance, CONTROL, power_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#a97617deb77f781915fdf23ce42b421cc">TCPC_POWER_CONTROL_FORCE_DISCHARGE_MASK</a>,</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                           (enable == 0) ? (<a class="code" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67">DCHRG_DISABLED</a> &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#a6011d294a8340d37a7c3db92ccc450eb">TCPC_POWER_CONTROL_FORCE_DISCHARGE_LSB</a>) :</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                                           (<a class="code" href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252">DCHRG_ENABLED</a> &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#a6011d294a8340d37a7c3db92ccc450eb">TCPC_POWER_CONTROL_FORCE_DISCHARGE_LSB</a>));</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a90e68fcc68e250295e83aa79a79ffe10"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a></div><div class="ttdeci">#define REG_CACHE_MODIFY_FIELD(ptn5110Instance, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:335</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca17c87e8866acef97f9c220a24f30af67">DCHRG_DISABLED</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:48</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a6011d294a8340d37a7c3db92ccc450eb"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a6011d294a8340d37a7c3db92ccc450eb">TCPC_POWER_CONTROL_FORCE_DISCHARGE_LSB</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_FORCE_DISCHARGE_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:295</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a28187789d766599d2041078b07208b2ca3bd0be49c97113d3cdc11366c124a252">DCHRG_ENABLED</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:49</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a97617deb77f781915fdf23ce42b421cc"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a97617deb77f781915fdf23ce42b421cc">TCPC_POWER_CONTROL_FORCE_DISCHARGE_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_FORCE_DISCHARGE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:296</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a1e9aed7bc7941100ecbb9c1d96075df0"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a1e9aed7bc7941100ecbb9c1d96075df0">PDPTN5110_EnableVSafe0VComparator</a></div><div class="ttdeci">void PDPTN5110_EnableVSafe0VComparator(pd_phy_ptn5110_instance_t *ptn5110Instance, bool discharge)</div><div class="ttdoc">Enable the Vsafe0v analog comparator. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:203</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_cgraph" id="usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a1e9aed7bc7941100ecbb9c1d96075df0" title="Enable the Vsafe0v analog comparator. " alt="" coords="265,12,527,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_icgraph" id="usb__pd__ptn5110__connect_8c_aca1a6719003c681f4cf906b31fdfd1cc_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="264,5,467,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="766,31,911,57"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="515,5,717,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae176a3f90e065c327a147a07c4b05885"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectReleasePowerControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback when connection is detached or disabled (unused, I think the original code use this error) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">/* Disable AutoDischarge before PR Swap, which ensure that the Typec connection state is updated to correct state as</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">/* well */</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, power_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>, 0);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">/* Update POWER_CONTROL immediately when disconnection */</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a>, <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, power_control));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a44780576115e54b36970c33d085ff76d"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a></div><div class="ttdeci">#define ADDR_power_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1424</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_cgraph" id="usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="253,31,408,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="456,23,645,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="701,5,846,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="694,56,853,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_icgraph" id="usb__pd__ptn5110__connect_8c_ae176a3f90e065c327a147a07c4b05885_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#ae08e54c5c0945d6f40e0dde03d9cca41" title="Set CC to Z and disable comparators. " alt="" coords="271,31,481,57"/><area shape="rect" id="node5" href="usb__pd__ptn5110__interface_8c.html#a365742e7fe65b04a258288d01dc787e1" title="USB_RAM_ADDRESS_ALIGNMENT" alt="" coords="253,81,499,108"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="559,5,681,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="547,56,693,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac0f5a2e19ad75f706660e4037af19233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectSetCC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>usedCC</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;{</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a411ad2f7bc90a10a62a5ec1f466a4a97">usedCC</a> = usedCC;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">if</span> (usedCC != <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da38c70fd9b523ca5666dea46ae65119ce">kPD_CCInvalid</a>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="usb__pd__ptn5110__connect_8c.html#a784ca3f7cf79f3df2a26734007ebd767">PDPTN5110_ConnectSWitchCCComms</a>(ptn5110Instance, 1, usedCC);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <a class="code" href="usb__pd__ptn5110__connect_8c.html#a784ca3f7cf79f3df2a26734007ebd767">PDPTN5110_ConnectSWitchCCComms</a>(ptn5110Instance, 0, usedCC);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a411ad2f7bc90a10a62a5ec1f466a4a97"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a411ad2f7bc90a10a62a5ec1f466a4a97">__pd_phy_tcpc_instance_::usedCC</a></div><div class="ttdeci">volatile uint8_t usedCC</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:228</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da38c70fd9b523ca5666dea46ae65119ce"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da38c70fd9b523ca5666dea46ae65119ce">kPD_CCInvalid</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:55</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a784ca3f7cf79f3df2a26734007ebd767"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a784ca3f7cf79f3df2a26734007ebd767">PDPTN5110_ConnectSWitchCCComms</a></div><div class="ttdeci">void PDPTN5110_ConnectSWitchCCComms(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t enable, uint8_t cc)</div><div class="ttdoc">Select the CC line to route to the PHY. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:484</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_cgraph" id="usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#a784ca3f7cf79f3df2a26734007ebd767" title="Select the CC line to route to the PHY. " alt="" coords="245,5,507,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_icgraph" id="usb__pd__ptn5110__connect_8c_ac0f5a2e19ad75f706660e4037af19233_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="246,5,391,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a04c93cf6ac2b690c0837b01fc8b37068"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectSetInProgress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inform the Hardware chip that an activity is in progress. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Called from both ISR and CLP task context </dd></dl>
<div class="fragment"><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;{</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// 如果target state和phy中的state不一致</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> != state)</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;        <span class="comment">// state: reset, swap, change in progress, stable</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">if</span> (state != <a class="code" href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896">kVbusPower_Stable</a>)</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a0a78bbebf4ee073519c2250c856c58da">currentStable</a> = 0;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="comment">/* Disable any automatic disconnection during a swap */</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="comment">// disable automatci discharge when detect disconnect to avoid wrong activities in swap operation</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a>(ptn5110Instance, CONTROL, power_control,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                                   <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>, 0);</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="comment">//如果status to kVbusPower_Stable is in progress</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;        {</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> == <a class="code" href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771bac6be16e80130e6e9909ce3075565f39b">kVbusPower_InPRSwap</a>)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;                ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a0a78bbebf4ee073519c2250c856c58da">currentStable</a> = 1;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;                <span class="comment">// pd power role: sink, source, none</span></div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;                <span class="comment">// 根据role重新初始化alert相关的部分</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                <a class="code" href="usb__pd__ptn5110__connect_8c.html#a1136effbc01ddeeb75c6e70077fa1fca">PDPTN5110_ConnectUpdateAfterPRSwap</a>(ptn5110Instance, ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#af77c96ac21768f2e8a54fad69f97e96f">phyPowerRole</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;            }</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;            <span class="comment">/* Enable automatic disconnection after resuming normal operation */</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="comment">// ADDR_power_control == TCPC_POWER_CONTROL_IDX</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a>(ptn5110Instance, CONTROL, power_control,</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                                   <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>,</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                                   <a class="code" href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a>);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        }</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">pwrInProgress</a> = state;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aa594b019548753b279b058071e537257"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aa594b019548753b279b058071e537257">__pd_phy_tcpc_instance_::pwrInProgress</a></div><div class="ttdeci">volatile uint8_t pwrInProgress</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:235</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a90e68fcc68e250295e83aa79a79ffe10"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a90e68fcc68e250295e83aa79a79ffe10">REG_CACHE_MODIFY_FIELD</a></div><div class="ttdeci">#define REG_CACHE_MODIFY_FIELD(ptn5110Instance, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:335</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a1136effbc01ddeeb75c6e70077fa1fca"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a1136effbc01ddeeb75c6e70077fa1fca">PDPTN5110_ConnectUpdateAfterPRSwap</a></div><div class="ttdeci">void PDPTN5110_ConnectUpdateAfterPRSwap(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t powerRole)</div><div class="ttdoc">Update hardware after a power role swap has completed (e.g. read current advert of new source)...</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:617</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_af77c96ac21768f2e8a54fad69f97e96f"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#af77c96ac21768f2e8a54fad69f97e96f">__pd_phy_tcpc_instance_::phyPowerRole</a></div><div class="ttdeci">uint8_t phyPowerRole</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:231</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac632a47e0b2cb4d648e39c9bd3b7ae92"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac632a47e0b2cb4d648e39c9bd3b7ae92">TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_AUTO_DISCHARGE_DISCONNECT_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:290</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga1af9af0106a9413093f8e0d9b796771bac6be16e80130e6e9909ce3075565f39b"><div class="ttname"><a href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771bac6be16e80130e6e9909ce3075565f39b">kVbusPower_InPRSwap</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:716</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a0a78bbebf4ee073519c2250c856c58da"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a0a78bbebf4ee073519c2250c856c58da">__pd_phy_tcpc_instance_::currentStable</a></div><div class="ttdeci">volatile uint8_t currentStable</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:234</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896"><div class="ttname"><a href="group__usb__pd__stack.html#gga1af9af0106a9413093f8e0d9b796771badc5ad96f1d56cc3354757de9aea78896">kVbusPower_Stable</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:712</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_cgraph" id="usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#a1136effbc01ddeeb75c6e70077fa1fca" title="Update hardware after a power role swap has completed (e.g. read current advert of new source)..." alt="" coords="289,63,511,105"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990" title="Clear and enable external interrupt. " alt="" coords="568,5,763,46"/><area shape="rect" id="node4" href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847" title="Read the remote registers to local buffer. " alt="" coords="566,71,765,97"/><area shape="rect" id="node5" href="usb__pd__ptn5110__connect_8c.html#a719232873c71eb8c1ae556668d842007" title="Callback to be called when TypeC current sense is stable. " alt="" coords="560,122,771,163"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_icgraph" id="usb__pd__ptn5110__connect_8c_a04c93cf6ac2b690c0837b01fc8b37068_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="289,5,434,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4363da28058199bf22cacb67e5824518"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectSrcSetTypecCurrent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>usedCC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;{</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="comment">/* Map from configuiration table values to Rp_Value_t value in roleControl */</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    uint8_t cfgRpMap[3] = {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda2c21b21cb1f3495b95b672e49d917827">ROLE_CONTROL_RP_DEFAULT</a>,    <span class="comment">/*USBPD_CURLIM_STD_USB*/</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <a class="code" href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda20ed779255b1efa331f40861592ac627">ROLE_CONTROL_RP_VALUE_RP_1</a>, <span class="comment">/*USBPD_CURLIM_1A5*/</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <a class="code" href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805cedaaec4ee49c6ff871850886150f5706001">ROLE_CONTROL_RP_VALUE_RP_3</a>, <span class="comment">/*USBPD_CURLIM_3A*/</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    };</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    uint8_t rpSel = cfgRpMap[val - 1];</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">if</span> (usedCC == <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a>)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                      (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a> | rpSel);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    {</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CONTROL, role_control,</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                      (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a> | (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a> | rpSel);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    }</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">/* TODO: will set &quot;look4connection in sync function. */</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea9c2cea9d6b5689f54b1727062452122e">ROLE_CONTROL_CC2_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:873</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9e61abdadcb5d3299b5d98536e805cedaaec4ee49c6ff871850886150f5706001"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805cedaaec4ee49c6ff871850886150f5706001">ROLE_CONTROL_RP_VALUE_RP_3</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:857</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6a30d0d85b8f541087b990b0a2c10cacc6">ROLE_CONTROL_CC1_OPEN</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:889</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9cdc92ee02dbb573642ea7f140b635c6adb96b59af234d90e3e9eb0d69a6221db">ROLE_CONTROL_CC1_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:887</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a62f63b1f1038ed899e1a234979f0239ea13187372e5a608de7c8da848ba4281c4">ROLE_CONTROL_CC2_RP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:871</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:59</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9e61abdadcb5d3299b5d98536e805ceda20ed779255b1efa331f40861592ac627"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda20ed779255b1efa331f40861592ac627">ROLE_CONTROL_RP_VALUE_RP_1</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:856</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9e61abdadcb5d3299b5d98536e805ceda2c21b21cb1f3495b95b672e49d917827"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9e61abdadcb5d3299b5d98536e805ceda2c21b21cb1f3495b95b672e49d917827">ROLE_CONTROL_RP_DEFAULT</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:855</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a4363da28058199bf22cacb67e5824518_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a4363da28058199bf22cacb67e5824518_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a4363da28058199bf22cacb67e5824518_icgraph" id="usb__pd__ptn5110__connect_8c_a4363da28058199bf22cacb67e5824518_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="283,12,429,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a784ca3f7cf79f3df2a26734007ebd767"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectSWitchCCComms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select the CC line to route to the PHY. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>true - Enable commands and route according to cc_orient_reverse false - Disable switch </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (enable)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">if</span> (cc != <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da38c70fd9b523ca5666dea46ae65119ce">kPD_CCInvalid</a>)</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        {</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, tcpc_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ad548e3453940a3d02bb8f7647f29fc97">TCPC_TCPC_CONTROL_PLUG_ORIENTATION_MASK</a>,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                               ((cc == <a class="code" href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a>) &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#ae2ad443f1ebc4f2264e9150cc633a28a">TCPC_TCPC_CONTROL_PLUG_ORIENTATION_LSB</a>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, tcpc_control, <a class="code" href="usb__pd__ptn5110__register_8h.html#ad548e3453940a3d02bb8f7647f29fc97">TCPC_TCPC_CONTROL_PLUG_ORIENTATION_MASK</a>, 0);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ae2ad443f1ebc4f2264e9150cc633a28a"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ae2ad443f1ebc4f2264e9150cc633a28a">TCPC_TCPC_CONTROL_PLUG_ORIENTATION_LSB</a></div><div class="ttdeci">#define TCPC_TCPC_CONTROL_PLUG_ORIENTATION_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:244</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ad548e3453940a3d02bb8f7647f29fc97"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ad548e3453940a3d02bb8f7647f29fc97">TCPC_TCPC_CONTROL_PLUG_ORIENTATION_MASK</a></div><div class="ttdeci">#define TCPC_TCPC_CONTROL_PLUG_ORIENTATION_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:245</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da38c70fd9b523ca5666dea46ae65119ce"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da38c70fd9b523ca5666dea46ae65119ce">kPD_CCInvalid</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:55</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ggab23c0fba94b457218944bc5284d0d08da274bd8ffe2629a7d89fb09b4848e172d">kPD_CC2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:59</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a784ca3f7cf79f3df2a26734007ebd767_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a784ca3f7cf79f3df2a26734007ebd767_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a784ca3f7cf79f3df2a26734007ebd767_icgraph" id="usb__pd__ptn5110__connect_8c_a784ca3f7cf79f3df2a26734007ebd767_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#ac0f5a2e19ad75f706660e4037af19233" title="PDPTN5110_ConnectSetCC" alt="" coords="315,5,507,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="555,5,701,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae7cdb7377bb383beaa0bbe287d3f3405"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectSwitchVConn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select the CC line to route to the VCONN source. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">enable</td><td>true - Enable commands and route according to cc_orient_reverse false - Disable switch </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;{</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    uint8_t vconnSelect =</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        enable ? (<a class="code" href="usb__pd__ptn5110__register_8h.html#a1b637c1942c16ac5b22fcffa10bffd9f">TCPC_POWER_CONTROL_ENABLE_VCONN_MASK</a> | <a class="code" href="usb__pd__ptn5110__register_8h.html#a84ab524c7aa730e7d29121932a81c98a">TCPC_POWER_CONTROL_VCONN_POWER_SUPPORTED_MASK</a>) : 0;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, CONTROL, power_control,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                       <a class="code" href="usb__pd__ptn5110__register_8h.html#a1b637c1942c16ac5b22fcffa10bffd9f">TCPC_POWER_CONTROL_ENABLE_VCONN_MASK</a> | <a class="code" href="usb__pd__ptn5110__register_8h.html#a84ab524c7aa730e7d29121932a81c98a">TCPC_POWER_CONTROL_VCONN_POWER_SUPPORTED_MASK</a>,</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                       vconnSelect);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">/* Enable Vconn must be set after roleControl to ensure there is no overlap */</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a>, <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, power_control));</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a1b637c1942c16ac5b22fcffa10bffd9f"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a1b637c1942c16ac5b22fcffa10bffd9f">TCPC_POWER_CONTROL_ENABLE_VCONN_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_ENABLE_VCONN_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:302</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a84ab524c7aa730e7d29121932a81c98a"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a84ab524c7aa730e7d29121932a81c98a">TCPC_POWER_CONTROL_VCONN_POWER_SUPPORTED_MASK</a></div><div class="ttdeci">#define TCPC_POWER_CONTROL_VCONN_POWER_SUPPORTED_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a44780576115e54b36970c33d085ff76d"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a></div><div class="ttdeci">#define ADDR_power_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1424</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_cgraph" id="usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="285,31,440,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="488,23,677,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="733,5,878,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="726,56,885,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_icgraph" id="usb__pd__ptn5110__connect_8c_ae7cdb7377bb383beaa0bbe287d3f3405_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="286,5,431,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae27fca1a06ebec2028f45dd00e0eff8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectSync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Syncronize hardware to CC state (roleControl, tcpc_control, fault_control, power_control) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;{</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    uint8_t roleControl;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">/* Need to be in normal power mode to write to typec block */</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a95b1b1e119af7cb316f55b340aae2531">PDPTN5110_PwrDoApplyCurState</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#gga71b74b2e350f1841b93c1f894403f85ba0f9bf42a2302492c1b73555ad91b530a">kPhyPower_NormalMode</a>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    roleControl = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, role_control);</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a>,</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                    <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, tcpc_control)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;#<span class="keywordflow">if</span> (defined <a class="code" href="usb__pd__ptn5110_8h.html#a0bc330dd6adc0cb152650b0f88319d26">USBPD_ENABLE_PTN5110_A0R1_WORKAROUNDS</a>) &amp;&amp; (USBPD_ENABLE_PTN5110_A0R1_WORKAROUNDS)</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                        <span class="comment">/* Allow the TCPM to work-around incorrect entry to debug accessory */</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                        | (((<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, GLOBAL, vendor_id) == <a class="code" href="group__usb__pd__stack.html#gab5c70518a449d87b8e044fe35f9794b9">PD_VENDOR_ID_NXP</a>) &amp;&amp;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                            (<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, GLOBAL, product_id) == <a class="code" href="usb__pd__ptn5110_8h.html#adf3515b9e7855268cdfd61832d4c8eb2">PRODUCT_ID_PTN5110</a>) &amp;&amp;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;                            (<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, GLOBAL, device_id) &lt; <a class="code" href="usb__pd__ptn5110_8h.html#a4f3557e678fe998f83b4644e325cccd2">DEVICE_ID_PTN5110_A0R2</a>)) ?</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;                               <a class="code" href="usb__pd__ptn5110__register_8h.html#a521bd087cf76cc296c98ad4ba8cf145b">TCPC_TCPC_CONTROL_DEBUG_ACCESSORY_CONTROL_MASK</a> :</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                               0)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;#endif</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;                        );</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a5b7ca782e1151e94b80a237e369caeb3">ADDR_fault_control</a>, <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, fault_control));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a>)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;    {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, CC_STATUS, cc_status, 0xFF);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <a class="code" href="usb__pd__timer_8c.html#afa3b5394c429c185ea93be16ddb1545f">PD_TimerStart</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fac01b412f395a7e02591756ce3d743ade">timrCCFilter</a>, <a class="code" href="usb__pd__timer_8h.html#ab8b31bf9bd74e3eba53ff71f1b488e64">T_CC_FILTER_MAX</a>);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;<span class="preprocessor">#if (defined USBPD_ENABLE_PTN5110_A0R2_WORKAROUNDS) &amp;&amp; (USBPD_ENABLE_PTN5110_A0R2_WORKAROUNDS)</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">if</span> ((<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, GLOBAL, vendor_id) == <a class="code" href="group__usb__pd__stack.html#gab5c70518a449d87b8e044fe35f9794b9">PD_VENDOR_ID_NXP</a>) &amp;&amp;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            (<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, GLOBAL, product_id) == <a class="code" href="usb__pd__ptn5110_8h.html#adf3515b9e7855268cdfd61832d4c8eb2">PRODUCT_ID_PTN5110</a>) &amp;&amp;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            (<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, GLOBAL, device_id) &lt; <a class="code" href="usb__pd__ptn5110_8h.html#a4f3557e678fe998f83b4644e325cccd2">DEVICE_ID_PTN5110_A0R2</a>))</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="comment">/* If we are starting to toggle, then preset the hardware state machine to the right levels */</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="usb__pd__ptn5110_8h.html#a3f53add6772aaeee3daa6efb52969267">RoleControlIsToggleSrcFirst</a>(roleControl))</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            {</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a4e9acbaadfbfbfbfb3afb6917edbd85f">ADDR_role_control</a>, (roleControl &amp; ~<a class="code" href="usb__pd__ptn5110__register_8h.html#a1cf8f4ed850df9a6b08e2031c094e16e">TCPC_ROLE_CONTROL_DRP_MASK</a>));</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="usb__pd__ptn5110_8h.html#a6ab249ba4ce435ade000545e55d5c650">RoleControlIsToggleSnkFirst</a>(roleControl))</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a4e9acbaadfbfbfbfb3afb6917edbd85f">ADDR_role_control</a>, (roleControl &amp; ~<a class="code" href="usb__pd__ptn5110__register_8h.html#a1cf8f4ed850df9a6b08e2031c094e16e">TCPC_ROLE_CONTROL_DRP_MASK</a>));</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;            {</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;            }</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        }</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a4e9acbaadfbfbfbfb3afb6917edbd85f">ADDR_role_control</a>, roleControl);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    }</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">/* Enable Vconn must be set after roleControl to ensure there is no overlap */</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a>, <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, CONTROL, power_control));</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">/* send Look4connection command when Drp/Rp/Rp or Drp/Rd/Rd */</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> &amp;&amp;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        (<a class="code" href="usb__pd__ptn5110_8h.html#a3f53add6772aaeee3daa6efb52969267">RoleControlIsToggleSrcFirst</a>(roleControl) || <a class="code" href="usb__pd__ptn5110_8h.html#a6ab249ba4ce435ade000545e55d5c650">RoleControlIsToggleSnkFirst</a>(roleControl)))</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#aadd80629bc413c024b52fd14c9e324ae">ADDR_command</a>, <a class="code" href="usb__pd__ptn5110__register_8h.html#a2ba317fb7ded6dcbe6c89ae6d469ce11a3ce8e726f28c3b73aea249f079aeb3bb">TCPC_LOOK4CONNECTION</a>);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">roleControlUpdated</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a4f3557e678fe998f83b4644e325cccd2"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a4f3557e678fe998f83b4644e325cccd2">DEVICE_ID_PTN5110_A0R2</a></div><div class="ttdeci">#define DEVICE_ID_PTN5110_A0R2</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:77</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga71b74b2e350f1841b93c1f894403f85ba0f9bf42a2302492c1b73555ad91b530a"><div class="ttname"><a href="group__usb__pd__stack.html#gga71b74b2e350f1841b93c1f894403f85ba0f9bf42a2302492c1b73555ad91b530a">kPhyPower_NormalMode</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:346</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a5b7ca782e1151e94b80a237e369caeb3"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a5b7ca782e1151e94b80a237e369caeb3">ADDR_fault_control</a></div><div class="ttdeci">#define ADDR_fault_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1423</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ac32468695e40e122402f73f58e2b2883"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">__pd_phy_tcpc_instance_::pdHandle</a></div><div class="ttdeci">pd_handle pdHandle</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:206</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a0bc330dd6adc0cb152650b0f88319d26"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a0bc330dd6adc0cb152650b0f88319d26">USBPD_ENABLE_PTN5110_A0R1_WORKAROUNDS</a></div><div class="ttdeci">#define USBPD_ENABLE_PTN5110_A0R1_WORKAROUNDS</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:37</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a12f900cf19375e18339d43ee8ec60b55"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a12f900cf19375e18339d43ee8ec60b55">__pd_phy_tcpc_instance_::roleControlUpdated</a></div><div class="ttdeci">volatile uint8_t roleControlUpdated</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:229</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__timer_8c_html_afa3b5394c429c185ea93be16ddb1545f"><div class="ttname"><a href="usb__pd__timer_8c.html#afa3b5394c429c185ea93be16ddb1545f">PD_TimerStart</a></div><div class="ttdeci">pd_status_t PD_TimerStart(pd_handle pdHandle, uint8_t timrName, uint16_t timrTime)</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.c:94</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a89aac5fc25777f43c58415e411e818b1"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a></div><div class="ttdeci">#define ADDR_tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1421</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aadd80629bc413c024b52fd14c9e324ae"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aadd80629bc413c024b52fd14c9e324ae">ADDR_command</a></div><div class="ttdeci">#define ADDR_command</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1436</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a4e9acbaadfbfbfbfb3afb6917edbd85f"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a4e9acbaadfbfbfbfb3afb6917edbd85f">ADDR_role_control</a></div><div class="ttdeci">#define ADDR_role_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1422</div></div>
<div class="ttc" id="usb__pd__timer_8h_html_ab8b31bf9bd74e3eba53ff71f1b488e64"><div class="ttname"><a href="usb__pd__timer_8h.html#ab8b31bf9bd74e3eba53ff71f1b488e64">T_CC_FILTER_MAX</a></div><div class="ttdeci">#define T_CC_FILTER_MAX</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.h:151</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3f53add6772aaeee3daa6efb52969267"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3f53add6772aaeee3daa6efb52969267">RoleControlIsToggleSrcFirst</a></div><div class="ttdeci">#define RoleControlIsToggleSrcFirst(roleControl)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:339</div></div>
<div class="ttc" id="usb__pd__timer_8h_html_a94e23fe7d4bf2bf6f8de1f51126d071fac01b412f395a7e02591756ce3d743ade"><div class="ttname"><a href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fac01b412f395a7e02591756ce3d743ade">timrCCFilter</a></div><div class="ttdef"><b>Definition:</b> usb_pd_timer.h:75</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a95b1b1e119af7cb316f55b340aae2531"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a95b1b1e119af7cb316f55b340aae2531">PDPTN5110_PwrDoApplyCurState</a></div><div class="ttdeci">bool PDPTN5110_PwrDoApplyCurState(pd_phy_ptn5110_instance_t *ptn5110Instances, uint8_t pwrState)</div><div class="ttdoc">Hardware specific register settings for power mode. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:854</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a1cf8f4ed850df9a6b08e2031c094e16e"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a1cf8f4ed850df9a6b08e2031c094e16e">TCPC_ROLE_CONTROL_DRP_MASK</a></div><div class="ttdeci">#define TCPC_ROLE_CONTROL_DRP_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:251</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_adf3515b9e7855268cdfd61832d4c8eb2"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#adf3515b9e7855268cdfd61832d4c8eb2">PRODUCT_ID_PTN5110</a></div><div class="ttdeci">#define PRODUCT_ID_PTN5110</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:75</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a44780576115e54b36970c33d085ff76d"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a44780576115e54b36970c33d085ff76d">ADDR_power_control</a></div><div class="ttdeci">#define ADDR_power_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1424</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gab5c70518a449d87b8e044fe35f9794b9"><div class="ttname"><a href="group__usb__pd__stack.html#gab5c70518a449d87b8e044fe35f9794b9">PD_VENDOR_ID_NXP</a></div><div class="ttdeci">#define PD_VENDOR_ID_NXP</div><div class="ttdoc">NXP&#39;s USB vendor id. </div><div class="ttdef"><b>Definition:</b> usb_pd.h:48</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a6ab249ba4ce435ade000545e55d5c650"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a6ab249ba4ce435ade000545e55d5c650">RoleControlIsToggleSnkFirst</a></div><div class="ttdeci">#define RoleControlIsToggleSnkFirst(roleControl)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:347</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a521bd087cf76cc296c98ad4ba8cf145b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a521bd087cf76cc296c98ad4ba8cf145b">TCPC_TCPC_CONTROL_DEBUG_ACCESSORY_CONTROL_MASK</a></div><div class="ttdeci">#define TCPC_TCPC_CONTROL_DEBUG_ACCESSORY_CONTROL_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:236</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a2ba317fb7ded6dcbe6c89ae6d469ce11a3ce8e726f28c3b73aea249f079aeb3bb"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a2ba317fb7ded6dcbe6c89ae6d469ce11a3ce8e726f28c3b73aea249f079aeb3bb">TCPC_LOOK4CONNECTION</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1016</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_cgraph" id="usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a95b1b1e119af7cb316f55b340aae2531" title="Hardware specific register settings for power mode. " alt="" coords="238,5,466,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="275,56,429,83"/><area shape="rect" id="node7" href="usb__pd__timer_8c.html#afa3b5394c429c185ea93be16ddb1545f" title="PD_TimerStart" alt="" coords="297,107,407,133"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="515,49,704,90"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="759,31,905,57"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="753,81,911,108"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_icgraph" id="usb__pd__ptn5110__connect_8c_ae27fca1a06ebec2028f45dd00e0eff8d_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a365742e7fe65b04a258288d01dc787e1" title="USB_RAM_ADDRESS_ALIGNMENT" alt="" coords="237,5,483,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a7ac2368f9c8bd64f0734fb97465cfe97" title="PDPTN5110_DetectDetach" alt="" coords="268,56,452,83"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="531,81,677,108"/><area shape="rect" id="node5" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="299,157,421,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1136effbc01ddeeb75c6e70077fa1fca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_ConnectUpdateAfterPRSwap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>powerRole</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update hardware after a power role swap has completed (e.g. read current advert of new source). </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;{</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">/* reenable CC_Status change alert when PR swap to src */</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordflow">if</span> (powerRole == <a class="code" href="group__usb__pd__stack.html#gga46146487374ddc31d48f33b2b6a26f8ba9fdae65ce89c7d877981a3abef33a2cb">kPD_PowerRoleSource</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990">PDPTN5110_IntcIrqClearAndEnable</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a6024dac3160698c7e906e3ced36c0c14">TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</a>);</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    }</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">/* Power role swap does not prompt an interrupt - update the cached status/role info */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847">PDPTN5110_RegCacheSynC</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110_8h.html#a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3">kRegModule_CCStatus</a>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">/* Update the current status to cover the case where current sense was stable while swap in progress asserted */</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="usb__pd__ptn5110__connect_8c.html#a719232873c71eb8c1ae556668d842007">PDPTN5110_ConnectINTcTypeCCurrentStable</a>(ptn5110Instance);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="ttc" id="group__usb__pd__stack_html_gga46146487374ddc31d48f33b2b6a26f8ba9fdae65ce89c7d877981a3abef33a2cb"><div class="ttname"><a href="group__usb__pd__stack.html#gga46146487374ddc31d48f33b2b6a26f8ba9fdae65ce89c7d877981a3abef33a2cb">kPD_PowerRoleSource</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:269</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a6024dac3160698c7e906e3ced36c0c14"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a6024dac3160698c7e906e3ced36c0c14">TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</a></div><div class="ttdeci">#define TCPC_ALERT_MASK_CC_STATUS_INTERRUPT_MASK_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:155</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3c2e8f0da8d2b0a16922bcd0c6c05474aa9ee7ab0f8e7ce950b5431b27427f5d3">kRegModule_CCStatus</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:104</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_abd805633921ee7371cf2b2b90774e990"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990">PDPTN5110_IntcIrqClearAndEnable</a></div><div class="ttdeci">void PDPTN5110_IntcIrqClearAndEnable(pd_phy_ptn5110_instance_t *ptn5110Instance, uint16_t mask)</div><div class="ttdoc">Clear and enable external interrupt. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:614</div></div>
<div class="ttc" id="usb__pd__ptn5110__connect_8c_html_a719232873c71eb8c1ae556668d842007"><div class="ttname"><a href="usb__pd__ptn5110__connect_8c.html#a719232873c71eb8c1ae556668d842007">PDPTN5110_ConnectINTcTypeCCurrentStable</a></div><div class="ttdeci">void PDPTN5110_ConnectINTcTypeCCurrentStable(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Callback to be called when TypeC current sense is stable. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_connect.c:663</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_af840718cd0f3de58b800010cde92e847"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847">PDPTN5110_RegCacheSynC</a></div><div class="ttdeci">void PDPTN5110_RegCacheSynC(pd_phy_ptn5110_instance_t *ptn5110Instance, uint16_t mask)</div><div class="ttdoc">Read the remote registers to local buffer. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:88</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_cgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_cgraph" id="usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#abd805633921ee7371cf2b2b90774e990" title="Clear and enable external interrupt. " alt="" coords="285,5,480,46"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#af840718cd0f3de58b800010cde92e847" title="Read the remote registers to local buffer. " alt="" coords="283,71,482,97"/><area shape="rect" id="node4" href="usb__pd__ptn5110__connect_8c.html#a719232873c71eb8c1ae556668d842007" title="Callback to be called when TypeC current sense is stable. " alt="" coords="277,122,488,163"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_icgraph.png" border="0" usemap="#usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_icgraph" id="usb__pd__ptn5110__connect_8c_a1136effbc01ddeeb75c6e70077fa1fca_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__connect_8c.html#a04c93cf6ac2b690c0837b01fc8b37068" title="Inform the Hardware chip that an activity is in progress. " alt="" coords="277,12,512,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="561,12,706,39"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a0544c3fe466e421738dae463968b70ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">else</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 16 2017 13:51:12 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
