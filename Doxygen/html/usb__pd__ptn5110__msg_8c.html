<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: pd/ptn5110/usb_pd_ptn5110_msg.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_695ae6a37edf2996f6d6c89c01e2f5f0.html">pd</a></li><li class="navelem"><a class="el" href="dir_4e883349aa6e5a1d72d9550594327c1a.html">ptn5110</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">usb_pd_ptn5110_msg.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;usb_pd_config.h&quot;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd_8h_source.html">usb_pd.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__phy_8h_source.html">usb_pd_phy.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__ptn5110_8h_source.html">usb_pd_ptn5110.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__ptn5110__register_8h_source.html">usb_pd_ptn5110_register.h</a>&quot;</code><br/>
<code>#include &quot;string.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__timer_8h_source.html">usb_pd_timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="usb__pd__spec_8h_source.html">usb_pd_spec.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for usb_pd_ptn5110_msg.c:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c__incl.png" border="0" usemap="#pd_2ptn5110_2usb__pd__ptn5110__msg_8c" alt=""/></div>
<map name="pd_2ptn5110_2usb__pd__ptn5110__msg_8c" id="pd_2ptn5110_2usb__pd__ptn5110__msg_8c">
<area shape="rect" id="node5" href="usb__pd_8h.html" title="usb_pd.h" alt="" coords="333,96,407,123"/><area shape="rect" id="node9" href="usb__pd__phy_8h.html" title="usb_pd_phy.h" alt="" coords="433,96,535,123"/><area shape="rect" id="node10" href="usb__pd__ptn5110_8h.html" title="usb_pd_ptn5110.h" alt="" coords="560,96,688,123"/><area shape="rect" id="node11" href="usb__pd__ptn5110__register_8h.html" title="usb_pd_ptn5110_register.h" alt="" coords="712,96,891,123"/><area shape="rect" id="node13" href="usb__pd__timer_8h.html" title="usb_pd_timer.h" alt="" coords="1005,96,1115,123"/><area shape="rect" id="node14" href="usb__pd__spec_8h.html" title="usb_pd_spec.h" alt="" coords="1139,96,1249,123"/><area shape="rect" id="node6" href="usb__osa_8h.html" title="usb_osa.h" alt="" coords="219,171,300,197"/><area shape="rect" id="node7" href="usb__misc_8h.html" title="usb_misc.h" alt="" coords="326,171,415,197"/><area shape="rect" id="node8" href="usb__cmsis__wrapper_8h.html" title="usb_cmsis_wrapper.h" alt="" coords="440,171,588,197"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a34e1e1bbbc7932884de43e9095e16ef4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a>&#160;&#160;&#160;(<a class="el" href="usb__pd__ptn5110__register_8h.html#a26674b97f26152d13ff61002dac17bc7">TCPC_RECEIVE_DETECT_ENABLE_HARD_RESET_MASK</a>)</td></tr>
<tr class="separator:a34e1e1bbbc7932884de43e9095e16ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c7023b1f96a94d49332f542d8bc744"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a></td></tr>
<tr class="separator:a99c7023b1f96a94d49332f542d8bc744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6f70683a88c88d964baae4cd914350"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a>&#160;&#160;&#160;<a class="el" href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a>(ptn5110Instance, (uint8_t *)&amp;ptn5110Instance-&gt;tcpcRegCache.MSG_TX.transmit, 1, <a class="el" href="usb__pd__ptn5110__register_8h.html#a943d3cd6fadca1d53ed1ece6691df576">ADDR_transmit</a>)</td></tr>
<tr class="separator:a6c6f70683a88c88d964baae4cd914350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7d7d0b909fbac1e9e727a8fd28576d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#ade7d7d0b909fbac1e9e727a8fd28576d">MSG_SEND_DATA_PREFIX</a>(ptn5110Instance, SOP, TYPE)</td></tr>
<tr class="separator:ade7d7d0b909fbac1e9e727a8fd28576d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a14e713eb2da2853a2648e9918cf36ee8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="separator:a14e713eb2da2853a2648e9918cf36ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af031c2ac982002330a6a98379bd78f2a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop)</td></tr>
<tr class="separator:af031c2ac982002330a6a98379bd78f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb6e370f609bad660887fbf1c6bb6a1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop)</td></tr>
<tr class="separator:a8eb6e370f609bad660887fbf1c6bb6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf4eaa9252ee950f8ce61aba3f6aa4a"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a3cf4eaa9252ee950f8ce61aba3f6aa4a">PDPTN5110_MsgHalRxPktSopBuf</a> (uint8_t SOP)</td></tr>
<tr class="separator:a3cf4eaa9252ee950f8ce61aba3f6aa4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a060f68d7b7790b4ad0311395f8ac644e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a060f68d7b7790b4ad0311395f8ac644e">PDPTN5110_MsgHalProtocolLayerResetAndPowerUp</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a060f68d7b7790b4ad0311395f8ac644e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the protcol layer hardware.  <a href="#a060f68d7b7790b4ad0311395f8ac644e">More...</a><br/></td></tr>
<tr class="separator:a060f68d7b7790b4ad0311395f8ac644e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e4ba085b2b97dcb443e5714967f155"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155">PDPTN5110_MsgEnableRxAfterReset</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:aa2e4ba085b2b97dcb443e5714967f155"><td class="mdescLeft">&#160;</td><td class="mdescRight">After any reset we need to re-enable the message RX.  <a href="#aa2e4ba085b2b97dcb443e5714967f155">More...</a><br/></td></tr>
<tr class="separator:aa2e4ba085b2b97dcb443e5714967f155"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64dffb19b0f1dbd0c2a20fe6eb6e30a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a64dffb19b0f1dbd0c2a20fe6eb6e30a7">PDPTN5110_MsgHalClearPendingAndAbort</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a64dffb19b0f1dbd0c2a20fe6eb6e30a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">common function to clear pending and abort  <a href="#a64dffb19b0f1dbd0c2a20fe6eb6e30a7">More...</a><br/></td></tr>
<tr class="separator:a64dffb19b0f1dbd0c2a20fe6eb6e30a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3819bfc3718e5d6fa754f9a402455aa5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a3819bfc3718e5d6fa754f9a402455aa5">PDPTN5110_MsgHalEnablePassiveDetection</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a3819bfc3718e5d6fa754f9a402455aa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup passive PD monitoring (unused, low power related)  <a href="#a3819bfc3718e5d6fa754f9a402455aa5">More...</a><br/></td></tr>
<tr class="separator:a3819bfc3718e5d6fa754f9a402455aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7aba9e8c5eef7018b18c617fdc27b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a1f7aba9e8c5eef7018b18c617fdc27b1">PDPTN5110_MsgHalDisableMessageRx</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a1f7aba9e8c5eef7018b18c617fdc27b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable message RX and reset the protocol layer (for SOURCE_DISABLE state) (unused, low power related)  <a href="#a1f7aba9e8c5eef7018b18c617fdc27b1">More...</a><br/></td></tr>
<tr class="separator:a1f7aba9e8c5eef7018b18c617fdc27b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36081ea7bbd38115d83e8f941e4b0a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a36081ea7bbd38115d83e8f941e4b0a86">PDPTN5110_MsgHalPowerDownTx</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a36081ea7bbd38115d83e8f941e4b0a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down the USBPD TX hardware.  <a href="#a36081ea7bbd38115d83e8f941e4b0a86">More...</a><br/></td></tr>
<tr class="separator:a36081ea7bbd38115d83e8f941e4b0a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14abf54deef8ee00b4f16ce150a2fef3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a14abf54deef8ee00b4f16ce150a2fef3">PDPTN5110_MsgHalPowerDownRx</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a14abf54deef8ee00b4f16ce150a2fef3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down the USBPD RX hardware.  <a href="#a14abf54deef8ee00b4f16ce150a2fef3">More...</a><br/></td></tr>
<tr class="separator:a14abf54deef8ee00b4f16ce150a2fef3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cb31a257208e3f659c0a53c384d97a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a15cb31a257208e3f659c0a53c384d97a">PDPTN5110_MsgHalSetPortRole</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t revision, uint8_t powerRole, uint8_t dataRole)</td></tr>
<tr class="memdesc:a15cb31a257208e3f659c0a53c384d97a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set/Change the port role, must be called before any messages are sent.  <a href="#a15cb31a257208e3f659c0a53c384d97a">More...</a><br/></td></tr>
<tr class="separator:a15cb31a257208e3f659c0a53c384d97a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f3925eba2900e298ebeaa8d87c9699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#ac9f3925eba2900e298ebeaa8d87c9699">PDPTN5110_MsgHalSetTxSopMode</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop)</td></tr>
<tr class="memdesc:ac9f3925eba2900e298ebeaa8d87c9699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the SOP used for transmit.  <a href="#ac9f3925eba2900e298ebeaa8d87c9699">More...</a><br/></td></tr>
<tr class="separator:ac9f3925eba2900e298ebeaa8d87c9699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae070d3966d31951eabb91ba346cde8ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop_mask)</td></tr>
<tr class="memdesc:ae070d3966d31951eabb91ba346cde8ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the SOP mask used for receive.  <a href="#ae070d3966d31951eabb91ba346cde8ce">More...</a><br/></td></tr>
<tr class="separator:ae070d3966d31951eabb91ba346cde8ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36d74aa3b6c70875e850cc202526cdeb"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb">PDPTN5110_MsgHalSendCommonPrefix</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop)</td></tr>
<tr class="memdesc:a36d74aa3b6c70875e850cc202526cdeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common prefix for all send data and control functions.  <a href="#a36d74aa3b6c70875e850cc202526cdeb">More...</a><br/></td></tr>
<tr class="separator:a36d74aa3b6c70875e850cc202526cdeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29dc8db6b2478eca435f22cee25f6a61"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61">PDPTN5110_MsgHalSendDataPrefix</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop)</td></tr>
<tr class="memdesc:a29dc8db6b2478eca435f22cee25f6a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common prefix for all send data functions.  <a href="#a29dc8db6b2478eca435f22cee25f6a61">More...</a><br/></td></tr>
<tr class="separator:a29dc8db6b2478eca435f22cee25f6a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6907d31600f9c1e96354e99a25d4fbd1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1">PDPTN5110_MsgHalSetTxDataReq</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop, uint8_t count)</td></tr>
<tr class="memdesc:a6907d31600f9c1e96354e99a25d4fbd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common register access code for all send data functions to set the request.  <a href="#a6907d31600f9c1e96354e99a25d4fbd1">More...</a><br/></td></tr>
<tr class="separator:a6907d31600f9c1e96354e99a25d4fbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2dd9dfad91380bc2e067e0ae3f5311"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311">PDPTN5110_MsgHalSendControl</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop, uint8_t type)</td></tr>
<tr class="memdesc:a4c2dd9dfad91380bc2e067e0ae3f5311"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a control message, specify sop.  <a href="#a4c2dd9dfad91380bc2e067e0ae3f5311">More...</a><br/></td></tr>
<tr class="separator:a4c2dd9dfad91380bc2e067e0ae3f5311"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43147a12f80189c0e1d13933d3be8cfe"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a43147a12f80189c0e1d13933d3be8cfe">PDPTN5110_MsgHalSendData</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sop, uint8_t type, uint8_t count)</td></tr>
<tr class="memdesc:a43147a12f80189c0e1d13933d3be8cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a data message. The data object must be loaded to the PDPTN5110_MsgHalGetTxPayloadPtr() buffer before calling this function.  <a href="#a43147a12f80189c0e1d13933d3be8cfe">More...</a><br/></td></tr>
<tr class="separator:a43147a12f80189c0e1d13933d3be8cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2695a5daf065aa9d9e9064f8565a9447"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447">PDPTN5110_MsgHalWaitSendResult</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a2695a5daf065aa9d9e9064f8565a9447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait the result of the send after the tx_done interrupt has been received.  <a href="#a2695a5daf065aa9d9e9064f8565a9447">More...</a><br/></td></tr>
<tr class="separator:a2695a5daf065aa9d9e9064f8565a9447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25aae9743a9817b28950047458226913"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a25aae9743a9817b28950047458226913">PDPTN5110_MsgHalRxReceiveBuffer</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t *dest, <a class="el" href="group__usb__pd__phy__drv.html#gab6924dca8731119eec80f1740a1564eb">pd_phy_rx_result_t</a> *rxResult)</td></tr>
<tr class="memdesc:a25aae9743a9817b28950047458226913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the device receive buffer to our intermediate buffer.  <a href="#a25aae9743a9817b28950047458226913">More...</a><br/></td></tr>
<tr class="separator:a25aae9743a9817b28950047458226913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9270792d50c929299fb0525020c1291a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t value)</td></tr>
<tr class="memdesc:a9270792d50c929299fb0525020c1291a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set RECEIVE_DETECT register directly.  <a href="#a9270792d50c929299fb0525020c1291a">More...</a><br/></td></tr>
<tr class="separator:a9270792d50c929299fb0525020c1291a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a197ab289f188adce834d460f882e7955"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955">PDPTN5110_MsgHalSendReset</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t hardResetOrCableReset)</td></tr>
<tr class="memdesc:a197ab289f188adce834d460f882e7955"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableReset: 0 - hard reset, 1 - cable reset.  <a href="#a197ab289f188adce834d460f882e7955">More...</a><br/></td></tr>
<tr class="separator:a197ab289f188adce834d460f882e7955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a005d50586c6c4b99c3c1648ce15aa0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a3a005d50586c6c4b99c3c1648ce15aa0">PDPTN5110_MsgHalRcvdHardResetStart</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a3a005d50586c6c4b99c3c1648ce15aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the hard reset process after confirming receptioin of hard reset (unused)  <a href="#a3a005d50586c6c4b99c3c1648ce15aa0">More...</a><br/></td></tr>
<tr class="separator:a3a005d50586c6c4b99c3c1648ce15aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cdfc7b9850cbc7252c4aeb05447f6fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a9cdfc7b9850cbc7252c4aeb05447f6fd">PDPTN5110_MsgHalRcvdHardResetComplete</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:a9cdfc7b9850cbc7252c4aeb05447f6fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">After all S/W processing of a hard reset is complete, flag the hardware (unused)  <a href="#a9cdfc7b9850cbc7252c4aeb05447f6fd">More...</a><br/></td></tr>
<tr class="separator:a9cdfc7b9850cbc7252c4aeb05447f6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1877fa01310a520a2df01faf1566278"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#af1877fa01310a520a2df01faf1566278">PDPTN5110_MsgHalResetBist</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:af1877fa01310a520a2df01faf1566278"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the HW bist mode PRBS generator.  <a href="#af1877fa01310a520a2df01faf1566278">More...</a><br/></td></tr>
<tr class="separator:af1877fa01310a520a2df01faf1566278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbe7dd640a7b81c7c218015127d001ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#acbe7dd640a7b81c7c218015127d001ba">PDPTN5110_MsgHalSetupBist</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, <a class="el" href="group__usb__pd__phy__drv.html#ga311e952eb852cd3570504fe0699d10ec">pd_bist_mst_t</a> mode)</td></tr>
<tr class="memdesc:acbe7dd640a7b81c7c218015127d001ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Control the HW bist mode This will send a test frame, continuous pattern or setup the hardware to receive bist.  <a href="#acbe7dd640a7b81c7c218015127d001ba">More...</a><br/></td></tr>
<tr class="separator:acbe7dd640a7b81c7c218015127d001ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7229a8cdc4e1c840c8fd1a0d1d5b75c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#ab7229a8cdc4e1c840c8fd1a0d1d5b75c">PDPTN5110_MsgInterruptCallbackHardReset</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:ab7229a8cdc4e1c840c8fd1a0d1d5b75c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the bist data from the HW registers (unused)  <a href="#ab7229a8cdc4e1c840c8fd1a0d1d5b75c">More...</a><br/></td></tr>
<tr class="separator:ab7229a8cdc4e1c840c8fd1a0d1d5b75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f537f03af07588daf3ee11e48f9f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20">PDPTN5110_MsgInterruptCallbackMsgRcvd</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="memdesc:aa9f537f03af07588daf3ee11e48f9f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is called by the interrupt controller when we receive a message.  <a href="#aa9f537f03af07588daf3ee11e48f9f20">More...</a><br/></td></tr>
<tr class="separator:aa9f537f03af07588daf3ee11e48f9f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9917c53219ae71793f1543d8433eae4e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a9917c53219ae71793f1543d8433eae4e">PDPTN5110_MsgHalSendAbortIsrProcess</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="separator:a9917c53219ae71793f1543d8433eae4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac6dd7f29e5cefa92f6b94392ea74b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#a6ac6dd7f29e5cefa92f6b94392ea74b6">PDPTN5110_MsgHalSendSuccessIsrProcess</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance)</td></tr>
<tr class="separator:a6ac6dd7f29e5cefa92f6b94392ea74b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab1126bfe7625c8fba3cb342eb6aa99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99">PDPTN5110_MsgSendCompLete</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t sendResult)</td></tr>
<tr class="separator:aeab1126bfe7625c8fba3cb342eb6aa99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5a47c3292f0eb098cbec28f49b8ede7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7">PDPTN5110_MsgReceiveCompLete</a> (<a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *ptn5110Instance, uint8_t rxState)</td></tr>
<tr class="separator:ac5a47c3292f0eb098cbec28f49b8ede7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ade7d7d0b909fbac1e9e727a8fd28576d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_SEND_DATA_PREFIX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ptn5110Instance, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">SOP, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TYPE&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span>                                                            \</div>
<div class="line">    {                                                             \</div>
<div class="line">        if (<a class="code" href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61">PDPTN5110_MsgHalSendDataPrefix</a>(ptn5110Instance, SOP)) \</div>
<div class="line">        {                                                         \</div>
<div class="line">            return <span class="keyword">false</span>;                                         \</div>
<div class="line">        }                                                         \</div>
<div class="line">    } <span class="keywordflow">while</span> (0)</div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a29dc8db6b2478eca435f22cee25f6a61"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61">PDPTN5110_MsgHalSendDataPrefix</a></div><div class="ttdeci">static uint8_t PDPTN5110_MsgHalSendDataPrefix(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdoc">Common prefix for all send data functions. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:255</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99c7023b1f96a94d49332f542d8bc744"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_TX_BUF_RELEASE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                      \</div>
<div class="line">        do                                                                 \</div>
<div class="line">        {                                                                  \</div>
<div class="line">            if (ptn5110Instance-&gt;msgTxBufState == <a class="code" href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a>) \</div>
<div class="line">            {                                                              \</div>
<div class="line">                ptn5110Instance-&gt;msgTxBufState = <a class="code" href="usb__pd__ptn5110_8h.html#a6bd93fd4549a6e7631400362d6776cfc">TCPC_TX_BUF_AVAILABLE</a>;    \</div>
<div class="line">            }                                                              \</div>
<div class="line">        } <span class="keywordflow">while</span> (0);                                                       \</div>
<div class="line">    }</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a34494ce747c33f65b965317eeb1e1e34"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:56</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a6bd93fd4549a6e7631400362d6776cfc"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a6bd93fd4549a6e7631400362d6776cfc">TCPC_TX_BUF_AVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_AVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:54</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c6f70683a88c88d964baae4cd914350"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_TX_START_TRANSMIT&#160;&#160;&#160;<a class="el" href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a>(ptn5110Instance, (uint8_t *)&amp;ptn5110Instance-&gt;tcpcRegCache.MSG_TX.transmit, 1, <a class="el" href="usb__pd__ptn5110__register_8h.html#a943d3cd6fadca1d53ed1ece6691df576">ADDR_transmit</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a34e1e1bbbc7932884de43e9095e16ef4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK&#160;&#160;&#160;(<a class="el" href="usb__pd__ptn5110__register_8h.html#a26674b97f26152d13ff61002dac17bc7">TCPC_RECEIVE_DETECT_ENABLE_HARD_RESET_MASK</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa2e4ba085b2b97dcb443e5714967f155"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PDPTN5110_MsgEnableRxAfterReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>After any reset we need to re-enable the message RX. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Only called from CLP task context </dd></dl>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> = <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1aaa62220b2caaa3d1273068a3e03969d4">kPD_MsgSOPMask</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a>(ptn5110Instance,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                                     ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> | <a class="code" href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1aaa62220b2caaa3d1273068a3e03969d4"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1aaa62220b2caaa3d1273068a3e03969d4">kPD_MsgSOPMask</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:226</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a34e1e1bbbc7932884de43e9095e16ef4"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a></div><div class="ttdeci">#define TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:45</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a9270792d50c929299fb0525020c1291a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetReceiveDetect(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t value)</div><div class="ttdoc">Set RECEIVE_DETECT register directly. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:725</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_cgraph" id="usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="267,23,483,65"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="531,31,685,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="733,23,923,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="978,5,1123,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="971,56,1130,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_icgraph" id="usb__pd__ptn5110__msg_8c_aa2e4ba085b2b97dcb443e5714967f155_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955" title="Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableRese..." alt="" coords="267,5,480,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a9cdfc7b9850cbc7252c4aeb05447f6fd" title="After all S/W processing of a hard reset is complete, flag the hardware (unused) " alt="" coords="270,57,477,98"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="529,5,674,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a64dffb19b0f1dbd0c2a20fe6eb6e30a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalClearPendingAndAbort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>common function to clear pending and abort </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;{</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> = 0;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">msgTxSop</a> = <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a5c5082dee0eb49208cd4a5c728ff7fce">kPD_MsgSOP</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">txAbort</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">msgTxBufState</a> = <a class="code" href="usb__pd__ptn5110_8h.html#a6bd93fd4549a6e7631400362d6776cfc">TCPC_TX_BUF_AVAILABLE</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a24037bc939fa4ef146806af07f94633d"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">__pd_phy_tcpc_instance_::msgTxBufState</a></div><div class="ttdeci">volatile uint8_t msgTxBufState</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:219</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1a5c5082dee0eb49208cd4a5c728ff7fce"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a5c5082dee0eb49208cd4a5c728ff7fce">kPD_MsgSOP</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:219</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a95990260c9d5be8724a2feca748ee3da"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">__pd_phy_tcpc_instance_::txAbort</a></div><div class="ttdeci">uint8_t txAbort</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:237</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a3f43dcc28b084f1a3a2d05c3821290d9"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">__pd_phy_tcpc_instance_::msgTxSop</a></div><div class="ttdeci">uint8_t msgTxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:242</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a6bd93fd4549a6e7631400362d6776cfc"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a6bd93fd4549a6e7631400362d6776cfc">TCPC_TX_BUF_AVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_AVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:54</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a64dffb19b0f1dbd0c2a20fe6eb6e30a7_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a64dffb19b0f1dbd0c2a20fe6eb6e30a7_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a64dffb19b0f1dbd0c2a20fe6eb6e30a7_icgraph" id="usb__pd__ptn5110__msg_8c_a64dffb19b0f1dbd0c2a20fe6eb6e30a7_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="281,12,426,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f7aba9e8c5eef7018b18c617fdc27b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalDisableMessageRx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disable message RX and reset the protocol layer (for SOURCE_DISABLE state) (unused, low power related) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">/* Disable message reception */</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> = 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a34e1e1bbbc7932884de43e9095e16ef4"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a></div><div class="ttdeci">#define TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:45</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a9270792d50c929299fb0525020c1291a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetReceiveDetect(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t value)</div><div class="ttdoc">Set RECEIVE_DETECT register directly. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:725</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_cgraph" id="usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="317,23,533,65"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="581,31,736,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="784,23,973,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1029,5,1174,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1022,56,1181,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_icgraph" id="usb__pd__ptn5110__msg_8c_a1f7aba9e8c5eef7018b18c617fdc27b1_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="330,5,451,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="318,56,463,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3819bfc3718e5d6fa754f9a402455aa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalEnablePassiveDetection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setup passive PD monitoring (unused, low power related) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a>(ptn5110Instance,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                                     ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> | <a class="code" href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a34e1e1bbbc7932884de43e9095e16ef4"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a></div><div class="ttdeci">#define TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:45</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a9270792d50c929299fb0525020c1291a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetReceiveDetect(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t value)</div><div class="ttdoc">Set RECEIVE_DETECT register directly. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:725</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a3819bfc3718e5d6fa754f9a402455aa5_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a3819bfc3718e5d6fa754f9a402455aa5_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a3819bfc3718e5d6fa754f9a402455aa5_cgraph" id="usb__pd__ptn5110__msg_8c_a3819bfc3718e5d6fa754f9a402455aa5_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="288,23,504,65"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="552,31,707,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="755,23,944,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="999,5,1145,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="993,56,1151,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14abf54deef8ee00b4f16ce150a2fef3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalPowerDownRx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power down the USBPD RX hardware. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a14abf54deef8ee00b4f16ce150a2fef3_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a14abf54deef8ee00b4f16ce150a2fef3_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a14abf54deef8ee00b4f16ce150a2fef3_icgraph" id="usb__pd__ptn5110__msg_8c_a14abf54deef8ee00b4f16ce150a2fef3_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="291,5,437,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36081ea7bbd38115d83e8f941e4b0a86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalPowerDownTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power down the USBPD TX hardware. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;{</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a36081ea7bbd38115d83e8f941e4b0a86_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a36081ea7bbd38115d83e8f941e4b0a86_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a36081ea7bbd38115d83e8f941e4b0a86_icgraph" id="usb__pd__ptn5110__msg_8c_a36081ea7bbd38115d83e8f941e4b0a86_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="289,5,434,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a060f68d7b7790b4ad0311395f8ac644e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalProtocolLayerResetAndPowerUp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the protcol layer hardware. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">/* reset config to POR */</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> = 0;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a5413a71b94f36d92c66cb44d5ca943b0">POR_receive_detect</a>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">/* Disable Bist Test Mode */</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aad3c9ce4cbeb9feae002869320f59c43">tcpcRegCache</a>.<a class="code" href="structpd__phy__TCPC__reg__cache__t.html#a62952ade18c2ee72f74d53efa4f99378">CONTROL</a>.<a class="code" href="structpd__phy__TCPC__reg__cache__t.html#a8271f0587de98c5504df7e2bc489835d">tcpc_control</a> &amp;= ~(<a class="code" href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#ae3ccca921b7e3aeb0f01c1f69581c3a3">REG_CLR_BIT</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a>, <a class="code" href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a>(ptn5110Instance);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">/* Restore message reception enable */</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">/* PDPTN5110_MsgEnableRxAfterReset(ptn5110Instance); */</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="structpd__phy__TCPC__reg__cache__t_html_a8271f0587de98c5504df7e2bc489835d"><div class="ttname"><a href="structpd__phy__TCPC__reg__cache__t.html#a8271f0587de98c5504df7e2bc489835d">pd_phy_TCPC_reg_cache_t::tcpc_control</a></div><div class="ttdeci">uint8_t tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:157</div></div>
<div class="ttc" id="structpd__phy__TCPC__reg__cache__t_html_a62952ade18c2ee72f74d53efa4f99378"><div class="ttname"><a href="structpd__phy__TCPC__reg__cache__t.html#a62952ade18c2ee72f74d53efa4f99378">pd_phy_TCPC_reg_cache_t::CONTROL</a></div><div class="ttdeci">struct pd_phy_TCPC_reg_cache_t::@27 CONTROL</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a89aac5fc25777f43c58415e411e818b1"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a></div><div class="ttdeci">#define ADDR_tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1421</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aad3c9ce4cbeb9feae002869320f59c43"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aad3c9ce4cbeb9feae002869320f59c43">__pd_phy_tcpc_instance_::tcpcRegCache</a></div><div class="ttdeci">pd_phy_TCPC_reg_cache_t tcpcRegCache</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:209</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a9270792d50c929299fb0525020c1291a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetReceiveDetect(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t value)</div><div class="ttdoc">Set RECEIVE_DETECT register directly. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:725</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a5413a71b94f36d92c66cb44d5ca943b0"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a5413a71b94f36d92c66cb44d5ca943b0">POR_receive_detect</a></div><div class="ttdeci">#define POR_receive_detect</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1462</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ae3ccca921b7e3aeb0f01c1f69581c3a3"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ae3ccca921b7e3aeb0f01c1f69581c3a3">REG_CLR_BIT</a></div><div class="ttdeci">#define REG_CLR_BIT(ptn5110Instance, reg, field)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:310</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a14e713eb2da2853a2648e9918cf36ee8"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a></div><div class="ttdeci">void PDPTN5110_MsgResetAllMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:59</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a246e6a17444329c822ca5d5996119184"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a></div><div class="ttdeci">#define TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:242</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_cgraph" id="usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="251,23,467,65"/><area shape="rect" id="node7" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8" title="PDPTN5110_MsgResetAllMsgId" alt="" coords="251,89,466,116"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="515,31,669,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="717,23,907,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="962,5,1107,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="955,56,1114,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_icgraph" id="usb__pd__ptn5110__msg_8c_a060f68d7b7790b4ad0311395f8ac644e_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="251,12,397,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9cdfc7b9850cbc7252c4aeb05447f6fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalRcvdHardResetComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>After all S/W processing of a hard reset is complete, flag the hardware (unused) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;{</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a>(ptn5110Instance);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155">PDPTN5110_MsgEnableRxAfterReset</a>(ptn5110Instance);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_aa2e4ba085b2b97dcb443e5714967f155"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155">PDPTN5110_MsgEnableRxAfterReset</a></div><div class="ttdeci">static void PDPTN5110_MsgEnableRxAfterReset(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">After any reset we need to re-enable the message RX. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:123</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a14e713eb2da2853a2648e9918cf36ee8"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a></div><div class="ttdeci">void PDPTN5110_MsgResetAllMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:59</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a9cdfc7b9850cbc7252c4aeb05447f6fd_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a9cdfc7b9850cbc7252c4aeb05447f6fd_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a9cdfc7b9850cbc7252c4aeb05447f6fd_cgraph" id="usb__pd__ptn5110__msg_8c_a9cdfc7b9850cbc7252c4aeb05447f6fd_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8" title="PDPTN5110_MsgResetAllMsgId" alt="" coords="262,5,477,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155" title="After any reset we need to re&#45;enable the message RX. " alt="" coords="263,57,476,98"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="525,57,741,98"/><area shape="rect" id="node5" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="789,64,944,91"/><area shape="rect" id="node6" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="992,57,1181,98"/><area shape="rect" id="node7" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1237,39,1382,65"/><area shape="rect" id="node8" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1230,89,1389,116"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a005d50586c6c4b99c3c1648ce15aa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalRcvdHardResetStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the hard reset process after confirming receptioin of hard reset (unused) </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;{</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af1877fa01310a520a2df01faf1566278"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalResetBist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the HW bist mode PRBS generator. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;{</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3cf4eaa9252ee950f8ce61aba3f6aa4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t PDPTN5110_MsgHalRxPktSopBuf </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>SOP</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;{</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> (((SOP) == <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a5c5082dee0eb49208cd4a5c728ff7fce">kPD_MsgSOP</a>) ? 0 : 1);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1a5c5082dee0eb49208cd4a5c728ff7fce"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a5c5082dee0eb49208cd4a5c728ff7fce">kPD_MsgSOP</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:219</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a3cf4eaa9252ee950f8ce61aba3f6aa4a_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a3cf4eaa9252ee950f8ce61aba3f6aa4a_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a3cf4eaa9252ee950f8ce61aba3f6aa4a_icgraph" id="usb__pd__ptn5110__msg_8c_a3cf4eaa9252ee950f8ce61aba3f6aa4a_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20" title="This is called by the interrupt controller when we receive a message. " alt="" coords="283,5,509,46"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="557,12,760,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="809,12,1010,39"/><area shape="rect" id="node5" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1059,12,1205,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a25aae9743a9817b28950047458226913"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalRxReceiveBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__pd__phy__drv.html#gab6924dca8731119eec80f1740a1564eb">pd_phy_rx_result_t</a> *&#160;</td>
          <td class="paramname"><em>rxResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the device receive buffer to our intermediate buffer. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Only called from ISR </dd></dl>
<div class="fragment"><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;{</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="comment">/* Reading the RECEIVE_BUFFER from TCPC will include 0-RECEIVE_BYTE_COUNT, 1-RX_BUF_FRAME_TYPE, */</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="comment">/* 2-RX_BUF_HEADER_BYTE_0, 3-RX_BUF_HEADER_BYTE_1 */</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordtype">int</span> bytes = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, MSG_RX, receive_byte_count);</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">/* Ensure the buffer does not overflow */</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">if</span> (bytes &gt; 31)</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    {</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        bytes = 31;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    rxResult-&gt;<a class="code" href="struct__pd__phy__rx__result.html#a70f74c4fbff251a4e08c91977e0c2871">rxSop</a> = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, MSG_RX, rx_buf_frame_type);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    *(uint8_t *)dest = (<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, MSG_RX, rx_buf_header) &amp; 0xFF);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    dest++;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    *(uint8_t *)dest = (<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, MSG_RX, rx_buf_header) &gt;&gt; 8);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    dest++;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="keywordflow">if</span> (bytes &gt; 0)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    {</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a3286998cab8d2f99d2a48938ae99cf5f">REG_GET_BLOCK_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a5e0ab589af32946a498708377cbf1d66">ADDR_rx_buf_obj1</a>, bytes, dest);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    }</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    rxResult-&gt;<a class="code" href="struct__pd__phy__rx__result.html#a897dc52bf49a0d66a2aec6c4cff86a5b">rxLength</a> = bytes - 1;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    rxResult-&gt;<a class="code" href="struct__pd__phy__rx__result.html#a29f871220a1cc0617a6c5dd86e222f60">rxResultStatus</a> = <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;}</div>
<div class="ttc" id="struct__pd__phy__rx__result_html_a29f871220a1cc0617a6c5dd86e222f60"><div class="ttname"><a href="struct__pd__phy__rx__result.html#a29f871220a1cc0617a6c5dd86e222f60">_pd_phy_rx_result::rxResultStatus</a></div><div class="ttdeci">uint8_t rxResultStatus</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:209</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a5e0ab589af32946a498708377cbf1d66"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a5e0ab589af32946a498708377cbf1d66">ADDR_rx_buf_obj1</a></div><div class="ttdeci">#define ADDR_rx_buf_obj1</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1454</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:80</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="struct__pd__phy__rx__result_html_a897dc52bf49a0d66a2aec6c4cff86a5b"><div class="ttname"><a href="struct__pd__phy__rx__result.html#a897dc52bf49a0d66a2aec6c4cff86a5b">_pd_phy_rx_result::rxLength</a></div><div class="ttdeci">uint16_t rxLength</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:213</div></div>
<div class="ttc" id="struct__pd__phy__rx__result_html_a70f74c4fbff251a4e08c91977e0c2871"><div class="ttname"><a href="struct__pd__phy__rx__result.html#a70f74c4fbff251a4e08c91977e0c2871">_pd_phy_rx_result::rxSop</a></div><div class="ttdeci">uint8_t rxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:211</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3286998cab8d2f99d2a48938ae99cf5f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3286998cab8d2f99d2a48938ae99cf5f">REG_GET_BLOCK_REF</a></div><div class="ttdeci">#define REG_GET_BLOCK_REF(ptn5110Instance, reg, length, dst)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:272</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a25aae9743a9817b28950047458226913_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a25aae9743a9817b28950047458226913_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a25aae9743a9817b28950047458226913_icgraph" id="usb__pd__ptn5110__msg_8c_a25aae9743a9817b28950047458226913_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7" title="PDPTN5110_MsgReceiveCompLete" alt="" coords="267,12,503,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1329,11,1474,37"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20" title="This is called by the interrupt controller when we receive a message. " alt="" coords="552,34,779,75"/><area shape="rect" id="node5" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="827,39,1029,65"/><area shape="rect" id="node6" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="1078,37,1279,64"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9917c53219ae71793f1543d8433eae4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSendAbortIsrProcess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;{</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a>(ptn5110Instance, ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">msgTxSop</a>);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a>;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99">PDPTN5110_MsgSendCompLete</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a4891ab8e97ec291cd5314365d341fe90">kStatus_PD_Abort</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a99c7023b1f96a94d49332f542d8bc744"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a></div><div class="ttdeci">#define MSG_TX_BUF_RELEASE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:83</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_af031c2ac982002330a6a98379bd78f2a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a></div><div class="ttdeci">static void PDPTN5110_MsgIncrMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:66</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a3f43dcc28b084f1a3a2d05c3821290d9"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">__pd_phy_tcpc_instance_::msgTxSop</a></div><div class="ttdeci">uint8_t msgTxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:242</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_aeab1126bfe7625c8fba3cb342eb6aa99"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99">PDPTN5110_MsgSendCompLete</a></div><div class="ttdeci">void PDPTN5110_MsgSendCompLete(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sendResult)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:976</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073a4891ab8e97ec291cd5314365d341fe90"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a4891ab8e97ec291cd5314365d341fe90">kStatus_PD_Abort</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:82</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_cgraph" id="usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a" title="PDPTN5110_MsgIncrMsgId" alt="" coords="280,60,467,87"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99" title="PDPTN5110_MsgSendCompLete" alt="" coords="264,111,483,137"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="531,49,739,90"/><area shape="rect" id="node10" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f" title="Notify PD stack the PHY status. " alt="" coords="593,165,676,192"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="797,23,1013,65"/><area shape="rect" id="node6" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="1072,31,1227,57"/><area shape="rect" id="node7" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1275,23,1464,65"/><area shape="rect" id="node8" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1519,5,1665,32"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1513,56,1671,83"/><area shape="rect" id="node11" href="group__usb__os__abstraction.html#gaa83073c31cced5742027d4046bd633db" title="Sets an event flag. " alt="" coords="1082,140,1217,167"/><area shape="rect" id="node12" href="usb__pd__interface_8c.html#a6ad144a0e0d32b011f83156c3edd30a8" title="PD_MsgSendDone" alt="" coords="838,140,973,167"/><area shape="rect" id="node13" href="usb__pd__interface_8c.html#a83de99272e34bf7bad5146401157ccff" title="PD_ConnectSetPowerProgress" alt="" coords="802,191,1009,217"/><area shape="rect" id="node14" href="usb__pd__policy_8c.html#abdde9b20d8e38e68b6de66b1e9ece3eb" title="PD_DpmCheckLessOrEqualVsafe5v" alt="" coords="787,292,1024,319"/><area shape="rect" id="node18" href="usb__pd__interface_8c.html#a81174001cad1ad0a3978c41a4e21daa0" title="PD_MsgReceived" alt="" coords="841,241,969,268"/><area shape="rect" id="node15" href="usb__pd__policy_8c.html#a555b1880b5b259c3fdcd3da821e06cf2" title="PD_PhyControl" alt="" coords="1093,292,1206,319"/><area shape="rect" id="node16" href="group__usb__os__abstraction.html#gab25fb5d93d3b665ca8eadf2a670d3361" title="Checks an event flag. " alt="" coords="1293,267,1446,293"/><area shape="rect" id="node17" href="group__usb__os__abstraction.html#ga90357f04d40469dc07104033b3c8581c" title="Clears an event flag. " alt="" coords="1296,317,1443,344"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_icgraph" id="usb__pd__ptn5110__msg_8c_a9917c53219ae71793f1543d8433eae4e_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="264,12,467,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="515,12,717,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="766,12,911,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36d74aa3b6c70875e850cc202526cdeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t PDPTN5110_MsgHalSendCommonPrefix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Common prefix for all send data and control functions. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Only called from CLP task context </dd></dl>
<div class="fragment"><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;{</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">/* If Buffer is using by previous transmitted msg or received msg, current Transmit should fail. */</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">msgTxBufState</a> != <a class="code" href="usb__pd__ptn5110_8h.html#a6bd93fd4549a6e7631400362d6776cfc">TCPC_TX_BUF_AVAILABLE</a>)</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="comment">/* Buffer will now be used for TX */</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">msgTxBufState</a> = <a class="code" href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a>;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#ac9f3925eba2900e298ebeaa8d87c9699">PDPTN5110_MsgHalSetTxSopMode</a>(ptn5110Instance, sop);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    sop = (1 &lt;&lt; sop);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keywordflow">if</span> (!(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> &amp; sop))</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">/* We need to control TX and RX sop together - otherwise we cannot receive good crc response */</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a>(ptn5110Instance, sop);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">/* Clear TX done cached status before sending */</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2">PDPTN5110_IntcTxDoneSeen</a>(ptn5110Instance);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a24037bc939fa4ef146806af07f94633d"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">__pd_phy_tcpc_instance_::msgTxBufState</a></div><div class="ttdeci">volatile uint8_t msgTxBufState</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:219</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_ac9f3925eba2900e298ebeaa8d87c9699"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#ac9f3925eba2900e298ebeaa8d87c9699">PDPTN5110_MsgHalSetTxSopMode</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetTxSopMode(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdoc">Change the SOP used for transmit. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:200</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_ae070d3966d31951eabb91ba346cde8ce"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetRxSopEnable(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop_mask)</div><div class="ttdoc">Change the SOP mask used for receive. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:210</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a34494ce747c33f65b965317eeb1e1e34"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:56</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a6bd93fd4549a6e7631400362d6776cfc"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a6bd93fd4549a6e7631400362d6776cfc">TCPC_TX_BUF_AVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_AVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:54</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a57a93596569ed29179bb8569b2fdd3b2"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2">PDPTN5110_IntcTxDoneSeen</a></div><div class="ttdeci">uint16_t PDPTN5110_IntcTxDoneSeen(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Query if an external tx done interrupts has been seen. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:662</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_cgraph" id="usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#ac9f3925eba2900e298ebeaa8d87c9699" title="Change the SOP used for transmit. " alt="" coords="286,5,525,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="301,57,509,98"/><area shape="rect" id="node9" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2" title="Query if an external tx done interrupts has been seen. " alt="" coords="305,124,506,151"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="573,54,789,95"/><area shape="rect" id="node5" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="837,61,992,88"/><area shape="rect" id="node6" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1040,54,1229,95"/><area shape="rect" id="node7" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1285,36,1430,63"/><area shape="rect" id="node8" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1278,87,1437,113"/><area shape="rect" id="node10" href="usb__pd__ptn5110__hal_8c.html#a5d3a101dfa4ff56b35bf2006983b9a80" title="Query if an external interrupts has bneen seen. " alt="" coords="586,119,777,161"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_icgraph" id="usb__pd__ptn5110__msg_8c_a36d74aa3b6c70875e850cc202526cdeb_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61" title="Common prefix for all send data functions. " alt="" coords="293,5,499,46"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311" title="Send a control message, specify sop. " alt="" coords="286,71,506,97"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="555,71,688,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c2dd9dfad91380bc2e067e0ae3f5311"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PDPTN5110_MsgHalSendControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a control message, specify sop. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd><a class="el" href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447" title="Wait the result of the send after the tx_done interrupt has been received. ">PDPTN5110_MsgHalWaitSendResult()</a> must be called after this to wait until the TX is complete. </dd></dl>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;{</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    uint8_t retValue = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    {</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb">PDPTN5110_MsgHalSendCommonPrefix</a>(ptn5110Instance, sop))</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="keywordflow">if</span> (type == <a class="code" href="usb__pd__spec_8h.html#a5dd447708699386a010c1e71e0f9368bac009832ce574102c19d98de13758e68f">kPD_MsgSoftReset</a>)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            {</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                <a class="code" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a>(ptn5110Instance, sop);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1">PDPTN5110_MsgHalSetTxDataReq</a>(ptn5110Instance, sop, 0);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="comment">/* Update tx_byte_count/tx_buf_header before sending */</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a>(ptn5110Instance, (uint8_t *)&amp;ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">msgTxBuf</a>[<a class="code" href="usb__pd__ptn5110_8h.html#ac6634210f007525d3f6835bfb3f8b3ae">TCPC_TRANSMIT_BYTE_COUNT_POS</a>],</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                              <a class="code" href="usb__pd__ptn5110_8h.html#a640c4868ddf5f65c38ab3498a6863c97">TCPC_TRANSMIT_BYTE_COUNT_LEN</a>, <a class="code" href="usb__pd__ptn5110__register_8h.html#a5bef945cc80bfc9b6e2e6703a4fca840">ADDR_transmit_byte_count</a>);</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <a class="code" href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a>(ptn5110Instance, (uint8_t *)&amp;ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">msgTxBuf</a>[<a class="code" href="usb__pd__ptn5110_8h.html#addbe69ac29f2dc7b4b2a5a388662cc79">TCPC_TX_BUF_HEADER_BYTE_POS</a>],</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                              <a class="code" href="usb__pd__ptn5110_8h.html#ab10ca7519f5f86f186e3c2ccd416b8a1">TCPC_TX_BUF_HEADER_LEN</a>, <a class="code" href="usb__pd__ptn5110__register_8h.html#a39e5ec19c080e28fbb6e77d63c26b93a">ADDR_tx_buf_header</a>);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="comment">/* If we&#39;re still using Transmit Buf, start Transmitting. Otherwise the transmition has been interrupted by</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="comment">/* RX, stop Transmitting */</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">msgTxBufState</a> == <a class="code" href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a>)</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            {</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="comment">/* TCPM must writes the content and configuration of the message to be transmitted into the */</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                <span class="comment">/* TRANSMIT_BUFFER before start transmitting */</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                <a class="code" href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a>;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                retValue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    }</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> retValue;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a5bef945cc80bfc9b6e2e6703a4fca840"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a5bef945cc80bfc9b6e2e6703a4fca840">ADDR_transmit_byte_count</a></div><div class="ttdeci">#define ADDR_transmit_byte_count</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1468</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a6907d31600f9c1e96354e99a25d4fbd1"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1">PDPTN5110_MsgHalSetTxDataReq</a></div><div class="ttdeci">static void PDPTN5110_MsgHalSetTxDataReq(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop, uint8_t count)</div><div class="ttdoc">Common register access code for all send data functions to set the request. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:305</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_addbe69ac29f2dc7b4b2a5a388662cc79"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#addbe69ac29f2dc7b4b2a5a388662cc79">TCPC_TX_BUF_HEADER_BYTE_POS</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_BYTE_POS</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:52</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a36d74aa3b6c70875e850cc202526cdeb"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb">PDPTN5110_MsgHalSendCommonPrefix</a></div><div class="ttdeci">static uint8_t PDPTN5110_MsgHalSendCommonPrefix(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdoc">Common prefix for all send data and control functions. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:224</div></div>
<div class="ttc" id="usb__pd__spec_8h_html_a5dd447708699386a010c1e71e0f9368bac009832ce574102c19d98de13758e68f"><div class="ttname"><a href="usb__pd__spec_8h.html#a5dd447708699386a010c1e71e0f9368bac009832ce574102c19d98de13758e68f">kPD_MsgSoftReset</a></div><div class="ttdef"><b>Definition:</b> usb_pd_spec.h:85</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a24037bc939fa4ef146806af07f94633d"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">__pd_phy_tcpc_instance_::msgTxBufState</a></div><div class="ttdeci">volatile uint8_t msgTxBufState</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:219</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a9168cbd369f3dfa0a432499b98e49b85"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a></div><div class="ttdeci">#define REG_SET_BLOCK_REF(ptn5110Instance, src, length, reg)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:275</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a6c6f70683a88c88d964baae4cd914350"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a></div><div class="ttdeci">#define MSG_TX_START_TRANSMIT</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:97</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ac6634210f007525d3f6835bfb3f8b3ae"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ac6634210f007525d3f6835bfb3f8b3ae">TCPC_TRANSMIT_BYTE_COUNT_POS</a></div><div class="ttdeci">#define TCPC_TRANSMIT_BYTE_COUNT_POS</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:51</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a39e5ec19c080e28fbb6e77d63c26b93a"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a39e5ec19c080e28fbb6e77d63c26b93a">ADDR_tx_buf_header</a></div><div class="ttdeci">#define ADDR_tx_buf_header</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1469</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a8e1d29bc419bff24ef7dce9038a0cbe6"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">__pd_phy_tcpc_instance_::msgTxBuf</a></div><div class="ttdeci">uint8_t * msgTxBuf</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:207</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a34494ce747c33f65b965317eeb1e1e34"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:56</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ab10ca7519f5f86f186e3c2ccd416b8a1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ab10ca7519f5f86f186e3c2ccd416b8a1">TCPC_TX_BUF_HEADER_LEN</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_LEN</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:40</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a8eb6e370f609bad660887fbf1c6bb6a1"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a></div><div class="ttdeci">static void PDPTN5110_MsgResetMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:71</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a640c4868ddf5f65c38ab3498a6863c97"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a640c4868ddf5f65c38ab3498a6863c97">TCPC_TRANSMIT_BYTE_COUNT_LEN</a></div><div class="ttdeci">#define TCPC_TRANSMIT_BYTE_COUNT_LEN</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:41</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_cgraph" id="usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb" title="Common prefix for all send data and control functions. " alt="" coords="277,57,507,98"/><area shape="rect" id="node12" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1" title="PDPTN5110_MsgResetMsgId" alt="" coords="293,123,491,149"/><area shape="rect" id="node13" href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1" title="Common register access code for all send data functions to set the request. " alt="" coords="275,173,509,200"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#ac9f3925eba2900e298ebeaa8d87c9699" title="Change the SOP used for transmit. " alt="" coords="558,5,797,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="573,57,781,98"/><area shape="rect" id="node10" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2" title="Query if an external tx done interrupts has been seen. " alt="" coords="577,124,778,151"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="845,54,1061,95"/><area shape="rect" id="node6" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="1109,61,1264,88"/><area shape="rect" id="node7" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1312,54,1501,95"/><area shape="rect" id="node8" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1557,36,1702,63"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1550,87,1709,113"/><area shape="rect" id="node11" href="usb__pd__ptn5110__hal_8c.html#a5d3a101dfa4ff56b35bf2006983b9a80" title="Query if an external interrupts has bneen seen. " alt="" coords="858,119,1049,161"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_icgraph" id="usb__pd__ptn5110__msg_8c_a4c2dd9dfad91380bc2e067e0ae3f5311_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="275,5,408,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43147a12f80189c0e1d13933d3be8cfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PDPTN5110_MsgHalSendData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a data message. The data object must be loaded to the PDPTN5110_MsgHalGetTxPayloadPtr() buffer before calling this function. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>Number of power data objects </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>We were able to initiate sending a source capabilities message </td></tr>
    <tr><td class="paramname">false</td><td>We were not able to initiate sending a source capabilities message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Only called from CLP task context </dd>
<dd>
The data object contents of the message must be written to the buffer returned by PDPTN5110_MsgHalGetTxPayloadPtr() </dd>
<dd>
<a class="el" href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447" title="Wait the result of the send after the tx_done interrupt has been received. ">PDPTN5110_MsgHalWaitSendResult()</a> must be called after this to wait until the TX is complete. </dd></dl>
<div class="fragment"><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">/* TODO: fill the data MsgHalGetTxPayloadPtr MsgHalGetRxPayloadPtr */</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    uint8_t retValue = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#ade7d7d0b909fbac1e9e727a8fd28576d">MSG_SEND_DATA_PREFIX</a>(ptn5110Instance, sop, type);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1">PDPTN5110_MsgHalSetTxDataReq</a>(ptn5110Instance, sop, count);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        <span class="comment">/* Write byte_count/tx_buf_header/tx_buf_obj_byte in one transaction, as per USB TCPC specification 4.3.5 */</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="comment">/* Writing the TRANSMIT_BUFFER */</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a>(ptn5110Instance, (uint8_t *)&amp;ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">msgTxBuf</a>[<a class="code" href="usb__pd__ptn5110_8h.html#ac6634210f007525d3f6835bfb3f8b3ae">TCPC_TRANSMIT_BYTE_COUNT_POS</a>],</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                          ((count &lt;&lt; 2) + <a class="code" href="usb__pd__ptn5110_8h.html#ab10ca7519f5f86f186e3c2ccd416b8a1">TCPC_TX_BUF_HEADER_LEN</a> + <a class="code" href="usb__pd__ptn5110_8h.html#a640c4868ddf5f65c38ab3498a6863c97">TCPC_TRANSMIT_BYTE_COUNT_LEN</a>),</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                          <a class="code" href="usb__pd__ptn5110__register_8h.html#a5bef945cc80bfc9b6e2e6703a4fca840">ADDR_transmit_byte_count</a>);</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="comment">/* If we&#39;re still using Transmit Buf, start Transmitting. Otherwise the transmition has been interrupted by RX,</span></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="comment">/* stop Transmitting */</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">msgTxBufState</a> == <a class="code" href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a>)</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        {</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="comment">/* TCPM must writes the content and configuration of the message to be transmitted into the TRANSMIT_BUFFER</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="comment">/* before start transmitting */</span></div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a>;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            retValue = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">return</span> retValue;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a5bef945cc80bfc9b6e2e6703a4fca840"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a5bef945cc80bfc9b6e2e6703a4fca840">ADDR_transmit_byte_count</a></div><div class="ttdeci">#define ADDR_transmit_byte_count</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1468</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a6907d31600f9c1e96354e99a25d4fbd1"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1">PDPTN5110_MsgHalSetTxDataReq</a></div><div class="ttdeci">static void PDPTN5110_MsgHalSetTxDataReq(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop, uint8_t count)</div><div class="ttdoc">Common register access code for all send data functions to set the request. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:305</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a24037bc939fa4ef146806af07f94633d"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">__pd_phy_tcpc_instance_::msgTxBufState</a></div><div class="ttdeci">volatile uint8_t msgTxBufState</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:219</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a9168cbd369f3dfa0a432499b98e49b85"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a9168cbd369f3dfa0a432499b98e49b85">REG_SET_BLOCK_REF</a></div><div class="ttdeci">#define REG_SET_BLOCK_REF(ptn5110Instance, src, length, reg)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:275</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a6c6f70683a88c88d964baae4cd914350"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a></div><div class="ttdeci">#define MSG_TX_START_TRANSMIT</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:97</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ac6634210f007525d3f6835bfb3f8b3ae"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ac6634210f007525d3f6835bfb3f8b3ae">TCPC_TRANSMIT_BYTE_COUNT_POS</a></div><div class="ttdeci">#define TCPC_TRANSMIT_BYTE_COUNT_POS</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:51</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a8e1d29bc419bff24ef7dce9038a0cbe6"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">__pd_phy_tcpc_instance_::msgTxBuf</a></div><div class="ttdeci">uint8_t * msgTxBuf</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:207</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a34494ce747c33f65b965317eeb1e1e34"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:56</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ab10ca7519f5f86f186e3c2ccd416b8a1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ab10ca7519f5f86f186e3c2ccd416b8a1">TCPC_TX_BUF_HEADER_LEN</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_LEN</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:40</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a640c4868ddf5f65c38ab3498a6863c97"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a640c4868ddf5f65c38ab3498a6863c97">TCPC_TRANSMIT_BYTE_COUNT_LEN</a></div><div class="ttdeci">#define TCPC_TRANSMIT_BYTE_COUNT_LEN</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:41</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_ade7d7d0b909fbac1e9e727a8fd28576d"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#ade7d7d0b909fbac1e9e727a8fd28576d">MSG_SEND_DATA_PREFIX</a></div><div class="ttdeci">#define MSG_SEND_DATA_PREFIX(ptn5110Instance, SOP, TYPE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:265</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_cgraph" id="usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a6907d31600f9c1e96354e99a25d4fbd1" title="Common register access code for all send data functions to set the request. " alt="" coords="261,5,496,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_icgraph" id="usb__pd__ptn5110__msg_8c_a43147a12f80189c0e1d13933d3be8cfe_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="261,5,395,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29dc8db6b2478eca435f22cee25f6a61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t PDPTN5110_MsgHalSendDataPrefix </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Common prefix for all send data functions. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Type of data message to send </td></tr>
    <tr><td class="paramname">log</td><td>Enable logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Only called from CLP task context </dd></dl>
<div class="fragment"><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb">PDPTN5110_MsgHalSendCommonPrefix</a>(ptn5110Instance, sop))</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a36d74aa3b6c70875e850cc202526cdeb"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb">PDPTN5110_MsgHalSendCommonPrefix</a></div><div class="ttdeci">static uint8_t PDPTN5110_MsgHalSendCommonPrefix(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdoc">Common prefix for all send data and control functions. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:224</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a29dc8db6b2478eca435f22cee25f6a61_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a29dc8db6b2478eca435f22cee25f6a61_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a29dc8db6b2478eca435f22cee25f6a61_cgraph" id="usb__pd__ptn5110__msg_8c_a29dc8db6b2478eca435f22cee25f6a61_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb" title="Common prefix for all send data and control functions. " alt="" coords="262,57,493,98"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#ac9f3925eba2900e298ebeaa8d87c9699" title="Change the SOP used for transmit. " alt="" coords="542,5,781,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="557,57,765,98"/><area shape="rect" id="node10" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2" title="Query if an external tx done interrupts has been seen. " alt="" coords="561,124,762,151"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="829,54,1045,95"/><area shape="rect" id="node6" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="1093,61,1248,88"/><area shape="rect" id="node7" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1296,54,1485,95"/><area shape="rect" id="node8" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1541,36,1686,63"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1534,87,1693,113"/><area shape="rect" id="node11" href="usb__pd__ptn5110__hal_8c.html#a5d3a101dfa4ff56b35bf2006983b9a80" title="Query if an external interrupts has bneen seen. " alt="" coords="842,119,1033,161"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a197ab289f188adce834d460f882e7955"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSendReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hardResetOrCableReset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableReset: 0 - hard reset, 1 - cable reset. </p>
<hr/>
 <div class="fragment"><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;{</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="comment">/* Buffer will now be used for TX, Hard Reset is allowed to be sent while the TCPC is still processing a previous */</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">/* transmission */</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">msgTxBufState</a> = <a class="code" href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">/* Need to update Transmit SOP* message field to Hard Reset/Cable Reset type and Retry Counter should be set to 0 */</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a>(ptn5110Instance, MSG_TX, transmit, 5 + hardResetOrCableReset);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">/* TCPM must writes the content and configuration of the message to be transmitted into the TRANSMIT_BUFFER before</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">/* start transmitting */</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a>;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span> (hardResetOrCableReset == 0)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <a class="code" href="usb__pd__timer_8c.html#afa3b5394c429c185ea93be16ddb1545f">PD_TimerStart</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fa629695f4472eb942d64b013b16b37c72">tMsgHardResetCompleteTimer</a>, <a class="code" href="usb__pd__timer_8h.html#aa33fd2ddc8fea4f90e60ead50594d09a">T_HARD_RESET_COMPLETE</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="comment">/* Wait until Reset msg has been sent successafully */</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <span class="comment">/* Need to read the status first, so that it doesn&#39;t stay set on a txAbort. */</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        {</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="comment">/* Wait for hard reset to be sent */</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            uint16_t txStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2">PDPTN5110_IntcTxDoneSeen</a>(ptn5110Instance);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">if</span> ((txStatus &amp; <a class="code" href="usb__pd__ptn5110_8h.html#a09e77dcd633c91c69c6f3d62f266a929">TX_HARDRESET_MASK</a>) ||</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                <a class="code" href="usb__pd__timer_8c.html#a3d4072fbbc7b10a05c795eaf9ed33f5f">PD_TimerCheckInvalidOrTimeOut</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fa629695f4472eb942d64b013b16b37c72">tMsgHardResetCompleteTimer</a>))</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            {</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">txAbort</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;                <a class="code" href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a>;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;            }</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;        } <span class="keywordflow">while</span> (1);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <a class="code" href="usb__pd__timer_8c.html#a453ba4a7609afd86d5e6b9fb8759b6b5">PD_TimerClear</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fa629695f4472eb942d64b013b16b37c72">tMsgHardResetCompleteTimer</a>);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a>(ptn5110Instance);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;        <span class="comment">/* Restore message reception enable */</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155">PDPTN5110_MsgEnableRxAfterReset</a>(ptn5110Instance);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447">PDPTN5110_MsgHalWaitSendResult</a>(ptn5110Instance);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        <span class="comment">/* Reset all sop&#39; sop&#39;&#39; msgid  after sending cable reset */</span></div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1ac884af27fd06f1ae0c9e148c596ac5fa">kPD_MsgSOPp</a>);</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a9e34c9f67e13b4b9ba3d5d3c609a2f07">kPD_MsgSOPpp</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a99d67ef877b4a6c284961606a90933ba">kPD_MsgSOPDbg</a>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a9d8a0135be604fc6c419dec33470852e">kPD_MsgSOPpDbg</a>);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1ac884af27fd06f1ae0c9e148c596ac5fa"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1ac884af27fd06f1ae0c9e148c596ac5fa">kPD_MsgSOPp</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:220</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a99c7023b1f96a94d49332f542d8bc744"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a></div><div class="ttdeci">#define MSG_TX_BUF_RELEASE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:83</div></div>
<div class="ttc" id="usb__pd__timer_8c_html_a453ba4a7609afd86d5e6b9fb8759b6b5"><div class="ttname"><a href="usb__pd__timer_8c.html#a453ba4a7609afd86d5e6b9fb8759b6b5">PD_TimerClear</a></div><div class="ttdeci">pd_status_t PD_TimerClear(pd_handle pdHandle, uint8_t timrName)</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.c:78</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a24037bc939fa4ef146806af07f94633d"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a24037bc939fa4ef146806af07f94633d">__pd_phy_tcpc_instance_::msgTxBufState</a></div><div class="ttdeci">volatile uint8_t msgTxBufState</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:219</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ac32468695e40e122402f73f58e2b2883"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">__pd_phy_tcpc_instance_::pdHandle</a></div><div class="ttdeci">pd_handle pdHandle</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:206</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a92e0101ac00c84252c0c7fb3998c4d3f"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a92e0101ac00c84252c0c7fb3998c4d3f">RegCacheWrite</a></div><div class="ttdeci">#define RegCacheWrite(ptn5110Instance, MODULE, REGISTER, VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:299</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a6c6f70683a88c88d964baae4cd914350"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a6c6f70683a88c88d964baae4cd914350">MSG_TX_START_TRANSMIT</a></div><div class="ttdeci">#define MSG_TX_START_TRANSMIT</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:97</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_aa2e4ba085b2b97dcb443e5714967f155"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155">PDPTN5110_MsgEnableRxAfterReset</a></div><div class="ttdeci">static void PDPTN5110_MsgEnableRxAfterReset(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">After any reset we need to re-enable the message RX. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:123</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a95990260c9d5be8724a2feca748ee3da"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">__pd_phy_tcpc_instance_::txAbort</a></div><div class="ttdeci">uint8_t txAbort</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:237</div></div>
<div class="ttc" id="usb__pd__timer_8c_html_afa3b5394c429c185ea93be16ddb1545f"><div class="ttname"><a href="usb__pd__timer_8c.html#afa3b5394c429c185ea93be16ddb1545f">PD_TimerStart</a></div><div class="ttdeci">pd_status_t PD_TimerStart(pd_handle pdHandle, uint8_t timrName, uint16_t timrTime)</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.c:94</div></div>
<div class="ttc" id="usb__pd__timer_8h_html_aa33fd2ddc8fea4f90e60ead50594d09a"><div class="ttname"><a href="usb__pd__timer_8h.html#aa33fd2ddc8fea4f90e60ead50594d09a">T_HARD_RESET_COMPLETE</a></div><div class="ttdeci">#define T_HARD_RESET_COMPLETE</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.h:92</div></div>
<div class="ttc" id="usb__pd__timer_8c_html_a3d4072fbbc7b10a05c795eaf9ed33f5f"><div class="ttname"><a href="usb__pd__timer_8c.html#a3d4072fbbc7b10a05c795eaf9ed33f5f">PD_TimerCheckInvalidOrTimeOut</a></div><div class="ttdeci">uint8_t PD_TimerCheckInvalidOrTimeOut(pd_handle pdHandle, uint8_t timrName)</div><div class="ttdef"><b>Definition:</b> usb_pd_timer.c:115</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1a9d8a0135be604fc6c419dec33470852e"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a9d8a0135be604fc6c419dec33470852e">kPD_MsgSOPpDbg</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:223</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a34494ce747c33f65b965317eeb1e1e34"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a34494ce747c33f65b965317eeb1e1e34">TCPC_TX_BUF_UNAVAILABLE</a></div><div class="ttdeci">#define TCPC_TX_BUF_UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:56</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a09e77dcd633c91c69c6f3d62f266a929"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a09e77dcd633c91c69c6f3d62f266a929">TX_HARDRESET_MASK</a></div><div class="ttdeci">#define TX_HARDRESET_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:72</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a8eb6e370f609bad660887fbf1c6bb6a1"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a></div><div class="ttdeci">static void PDPTN5110_MsgResetMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:71</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a2695a5daf065aa9d9e9064f8565a9447"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447">PDPTN5110_MsgHalWaitSendResult</a></div><div class="ttdeci">uint8_t PDPTN5110_MsgHalWaitSendResult(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Wait the result of the send after the tx_done interrupt has been received. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:600</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a14e713eb2da2853a2648e9918cf36ee8"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a></div><div class="ttdeci">void PDPTN5110_MsgResetAllMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:59</div></div>
<div class="ttc" id="usb__pd__timer_8h_html_a94e23fe7d4bf2bf6f8de1f51126d071fa629695f4472eb942d64b013b16b37c72"><div class="ttname"><a href="usb__pd__timer_8h.html#a94e23fe7d4bf2bf6f8de1f51126d071fa629695f4472eb942d64b013b16b37c72">tMsgHardResetCompleteTimer</a></div><div class="ttdef"><b>Definition:</b> usb_pd_timer.h:62</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a57a93596569ed29179bb8569b2fdd3b2"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2">PDPTN5110_IntcTxDoneSeen</a></div><div class="ttdeci">uint16_t PDPTN5110_IntcTxDoneSeen(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Query if an external tx done interrupts has been seen. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:662</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1a99d67ef877b4a6c284961606a90933ba"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a99d67ef877b4a6c284961606a90933ba">kPD_MsgSOPDbg</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:222</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1a9e34c9f67e13b4b9ba3d5d3c609a2f07"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1a9e34c9f67e13b4b9ba3d5d3c609a2f07">kPD_MsgSOPpp</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:221</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_cgraph" id="usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_cgraph">
<area shape="rect" id="node2" href="usb__pd__timer_8c.html#afa3b5394c429c185ea93be16ddb1545f" title="PD_TimerStart" alt="" coords="323,5,432,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2" title="Query if an external tx done interrupts has been seen. " alt="" coords="543,136,745,163"/><area shape="rect" id="node5" href="usb__pd__timer_8c.html#a3d4072fbbc7b10a05c795eaf9ed33f5f" title="PD_TimerCheckInvalidOrTimeOut" alt="" coords="267,107,488,133"/><area shape="rect" id="node6" href="usb__pd__timer_8c.html#a453ba4a7609afd86d5e6b9fb8759b6b5" title="PD_TimerClear" alt="" coords="321,157,433,184"/><area shape="rect" id="node7" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8" title="PDPTN5110_MsgResetAllMsgId" alt="" coords="270,208,485,235"/><area shape="rect" id="node8" href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155" title="After any reset we need to re&#45;enable the message RX. " alt="" coords="271,325,484,366"/><area shape="rect" id="node14" href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447" title="Wait the result of the send after the tx_done interrupt has been received. " alt="" coords="275,259,480,301"/><area shape="rect" id="node16" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1" title="PDPTN5110_MsgResetMsgId" alt="" coords="278,391,477,417"/><area shape="rect" id="node4" href="usb__pd__ptn5110__hal_8c.html#a5d3a101dfa4ff56b35bf2006983b9a80" title="Query if an external interrupts has bneen seen. " alt="" coords="801,129,991,170"/><area shape="rect" id="node9" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="536,325,752,366"/><area shape="rect" id="node10" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="819,332,973,359"/><area shape="rect" id="node11" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1040,325,1229,366"/><area shape="rect" id="node12" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1285,307,1430,333"/><area shape="rect" id="node13" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1278,357,1437,384"/><area shape="rect" id="node15" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a" title="PDPTN5110_MsgIncrMsgId" alt="" coords="551,267,737,293"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_icgraph" id="usb__pd__ptn5110__msg_8c_a197ab289f188adce834d460f882e7955_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="267,5,413,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ac6dd7f29e5cefa92f6b94392ea74b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSendSuccessIsrProcess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;{</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a>(ptn5110Instance, ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">msgTxSop</a>);</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a>;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99">PDPTN5110_MsgSendCompLete</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a>);</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a99c7023b1f96a94d49332f542d8bc744"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a></div><div class="ttdeci">#define MSG_TX_BUF_RELEASE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:83</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_af031c2ac982002330a6a98379bd78f2a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a></div><div class="ttdeci">static void PDPTN5110_MsgIncrMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:66</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:80</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a3f43dcc28b084f1a3a2d05c3821290d9"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">__pd_phy_tcpc_instance_::msgTxSop</a></div><div class="ttdeci">uint8_t msgTxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:242</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_aeab1126bfe7625c8fba3cb342eb6aa99"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99">PDPTN5110_MsgSendCompLete</a></div><div class="ttdeci">void PDPTN5110_MsgSendCompLete(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sendResult)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:976</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_cgraph" id="usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a" title="PDPTN5110_MsgIncrMsgId" alt="" coords="299,60,485,87"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99" title="PDPTN5110_MsgSendCompLete" alt="" coords="283,111,501,137"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="549,49,757,90"/><area shape="rect" id="node10" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f" title="Notify PD stack the PHY status. " alt="" coords="612,165,695,192"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="816,23,1032,65"/><area shape="rect" id="node6" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="1091,31,1245,57"/><area shape="rect" id="node7" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1293,23,1483,65"/><area shape="rect" id="node8" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1538,5,1683,32"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1531,56,1690,83"/><area shape="rect" id="node11" href="group__usb__os__abstraction.html#gaa83073c31cced5742027d4046bd633db" title="Sets an event flag. " alt="" coords="1101,140,1235,167"/><area shape="rect" id="node12" href="usb__pd__interface_8c.html#a6ad144a0e0d32b011f83156c3edd30a8" title="PD_MsgSendDone" alt="" coords="857,140,991,167"/><area shape="rect" id="node13" href="usb__pd__interface_8c.html#a83de99272e34bf7bad5146401157ccff" title="PD_ConnectSetPowerProgress" alt="" coords="821,191,1027,217"/><area shape="rect" id="node14" href="usb__pd__policy_8c.html#abdde9b20d8e38e68b6de66b1e9ece3eb" title="PD_DpmCheckLessOrEqualVsafe5v" alt="" coords="805,292,1043,319"/><area shape="rect" id="node18" href="usb__pd__interface_8c.html#a81174001cad1ad0a3978c41a4e21daa0" title="PD_MsgReceived" alt="" coords="860,241,988,268"/><area shape="rect" id="node15" href="usb__pd__policy_8c.html#a555b1880b5b259c3fdcd3da821e06cf2" title="PD_PhyControl" alt="" coords="1111,292,1225,319"/><area shape="rect" id="node16" href="group__usb__os__abstraction.html#gab25fb5d93d3b665ca8eadf2a670d3361" title="Checks an event flag. " alt="" coords="1311,267,1465,293"/><area shape="rect" id="node17" href="group__usb__os__abstraction.html#ga90357f04d40469dc07104033b3c8581c" title="Clears an event flag. " alt="" coords="1315,317,1461,344"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_icgraph" id="usb__pd__ptn5110__msg_8c_a6ac6dd7f29e5cefa92f6b94392ea74b6_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="283,12,485,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="534,12,735,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="785,12,930,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15cb31a257208e3f659c0a53c384d97a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSetPortRole </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>revision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>powerRole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>dataRole</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set/Change the port role, must be called before any messages are sent. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">role</td><td>The current role for this device. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Called from task context </dd></dl>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">/* Set the role for each */</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">/* As we are not a cable plug, set upper bits to 0 */</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a31fe4873d6a4ddce98b3105eccad7cee">revision</a> = revision;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a1957ee2915c6e62e75cef33cea665844">ADDR_message_header_info</a>,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        ((dataRole &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#add8ee1ca9a26dddc005128108183c8b8">TCPC_MESSAGE_HEADER_INFO_DATA_ROLE_LSB</a>) &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a9b1e0d4dbcd8a4ef14376fc43e5cd8b6">TCPC_MESSAGE_HEADER_INFO_DATA_ROLE_MASK</a>) |</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            ((revision &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#aab2e51b33f63732d7939f97ed3a61364">TCPC_MESSAGE_HEADER_INFO_USB_PD_SPECIFICATION_REVISION_LSB</a>) &amp;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;             <a class="code" href="usb__pd__ptn5110__register_8h.html#aeb09424e4564ed07dcb0b8e92bbc1c0f">TCPC_MESSAGE_HEADER_INFO_USB_PD_SPECIFICATION_REVISION_MASK</a>) |</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            ((powerRole &lt;&lt; <a class="code" href="usb__pd__ptn5110__register_8h.html#a3db883deb14e413ddaef61d0e6e8cb5c">TCPC_MESSAGE_HEADER_INFO_POWER_ROLE_LSB</a>) &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a4e791db85f88f570aa7bf486a40f7c72">TCPC_MESSAGE_HEADER_INFO_POWER_ROLE_MASK</a>));</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a9b1e0d4dbcd8a4ef14376fc43e5cd8b6"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a9b1e0d4dbcd8a4ef14376fc43e5cd8b6">TCPC_MESSAGE_HEADER_INFO_DATA_ROLE_MASK</a></div><div class="ttdeci">#define TCPC_MESSAGE_HEADER_INFO_DATA_ROLE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:473</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aab2e51b33f63732d7939f97ed3a61364"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aab2e51b33f63732d7939f97ed3a61364">TCPC_MESSAGE_HEADER_INFO_USB_PD_SPECIFICATION_REVISION_LSB</a></div><div class="ttdeci">#define TCPC_MESSAGE_HEADER_INFO_USB_PD_SPECIFICATION_REVISION_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:475</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a31fe4873d6a4ddce98b3105eccad7cee"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a31fe4873d6a4ddce98b3105eccad7cee">__pd_phy_tcpc_instance_::revision</a></div><div class="ttdeci">volatile uint8_t revision</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:247</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a3db883deb14e413ddaef61d0e6e8cb5c"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a3db883deb14e413ddaef61d0e6e8cb5c">TCPC_MESSAGE_HEADER_INFO_POWER_ROLE_LSB</a></div><div class="ttdeci">#define TCPC_MESSAGE_HEADER_INFO_POWER_ROLE_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:478</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_add8ee1ca9a26dddc005128108183c8b8"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#add8ee1ca9a26dddc005128108183c8b8">TCPC_MESSAGE_HEADER_INFO_DATA_ROLE_LSB</a></div><div class="ttdeci">#define TCPC_MESSAGE_HEADER_INFO_DATA_ROLE_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:472</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aeb09424e4564ed07dcb0b8e92bbc1c0f"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aeb09424e4564ed07dcb0b8e92bbc1c0f">TCPC_MESSAGE_HEADER_INFO_USB_PD_SPECIFICATION_REVISION_MASK</a></div><div class="ttdeci">#define TCPC_MESSAGE_HEADER_INFO_USB_PD_SPECIFICATION_REVISION_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:476</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a1957ee2915c6e62e75cef33cea665844"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a1957ee2915c6e62e75cef33cea665844">ADDR_message_header_info</a></div><div class="ttdeci">#define ADDR_message_header_info</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1449</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a4e791db85f88f570aa7bf486a40f7c72"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a4e791db85f88f570aa7bf486a40f7c72">TCPC_MESSAGE_HEADER_INFO_POWER_ROLE_MASK</a></div><div class="ttdeci">#define TCPC_MESSAGE_HEADER_INFO_POWER_ROLE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:479</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_cgraph" id="usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="272,31,427,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="475,23,664,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="719,5,865,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="713,56,871,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_icgraph" id="usb__pd__ptn5110__msg_8c_a15cb31a257208e3f659c0a53c384d97a_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="273,5,418,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9270792d50c929299fb0525020c1291a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSetReceiveDetect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set RECEIVE_DETECT register directly. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Called from task context and ISR </dd></dl>
<div class="fragment"><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;{</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#ac53a4853b82d2f2a09590df301aa3147">ADDR_receive_detect</a>, value);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac53a4853b82d2f2a09590df301aa3147"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac53a4853b82d2f2a09590df301aa3147">ADDR_receive_detect</a></div><div class="ttdeci">#define ADDR_receive_detect</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1450</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_cgraph" id="usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="269,31,424,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="472,23,661,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="717,5,862,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="710,56,869,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_icgraph" id="usb__pd__ptn5110__msg_8c_a9270792d50c929299fb0525020c1291a_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a060f68d7b7790b4ad0311395f8ac644e" title="Reset the protcol layer hardware. " alt="" coords="1409,5,1605,46"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#aa2e4ba085b2b97dcb443e5714967f155" title="After any reset we need to re&#45;enable the message RX. " alt="" coords="295,99,508,141"/><area shape="rect" id="node7" href="usb__pd__ptn5110__msg_8c.html#a3819bfc3718e5d6fa754f9a402455aa5" title="Setup passive PD monitoring (unused, low power related) " alt="" coords="284,398,519,439"/><area shape="rect" id="node8" href="usb__pd__ptn5110__msg_8c.html#a1f7aba9e8c5eef7018b18c617fdc27b1" title="Disable message RX and reset the protocol layer (for SOURCE_DISABLE state) (unused, low power related) " alt="" coords="270,191,533,217"/><area shape="rect" id="node10" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="297,333,505,374"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1657,191,1802,217"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955" title="Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableRese..." alt="" coords="1144,67,1357,93"/><area shape="rect" id="node6" href="usb__pd__ptn5110__msg_8c.html#a9cdfc7b9850cbc7252c4aeb05447f6fd" title="After all S/W processing of a hard reset is complete, flag the hardware (unused) " alt="" coords="597,99,803,141"/><area shape="rect" id="node9" href="usb__pd__ptn5110__interface_8c.html#a661c1fb39c7530ec757dffc93443b203" title="PDPTN5110_Init" alt="" coords="639,216,761,243"/><area shape="rect" id="node11" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="1406,216,1607,243"/><area shape="rect" id="node12" href="usb__pd__ptn5110__interface_8c.html#a9bd17dd5e461a91ba93e8452b66820fa" title="PDPTN5110_Receive" alt="" coords="625,475,775,501"/><area shape="rect" id="node13" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb" title="Common prefix for all send data and control functions. " alt="" coords="585,559,815,601"/><area shape="rect" id="node17" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99" title="PDPTN5110_MsgSendCompLete" alt="" coords="591,340,809,367"/><area shape="rect" id="node21" href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7" title="PDPTN5110_MsgReceiveCompLete" alt="" coords="582,424,818,451"/><area shape="rect" id="node14" href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61" title="Common prefix for all send data functions. " alt="" coords="878,618,1085,659"/><area shape="rect" id="node15" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311" title="Send a control message, specify sop. " alt="" coords="871,567,1091,593"/><area shape="rect" id="node16" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="1184,567,1317,593"/><area shape="rect" id="node18" href="usb__pd__ptn5110__msg_8c.html#a9917c53219ae71793f1543d8433eae4e" title="PDPTN5110_MsgHalSendAbort\lIsrProcess" alt="" coords="877,267,1086,309"/><area shape="rect" id="node20" href="usb__pd__ptn5110__msg_8c.html#a6ac6dd7f29e5cefa92f6b94392ea74b6" title="PDPTN5110_MsgHalSendSuccess\lIsrProcess" alt="" coords="867,333,1096,374"/><area shape="rect" id="node19" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="1149,308,1352,335"/><area shape="rect" id="node22" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20" title="This is called by the interrupt controller when we receive a message. " alt="" coords="868,450,1095,491"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae070d3966d31951eabb91ba346cde8ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSetRxSopEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the SOP mask used for receive. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sop_mask</td><td>mask where each bit selects the type of SOP to be received </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;{</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (sop_mask != ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a>)</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">msgRxSopMask</a> = sop_mask;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="comment">/* always enable Hard Reset reception */</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a>(ptn5110Instance, sop_mask | <a class="code" href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    }</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab4f0c543ff4b3ad2293c07da59f94aaf"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab4f0c543ff4b3ad2293c07da59f94aaf">__pd_phy_tcpc_instance_::msgRxSopMask</a></div><div class="ttdeci">uint8_t msgRxSopMask</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:241</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a34e1e1bbbc7932884de43e9095e16ef4"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a34e1e1bbbc7932884de43e9095e16ef4">TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</a></div><div class="ttdeci">#define TCPC_RECEIVE_DETECT_ENABLE_RESET_MSG_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:45</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a9270792d50c929299fb0525020c1291a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a">PDPTN5110_MsgHalSetReceiveDetect</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetReceiveDetect(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t value)</div><div class="ttdoc">Set RECEIVE_DETECT register directly. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:725</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_cgraph" id="usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="261,23,477,65"/><area shape="rect" id="node3" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="525,31,680,57"/><area shape="rect" id="node4" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="728,23,917,65"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="973,5,1118,32"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="966,56,1125,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_icgraph" id="usb__pd__ptn5110__msg_8c_ae070d3966d31951eabb91ba346cde8ce_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="1075,148,1277,175"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a9bd17dd5e461a91ba93e8452b66820fa" title="PDPTN5110_Receive" alt="" coords="305,323,455,350"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb" title="Common prefix for all send data and control functions. " alt="" coords="265,374,495,416"/><area shape="rect" id="node9" href="usb__pd__ptn5110__msg_8c.html#aeab1126bfe7625c8fba3cb342eb6aa99" title="PDPTN5110_MsgSendCompLete" alt="" coords="271,182,489,208"/><area shape="rect" id="node13" href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7" title="PDPTN5110_MsgReceiveCompLete" alt="" coords="262,31,498,58"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1326,90,1471,116"/><area shape="rect" id="node6" href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61" title="Common prefix for all send data functions. " alt="" coords="558,349,765,390"/><area shape="rect" id="node7" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311" title="Send a control message, specify sop. " alt="" coords="551,415,771,442"/><area shape="rect" id="node8" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="859,415,992,442"/><area shape="rect" id="node10" href="usb__pd__ptn5110__msg_8c.html#a9917c53219ae71793f1543d8433eae4e" title="PDPTN5110_MsgHalSendAbort\lIsrProcess" alt="" coords="557,141,766,182"/><area shape="rect" id="node12" href="usb__pd__ptn5110__msg_8c.html#a6ac6dd7f29e5cefa92f6b94392ea74b6" title="PDPTN5110_MsgHalSendSuccess\lIsrProcess" alt="" coords="547,206,776,248"/><area shape="rect" id="node11" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="824,148,1027,175"/><area shape="rect" id="node14" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20" title="This is called by the interrupt controller when we receive a message. " alt="" coords="548,24,775,65"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6907d31600f9c1e96354e99a25d4fbd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PDPTN5110_MsgHalSetTxDataReq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Common register access code for all send data functions to set the request. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Only called from CLP task context </dd></dl>
<div class="fragment"><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;{</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">/* Allow automatic retry when sending data message */</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, MSG_TX, transmit, <a class="code" href="usb__pd__ptn5110__register_8h.html#a44639c21d1037e0e7053d54f6689ddda">TCPC_TRANSMIT_RETRY_COUNTER_MASK</a>,</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                       <a class="code" href="usb__pd__ptn5110__register_8h.html#a2819d3c331a908818e47fbc1aeee13b9a21f3c71f0f9dfef10624584b6b5af870">AUTOMATICALLY_RETRY_MESSAGE_TRANSMISSION_THREE_TIMES</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">/* transmit_byte_count is the number of bytes in the TX_BUFFER_DATA_OBJECTS plus two (for the TX_BUF_HEADER) */</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">/* count is word (4 bytes), convert it to bytes by shifting left 2 bits */</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">msgTxBuf</a>[<a class="code" href="usb__pd__ptn5110_8h.html#ac6634210f007525d3f6835bfb3f8b3ae">TCPC_TRANSMIT_BYTE_COUNT_POS</a>] = (count &lt;&lt; 2) + <a class="code" href="usb__pd__ptn5110_8h.html#ab10ca7519f5f86f186e3c2ccd416b8a1">TCPC_TX_BUF_HEADER_LEN</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="comment">/* set msg header msg id */</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">msgTxBuf</a>[<a class="code" href="usb__pd__ptn5110_8h.html#addbe69ac29f2dc7b4b2a5a388662cc79">TCPC_TX_BUF_HEADER_BYTE_POS</a> + 1] &amp;= (~(<a class="code" href="usb__pd__ptn5110__register_8h.html#ad165e4ffd23813a2846f5887f91207cd">TCPC_TX_BUF_HEADER_TX_MESSAGE_ID_MASK</a> &gt;&gt; 8));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">msgTxBuf</a>[<a class="code" href="usb__pd__ptn5110_8h.html#addbe69ac29f2dc7b4b2a5a388662cc79">TCPC_TX_BUF_HEADER_BYTE_POS</a> + 1] |=</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        ((ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">msgId</a>[sop]) &lt;&lt; (<a class="code" href="usb__pd__ptn5110__register_8h.html#ac01dc9c311d82f33b6bd1e2a1145f24b">TCPC_TX_BUF_HEADER_TX_MESSAGE_ID_LSB</a> - 8));</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_addbe69ac29f2dc7b4b2a5a388662cc79"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#addbe69ac29f2dc7b4b2a5a388662cc79">TCPC_TX_BUF_HEADER_BYTE_POS</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_BYTE_POS</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:52</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a2819d3c331a908818e47fbc1aeee13b9a21f3c71f0f9dfef10624584b6b5af870"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a2819d3c331a908818e47fbc1aeee13b9a21f3c71f0f9dfef10624584b6b5af870">AUTOMATICALLY_RETRY_MESSAGE_TRANSMISSION_THREE_TIMES</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1178</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a6a94c29840da978ce0d5d0da545cf57f"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">__pd_phy_tcpc_instance_::msgId</a></div><div class="ttdeci">uint8_t msgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:238</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ac6634210f007525d3f6835bfb3f8b3ae"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ac6634210f007525d3f6835bfb3f8b3ae">TCPC_TRANSMIT_BYTE_COUNT_POS</a></div><div class="ttdeci">#define TCPC_TRANSMIT_BYTE_COUNT_POS</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:51</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ac01dc9c311d82f33b6bd1e2a1145f24b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ac01dc9c311d82f33b6bd1e2a1145f24b">TCPC_TX_BUF_HEADER_TX_MESSAGE_ID_LSB</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_TX_MESSAGE_ID_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:585</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a8e1d29bc419bff24ef7dce9038a0cbe6"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a8e1d29bc419bff24ef7dce9038a0cbe6">__pd_phy_tcpc_instance_::msgTxBuf</a></div><div class="ttdeci">uint8_t * msgTxBuf</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:207</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ab10ca7519f5f86f186e3c2ccd416b8a1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ab10ca7519f5f86f186e3c2ccd416b8a1">TCPC_TX_BUF_HEADER_LEN</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_LEN</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:40</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a44639c21d1037e0e7053d54f6689ddda"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a44639c21d1037e0e7053d54f6689ddda">TCPC_TRANSMIT_RETRY_COUNTER_MASK</a></div><div class="ttdeci">#define TCPC_TRANSMIT_RETRY_COUNTER_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:568</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_ad165e4ffd23813a2846f5887f91207cd"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#ad165e4ffd23813a2846f5887f91207cd">TCPC_TX_BUF_HEADER_TX_MESSAGE_ID_MASK</a></div><div class="ttdeci">#define TCPC_TX_BUF_HEADER_TX_MESSAGE_ID_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:586</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a6907d31600f9c1e96354e99a25d4fbd1_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a6907d31600f9c1e96354e99a25d4fbd1_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a6907d31600f9c1e96354e99a25d4fbd1_icgraph" id="usb__pd__ptn5110__msg_8c_a6907d31600f9c1e96354e99a25d4fbd1_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311" title="Send a control message, specify sop. " alt="" coords="289,5,509,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a43147a12f80189c0e1d13933d3be8cfe" title="Send a data message. The data object must be loaded to the PDPTN5110_MsgHalGetTxPayloadPtr() buffer b..." alt="" coords="295,56,502,83"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="557,31,691,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9f3925eba2900e298ebeaa8d87c9699"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSetTxSopMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the SOP used for transmit. </p>
<hr/>
 <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sop</td><td>Type of sop used for next packet transmit </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">msgTxSop</a> = sop;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a>(ptn5110Instance, MSG_TX, transmit, <a class="code" href="usb__pd__ptn5110__register_8h.html#a148e7461edb1339240d4f6e074f1ef62">TCPC_TRANSMIT_TRANSMIT_SOP_MESSAGE_MASK</a>, sop);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a148e7461edb1339240d4f6e074f1ef62"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a148e7461edb1339240d4f6e074f1ef62">TCPC_TRANSMIT_TRANSMIT_SOP_MESSAGE_MASK</a></div><div class="ttdeci">#define TCPC_TRANSMIT_TRANSMIT_SOP_MESSAGE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:571</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a3a2b41c2be56b4c6947ef71b319e9dc1"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a3a2b41c2be56b4c6947ef71b319e9dc1">RegCacheWriteField</a></div><div class="ttdeci">#define RegCacheWriteField(ptn5110Instances, MODULE, REGISTER, MASK, UPDATE_VALUE)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:305</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a3f43dcc28b084f1a3a2d05c3821290d9"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">__pd_phy_tcpc_instance_::msgTxSop</a></div><div class="ttdeci">uint8_t msgTxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:242</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ac9f3925eba2900e298ebeaa8d87c9699_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ac9f3925eba2900e298ebeaa8d87c9699_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ac9f3925eba2900e298ebeaa8d87c9699_icgraph" id="usb__pd__ptn5110__msg_8c_ac9f3925eba2900e298ebeaa8d87c9699_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a36d74aa3b6c70875e850cc202526cdeb" title="Common prefix for all send data and control functions. " alt="" coords="294,34,525,75"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a29dc8db6b2478eca435f22cee25f6a61" title="Common prefix for all send data functions. " alt="" coords="581,5,787,46"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311" title="Send a control message, specify sop. " alt="" coords="574,71,794,97"/><area shape="rect" id="node5" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="843,71,976,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acbe7dd640a7b81c7c218015127d001ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgHalSetupBist </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__pd__phy__drv.html#ga311e952eb852cd3570504fe0699d10ec">pd_bist_mst_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Control the HW bist mode This will send a test frame, continuous pattern or setup the hardware to receive bist. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>This will also enable the tx_done interrupt for TX mode </dd></dl>
<div class="fragment"><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;{</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="comment">/*    TCPC supports only two mode:  kBIST_CarrierMode2, kBIST_TestData */</span></div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="comment">/*    // Power up the load driver for TX - or disable for RX */</span></div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    <span class="comment">/*    if (mode==kBIST_TransmitMode) { */</span></div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    <span class="comment">/*        // Enable the interrupt for reception of the returned counters */</span></div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">/*        MSG_DATA(tx_bist_state) = BIST_TX_SENT; */</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">/*    } */</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="keywordflow">if</span> (mode == <a class="code" href="group__usb__pd__phy__drv.html#gga6e9f5312eacb47634a8cb7a9ef88ea2ea311a5b2f8176208f0d9fcc73e461a2d0">kBIST_TestData</a>)</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aad3c9ce4cbeb9feae002869320f59c43">tcpcRegCache</a>.<a class="code" href="structpd__phy__TCPC__reg__cache__t.html#a62952ade18c2ee72f74d53efa4f99378">CONTROL</a>.<a class="code" href="structpd__phy__TCPC__reg__cache__t.html#a8271f0587de98c5504df7e2bc489835d">tcpc_control</a> |= (<a class="code" href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a>);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#ac7ada252c132cd69a821171e17c327c4">REG_SET_BIT</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a>, <a class="code" href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a>);</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    }</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mode == <a class="code" href="group__usb__pd__phy__drv.html#gga6e9f5312eacb47634a8cb7a9ef88ea2ea376a9e89909ae22b43414d1feebda94b">kBIST_CarrierMode2</a>)</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    {</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        <a class="code" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a>(ptn5110Instance, <a class="code" href="usb__pd__ptn5110__register_8h.html#a943d3cd6fadca1d53ed1ece6691df576">ADDR_transmit</a>,</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                        ((uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a2819d3c331a908818e47fbc1aeee13b9a812647f0d7e4ed51ea6d4e49d4f28aab">NO_MESSAGE_RETRY_IS_REQUIRED</a> |</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                         (uint8_t)<a class="code" href="usb__pd__ptn5110__register_8h.html#a036b21e51d917a5f3b46e5f2a00de985a55e8321fe40f3d518703b71ca01a7e38">TRANSMIT_TRANSMIT_SOP_MESSAGE_TRANSMIT_BIST_CARRIER_MODE_2</a>));</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    }</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;}</div>
<div class="ttc" id="structpd__phy__TCPC__reg__cache__t_html_a8271f0587de98c5504df7e2bc489835d"><div class="ttname"><a href="structpd__phy__TCPC__reg__cache__t.html#a8271f0587de98c5504df7e2bc489835d">pd_phy_TCPC_reg_cache_t::tcpc_control</a></div><div class="ttdeci">uint8_t tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:157</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga6e9f5312eacb47634a8cb7a9ef88ea2ea376a9e89909ae22b43414d1feebda94b"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga6e9f5312eacb47634a8cb7a9ef88ea2ea376a9e89909ae22b43414d1feebda94b">kBIST_CarrierMode2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:197</div></div>
<div class="ttc" id="structpd__phy__TCPC__reg__cache__t_html_a62952ade18c2ee72f74d53efa4f99378"><div class="ttname"><a href="structpd__phy__TCPC__reg__cache__t.html#a62952ade18c2ee72f74d53efa4f99378">pd_phy_TCPC_reg_cache_t::CONTROL</a></div><div class="ttdeci">struct pd_phy_TCPC_reg_cache_t::@27 CONTROL</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a89aac5fc25777f43c58415e411e818b1"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a89aac5fc25777f43c58415e411e818b1">ADDR_tcpc_control</a></div><div class="ttdeci">#define ADDR_tcpc_control</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1421</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aad3c9ce4cbeb9feae002869320f59c43"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aad3c9ce4cbeb9feae002869320f59c43">__pd_phy_tcpc_instance_::tcpcRegCache</a></div><div class="ttdeci">pd_phy_TCPC_reg_cache_t tcpcRegCache</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:209</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga6e9f5312eacb47634a8cb7a9ef88ea2ea311a5b2f8176208f0d9fcc73e461a2d0"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga6e9f5312eacb47634a8cb7a9ef88ea2ea311a5b2f8176208f0d9fcc73e461a2d0">kBIST_TestData</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:200</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a036b21e51d917a5f3b46e5f2a00de985a55e8321fe40f3d518703b71ca01a7e38"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a036b21e51d917a5f3b46e5f2a00de985a55e8321fe40f3d518703b71ca01a7e38">TRANSMIT_TRANSMIT_SOP_MESSAGE_TRANSMIT_BIST_CARRIER_MODE_2</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1202</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a094ea05af65e7446bcefb6cfc6fff237"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237">REG_SET_REG_REF</a></div><div class="ttdeci">static void REG_SET_REG_REF(pd_phy_ptn5110_instance_t *ptn5110Instance, uint32_t reg, uint8_t data)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:259</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a246e6a17444329c822ca5d5996119184"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a246e6a17444329c822ca5d5996119184">TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</a></div><div class="ttdeci">#define TCPC_TCPC_CONTROL_BIST_TEST_MODE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:242</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a943d3cd6fadca1d53ed1ece6691df576"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a943d3cd6fadca1d53ed1ece6691df576">ADDR_transmit</a></div><div class="ttdeci">#define ADDR_transmit</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1467</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a2819d3c331a908818e47fbc1aeee13b9a812647f0d7e4ed51ea6d4e49d4f28aab"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a2819d3c331a908818e47fbc1aeee13b9a812647f0d7e4ed51ea6d4e49d4f28aab">NO_MESSAGE_RETRY_IS_REQUIRED</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1175</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_ac7ada252c132cd69a821171e17c327c4"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#ac7ada252c132cd69a821171e17c327c4">REG_SET_BIT</a></div><div class="ttdeci">#define REG_SET_BIT(port, reg, field)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:320</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_cgraph" id="usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="259,31,413,57"/><area shape="rect" id="node3" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="461,23,651,65"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="706,5,851,32"/><area shape="rect" id="node5" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="699,56,858,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_icgraph" id="usb__pd__ptn5110__msg_8c_acbe7dd640a7b81c7c218015127d001ba_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="259,5,405,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2695a5daf065aa9d9e9064f8565a9447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t PDPTN5110_MsgHalWaitSendResult </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait the result of the send after the tx_done interrupt has been received. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Once this is complete (unused only for cable reset) </dd></dl>
<div class="fragment"><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;{</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    uint16_t txStatus;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">/* Poll the interrupt controller for a result */</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="comment">/* Need to read the status first, so that it doesn&#39;t stay set on a txAbort. */</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">do</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    {</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        txStatus = <a class="code" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2">PDPTN5110_IntcTxDoneSeen</a>(ptn5110Instance);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordflow">if</span> (txStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a305e9d164662f0d6efaf96ee5a0bdd98">TCPC_ALERT_TRANSMIT_SOP_MESSAGE_SUCCESSFUL_MASK</a>)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        {</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a>(ptn5110Instance, ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">msgTxSop</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">txAbort</a>)</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        {</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">txAbort</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a>(ptn5110Instance, ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">msgTxSop</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">if</span> (txStatus &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#aa703af5b9387558a3f8bd9e8f8ddf7ca">TCPC_ALERT_TRANSMIT_SOP_MESSAGE_FAILED_MASK</a>)</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            {</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;            }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;            {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            }</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a>;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    } <span class="keywordflow">while</span> (1);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;}</div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a99c7023b1f96a94d49332f542d8bc744"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a99c7023b1f96a94d49332f542d8bc744">MSG_TX_BUF_RELEASE</a></div><div class="ttdeci">#define MSG_TX_BUF_RELEASE</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:83</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a305e9d164662f0d6efaf96ee5a0bdd98"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a305e9d164662f0d6efaf96ee5a0bdd98">TCPC_ALERT_TRANSMIT_SOP_MESSAGE_SUCCESSFUL_MASK</a></div><div class="ttdeci">#define TCPC_ALERT_TRANSMIT_SOP_MESSAGE_SUCCESSFUL_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:95</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a95990260c9d5be8724a2feca748ee3da"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">__pd_phy_tcpc_instance_::txAbort</a></div><div class="ttdeci">uint8_t txAbort</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:237</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_af031c2ac982002330a6a98379bd78f2a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a">PDPTN5110_MsgIncrMsgId</a></div><div class="ttdeci">static void PDPTN5110_MsgIncrMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:66</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_aa703af5b9387558a3f8bd9e8f8ddf7ca"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#aa703af5b9387558a3f8bd9e8f8ddf7ca">TCPC_ALERT_TRANSMIT_SOP_MESSAGE_FAILED_MASK</a></div><div class="ttdeci">#define TCPC_ALERT_TRANSMIT_SOP_MESSAGE_FAILED_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:101</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a3f43dcc28b084f1a3a2d05c3821290d9"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a3f43dcc28b084f1a3a2d05c3821290d9">__pd_phy_tcpc_instance_::msgTxSop</a></div><div class="ttdeci">uint8_t msgTxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:242</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a57a93596569ed29179bb8569b2fdd3b2"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2">PDPTN5110_IntcTxDoneSeen</a></div><div class="ttdeci">uint16_t PDPTN5110_IntcTxDoneSeen(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdoc">Query if an external tx done interrupts has been seen. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_hal.c:662</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_cgraph" id="usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110_8h.html#a57a93596569ed29179bb8569b2fdd3b2" title="Query if an external tx done interrupts has been seen. " alt="" coords="259,12,461,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#af031c2ac982002330a6a98379bd78f2a" title="PDPTN5110_MsgIncrMsgId" alt="" coords="267,63,453,89"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#a5d3a101dfa4ff56b35bf2006983b9a80" title="Query if an external interrupts has bneen seen. " alt="" coords="510,5,701,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_icgraph" id="usb__pd__ptn5110__msg_8c_a2695a5daf065aa9d9e9064f8565a9447_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955" title="Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableRese..." alt="" coords="259,12,472,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="521,12,666,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af031c2ac982002330a6a98379bd78f2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PDPTN5110_MsgIncrMsgId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">msgId</a>[sop] = (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">msgId</a>[sop] + 1) &amp; 0x07;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a6a94c29840da978ce0d5d0da545cf57f"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">__pd_phy_tcpc_instance_::msgId</a></div><div class="ttdeci">uint8_t msgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:238</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_af031c2ac982002330a6a98379bd78f2a_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_af031c2ac982002330a6a98379bd78f2a_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_af031c2ac982002330a6a98379bd78f2a_icgraph" id="usb__pd__ptn5110__msg_8c_af031c2ac982002330a6a98379bd78f2a_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a2695a5daf065aa9d9e9064f8565a9447" title="Wait the result of the send after the tx_done interrupt has been received. " alt="" coords="252,5,457,46"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a9917c53219ae71793f1543d8433eae4e" title="PDPTN5110_MsgHalSendAbort\lIsrProcess" alt="" coords="250,70,459,111"/><area shape="rect" id="node8" href="usb__pd__ptn5110__msg_8c.html#a6ac6dd7f29e5cefa92f6b94392ea74b6" title="PDPTN5110_MsgHalSendSuccess\lIsrProcess" alt="" coords="240,135,469,177"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955" title="Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableRese..." alt="" coords="768,21,981,48"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1030,49,1175,76"/><area shape="rect" id="node6" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="517,77,720,104"/><area shape="rect" id="node7" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="774,76,975,103"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab7229a8cdc4e1c840c8fd1a0d1d5b75c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgInterruptCallbackHardReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the bist data from the HW registers (unused) </p>
<hr/>
<hr/>
<p> This is called by the interrupt controller when we receive a hard reset. </p>
<dl class="section note"><dt>Note</dt><dd>Called only in interrupt context. </dd></dl>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">/* Abort any pending tx */</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">txAbort</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a>(ptn5110Instance);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f">PD_Notify</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="group__usb__pd__phy__drv.html#gga9e1e6534f05a5dfae46d27dbf43e0455a7e6b6e7834c0ee9d4b6a990f5f92b2ba">PD_PHY_EVENT_HARD_RESET_RECEIVED</a>, NULL);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ac32468695e40e122402f73f58e2b2883"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">__pd_phy_tcpc_instance_::pdHandle</a></div><div class="ttdeci">pd_handle pdHandle</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:206</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a95990260c9d5be8724a2feca748ee3da"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a95990260c9d5be8724a2feca748ee3da">__pd_phy_tcpc_instance_::txAbort</a></div><div class="ttdeci">uint8_t txAbort</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:237</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ga7f7f94758771b173653d27c508c8b33f"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f">PD_Notify</a></div><div class="ttdeci">void PD_Notify(pd_handle pdHandle, uint32_t event, void *param)</div><div class="ttdoc">Notify PD stack the PHY status. </div><div class="ttdef"><b>Definition:</b> usb_pd_interface.c:267</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a14e713eb2da2853a2648e9918cf36ee8"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8">PDPTN5110_MsgResetAllMsgId</a></div><div class="ttdeci">void PDPTN5110_MsgResetAllMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:59</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga9e1e6534f05a5dfae46d27dbf43e0455a7e6b6e7834c0ee9d4b6a990f5f92b2ba"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga9e1e6534f05a5dfae46d27dbf43e0455a7e6b6e7834c0ee9d4b6a990f5f92b2ba">PD_PHY_EVENT_HARD_RESET_RECEIVED</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:175</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_cgraph" id="usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a14e713eb2da2853a2648e9918cf36ee8" title="PDPTN5110_MsgResetAllMsgId" alt="" coords="281,40,495,66"/><area shape="rect" id="node3" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f" title="Notify PD stack the PHY status. " alt="" coords="347,90,429,117"/><area shape="rect" id="node4" href="group__usb__os__abstraction.html#gaa83073c31cced5742027d4046bd633db" title="Sets an event flag. " alt="" coords="830,40,965,66"/><area shape="rect" id="node5" href="usb__pd__interface_8c.html#a6ad144a0e0d32b011f83156c3edd30a8" title="PD_MsgSendDone" alt="" coords="595,40,730,66"/><area shape="rect" id="node6" href="usb__pd__interface_8c.html#a83de99272e34bf7bad5146401157ccff" title="PD_ConnectSetPowerProgress" alt="" coords="559,90,766,117"/><area shape="rect" id="node7" href="usb__pd__policy_8c.html#abdde9b20d8e38e68b6de66b1e9ece3eb" title="PD_DpmCheckLessOrEqualVsafe5v" alt="" coords="544,192,781,218"/><area shape="rect" id="node11" href="usb__pd__interface_8c.html#a81174001cad1ad0a3978c41a4e21daa0" title="PD_MsgReceived" alt="" coords="599,141,727,168"/><area shape="rect" id="node8" href="usb__pd__policy_8c.html#a555b1880b5b259c3fdcd3da821e06cf2" title="PD_PhyControl" alt="" coords="841,192,954,218"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#gab25fb5d93d3b665ca8eadf2a670d3361" title="Checks an event flag. " alt="" coords="1014,166,1167,193"/><area shape="rect" id="node10" href="group__usb__os__abstraction.html#ga90357f04d40469dc07104033b3c8581c" title="Clears an event flag. " alt="" coords="1017,217,1164,244"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_icgraph" id="usb__pd__ptn5110__msg_8c_ab7229a8cdc4e1c840c8fd1a0d1d5b75c_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="280,12,483,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="531,12,733,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="782,12,927,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa9f537f03af07588daf3ee11e48f9f20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgInterruptCallbackMsgRcvd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is called by the interrupt controller when we receive a message. </p>
<hr/>
 <dl class="section note"><dt>Note</dt><dd>Called only in interrupt context. </dd></dl>
<div class="fragment"><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;{</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    uint8_t frameType = (uint8_t)<a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, MSG_RX, rx_buf_frame_type);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    uint8_t rxBuf = <a class="code" href="usb__pd__ptn5110__msg_8c.html#a3cf4eaa9252ee950f8ce61aba3f6aa4a">PDPTN5110_MsgHalRxPktSopBuf</a>(frameType);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    uint16_t rxBufHeader = <a class="code" href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a>(ptn5110Instance, MSG_RX, rx_buf_header);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    uint8_t msgType = (rxBufHeader &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a03c5af82095348f7f9d30247636fbbc0">TCPC_RX_BUF_HEADER_RX_MESSAGE_TYPE_MASK</a>) &gt;&gt; <a class="code" href="usb__pd__ptn5110__register_8h.html#af077cc070256eb60e224879b5be614fd">TCPC_RX_BUF_HEADER_RX_MESSAGE_TYPE_LSB</a>;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    uint8_t msgId = (rxBufHeader &amp; <a class="code" href="usb__pd__ptn5110__register_8h.html#a3b7e23adf9ae1fa7282b956b50e7b20b">TCPC_RX_BUF_HEADER_RX_MESSAGE_ID_MASK</a>) &gt;&gt; <a class="code" href="usb__pd__ptn5110__register_8h.html#a0caaf16e134967667c77aea4d62f745d">TCPC_RX_BUF_HEADER_RX_MESSAGE_ID_LSB</a>;</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> ((msgType == <a class="code" href="usb__pd__spec_8h.html#a5dd447708699386a010c1e71e0f9368bac009832ce574102c19d98de13758e68f">kPD_MsgSoftReset</a>) &amp;&amp; (!(rxBufHeader &amp; <a class="code" href="usb__pd__spec_8h.html#a0e77a2a43dc2aeb65330621d625c0739">PD_MSG_HEADER_EXTENDED_MASK</a>)) &amp;&amp;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;        (!(rxBufHeader &amp; <a class="code" href="usb__pd__spec_8h.html#abe092f59b5c596f35d397e80e583b059">PD_MSG_HEADER_NUMBER_OF_DATA_OBJECTS_MASK</a>)))</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a>(ptn5110Instance, rxBuf);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="comment">/* Always receive SoftReset since SoftReset Message always has a MessageID value of zero */</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    }</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((msgId != ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">rcvMsgId</a>[frameType]) || ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">firstMsgAfterReset</a>[frameType])</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    {</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="comment">/* Drop the duplicate messages */</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="comment">/* 1.When the first good packet is received after a reset, the receiver shall store a copy of the received */</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <span class="comment">/* MessageID value */</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;        <span class="comment">/* 2.If MessageID value in the received Message is different than the stored value, the receiver shall return a</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">/* GoodCRC */</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="comment">/* Message with the new MessageID value, store a copy of the new MessageID value and process the Message. */</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">firstMsgAfterReset</a>[frameType] = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">rcvMsgId</a>[frameType] = msgId;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    }</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    {</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;        <span class="comment">/* For subsequent Messages, if MessageID value in a received Message is the same as the stored value, */</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="comment">/* the receiver shall return a GoodCRC Message with that MessageID value and drop the Message */</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        <span class="comment">/* (this is a retry of an already received Message) */</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">/* The TCPM reads the RECEIVE_BUFFER.RECEIVE_BYTE_COUNT and RECEIVE_BUFFER.RX_BUF_FRAME_TYPE. */</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">/* If the TCPC received an SOP* message, the TCPM reads as many bytes as defined in the */</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">/* RECEIVE_BUFFER.RECEIVE_BYTE_COUNT */</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">if</span> (frameType &lt;= <a class="code" href="usb__pd__ptn5110__register_8h.html#a66487c8955bb4084b6d4558f304e8086af7fc8a3a1a6e4553aa5e31eb1c49b1b9">RX_BUF_FRAME_TYPE_RECEIVED_SOP_MESSAGE_RECEIVED_SOP_PP</a>)</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7">PDPTN5110_MsgReceiveCompLete</a>(ptn5110Instance, <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a>);</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;}</div>
<div class="ttc" id="usb__pd__spec_8h_html_a5dd447708699386a010c1e71e0f9368bac009832ce574102c19d98de13758e68f"><div class="ttname"><a href="usb__pd__spec_8h.html#a5dd447708699386a010c1e71e0f9368bac009832ce574102c19d98de13758e68f">kPD_MsgSoftReset</a></div><div class="ttdef"><b>Definition:</b> usb_pd_spec.h:85</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a48ed369a0454eb7ee62d935801db2018"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">__pd_phy_tcpc_instance_::rcvMsgId</a></div><div class="ttdeci">uint8_t rcvMsgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:239</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a0caaf16e134967667c77aea4d62f745d"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a0caaf16e134967667c77aea4d62f745d">TCPC_RX_BUF_HEADER_RX_MESSAGE_ID_LSB</a></div><div class="ttdeci">#define TCPC_RX_BUF_HEADER_RX_MESSAGE_ID_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:523</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a3cf4eaa9252ee950f8ce61aba3f6aa4a"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a3cf4eaa9252ee950f8ce61aba3f6aa4a">PDPTN5110_MsgHalRxPktSopBuf</a></div><div class="ttdeci">static uint8_t PDPTN5110_MsgHalRxPktSopBuf(uint8_t SOP)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:78</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:80</div></div>
<div class="ttc" id="usb__pd__spec_8h_html_a0e77a2a43dc2aeb65330621d625c0739"><div class="ttname"><a href="usb__pd__spec_8h.html#a0e77a2a43dc2aeb65330621d625c0739">PD_MSG_HEADER_EXTENDED_MASK</a></div><div class="ttdeci">#define PD_MSG_HEADER_EXTENDED_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_spec.h:54</div></div>
<div class="ttc" id="usb__pd__ptn5110_8h_html_a829071e6e5240bf74a325f55eb6eabea"><div class="ttname"><a href="usb__pd__ptn5110_8h.html#a829071e6e5240bf74a325f55eb6eabea">RegCacheRead</a></div><div class="ttdeci">#define RegCacheRead(ptn5110Instance, MODULE, REGISTER)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:298</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a8eb6e370f609bad660887fbf1c6bb6a1"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1">PDPTN5110_MsgResetMsgId</a></div><div class="ttdeci">static void PDPTN5110_MsgResetMsgId(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:71</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a03c5af82095348f7f9d30247636fbbc0"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a03c5af82095348f7f9d30247636fbbc0">TCPC_RX_BUF_HEADER_RX_MESSAGE_TYPE_MASK</a></div><div class="ttdeci">#define TCPC_RX_BUF_HEADER_RX_MESSAGE_TYPE_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:536</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a66487c8955bb4084b6d4558f304e8086af7fc8a3a1a6e4553aa5e31eb1c49b1b9"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a66487c8955bb4084b6d4558f304e8086af7fc8a3a1a6e4553aa5e31eb1c49b1b9">RX_BUF_FRAME_TYPE_RECEIVED_SOP_MESSAGE_RECEIVED_SOP_PP</a></div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:1157</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_a3b7e23adf9ae1fa7282b956b50e7b20b"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#a3b7e23adf9ae1fa7282b956b50e7b20b">TCPC_RX_BUF_HEADER_RX_MESSAGE_ID_MASK</a></div><div class="ttdeci">#define TCPC_RX_BUF_HEADER_RX_MESSAGE_ID_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:524</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_ac5a47c3292f0eb098cbec28f49b8ede7"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7">PDPTN5110_MsgReceiveCompLete</a></div><div class="ttdeci">void PDPTN5110_MsgReceiveCompLete(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t rxState)</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:1013</div></div>
<div class="ttc" id="usb__pd__spec_8h_html_abe092f59b5c596f35d397e80e583b059"><div class="ttname"><a href="usb__pd__spec_8h.html#abe092f59b5c596f35d397e80e583b059">PD_MSG_HEADER_NUMBER_OF_DATA_OBJECTS_MASK</a></div><div class="ttdeci">#define PD_MSG_HEADER_NUMBER_OF_DATA_OBJECTS_MASK</div><div class="ttdef"><b>Definition:</b> usb_pd_spec.h:46</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a2551b07e2795fdd33e05f05dfad8f211"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">__pd_phy_tcpc_instance_::firstMsgAfterReset</a></div><div class="ttdeci">uint8_t firstMsgAfterReset[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:240</div></div>
<div class="ttc" id="usb__pd__ptn5110__register_8h_html_af077cc070256eb60e224879b5be614fd"><div class="ttname"><a href="usb__pd__ptn5110__register_8h.html#af077cc070256eb60e224879b5be614fd">TCPC_RX_BUF_HEADER_RX_MESSAGE_TYPE_LSB</a></div><div class="ttdeci">#define TCPC_RX_BUF_HEADER_RX_MESSAGE_TYPE_LSB</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_register.h:535</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_cgraph" id="usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a3cf4eaa9252ee950f8ce61aba3f6aa4a" title="PDPTN5110_MsgHalRxPktSopBuf" alt="" coords="285,9,513,36"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a8eb6e370f609bad660887fbf1c6bb6a1" title="PDPTN5110_MsgResetMsgId" alt="" coords="299,60,498,87"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#ac5a47c3292f0eb098cbec28f49b8ede7" title="PDPTN5110_MsgReceiveCompLete" alt="" coords="281,111,517,137"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="568,29,776,70"/><area shape="rect" id="node11" href="usb__pd__ptn5110__msg_8c.html#a25aae9743a9817b28950047458226913" title="Read the device receive buffer to our intermediate buffer. " alt="" coords="565,103,779,145"/><area shape="rect" id="node12" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f" title="Notify PD stack the PHY status. " alt="" coords="631,187,713,213"/><area shape="rect" id="node6" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="837,23,1053,65"/><area shape="rect" id="node7" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="1112,31,1267,57"/><area shape="rect" id="node8" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1315,23,1504,65"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1559,5,1705,32"/><area shape="rect" id="node10" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1553,56,1711,83"/><area shape="rect" id="node13" href="group__usb__os__abstraction.html#gaa83073c31cced5742027d4046bd633db" title="Sets an event flag. " alt="" coords="1122,140,1257,167"/><area shape="rect" id="node14" href="usb__pd__interface_8c.html#a6ad144a0e0d32b011f83156c3edd30a8" title="PD_MsgSendDone" alt="" coords="878,140,1013,167"/><area shape="rect" id="node15" href="usb__pd__interface_8c.html#a83de99272e34bf7bad5146401157ccff" title="PD_ConnectSetPowerProgress" alt="" coords="842,191,1049,217"/><area shape="rect" id="node16" href="usb__pd__policy_8c.html#abdde9b20d8e38e68b6de66b1e9ece3eb" title="PD_DpmCheckLessOrEqualVsafe5v" alt="" coords="827,292,1064,319"/><area shape="rect" id="node20" href="usb__pd__interface_8c.html#a81174001cad1ad0a3978c41a4e21daa0" title="PD_MsgReceived" alt="" coords="881,241,1009,268"/><area shape="rect" id="node17" href="usb__pd__policy_8c.html#a555b1880b5b259c3fdcd3da821e06cf2" title="PD_PhyControl" alt="" coords="1133,292,1246,319"/><area shape="rect" id="node18" href="group__usb__os__abstraction.html#gab25fb5d93d3b665ca8eadf2a670d3361" title="Checks an event flag. " alt="" coords="1333,267,1486,293"/><area shape="rect" id="node19" href="group__usb__os__abstraction.html#ga90357f04d40469dc07104033b3c8581c" title="Clears an event flag. " alt="" coords="1336,317,1483,344"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_icgraph" id="usb__pd__ptn5110__msg_8c_aa9f537f03af07588daf3ee11e48f9f20_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="280,12,483,39"/><area shape="rect" id="node3" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="531,12,733,39"/><area shape="rect" id="node4" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="782,12,927,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5a47c3292f0eb098cbec28f49b8ede7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgReceiveCompLete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rxState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;{</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    <a class="code" href="struct__pd__phy__rx__result.html">pd_phy_rx_result_t</a> rxResult;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    <a class="code" href="usb__osa__bm_8h.html#a8dbccf46cc2f8e3b5cece6a4a84f7ae8">USB_OSA_SR_ALLOC</a>();</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    <a class="code" href="usb__osa__bm_8h.html#a0485f70bf9c9a22f0340f014bc567362">USB_OSA_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a1e81356f89f625e8c0bd9436e7352fb3">rxHave</a>)</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    {</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a1e81356f89f625e8c0bd9436e7352fb3">rxHave</a> = 0u;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        <a class="code" href="usb__osa__bm_8h.html#a5b8053eca19b6df666a26fad3b07f953">USB_OSA_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        <a class="code" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a>(ptn5110Instance, 0);</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        <span class="keywordflow">if</span> (rxState == <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a6c0b47780246a36a36196cd5ff8abb52">kStatus_PD_Cancel</a>)</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;        {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;        }</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;        <span class="keywordflow">if</span> (rxState == <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a>)</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;        {</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#a25aae9743a9817b28950047458226913">PDPTN5110_MsgHalRxReceiveBuffer</a>(ptn5110Instance, ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a7f28556318380a24d677a846ce484a65">rxDataBuffer</a>, &amp;rxResult);</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;        }</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;            rxResult.<a class="code" href="struct__pd__phy__rx__result.html#a897dc52bf49a0d66a2aec6c4cff86a5b">rxLength</a> = 0;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            rxResult.<a class="code" href="struct__pd__phy__rx__result.html#a70f74c4fbff251a4e08c91977e0c2871">rxSop</a> = <a class="code" href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1ac5812dddac0166cb234ab829e3538849">kPD_MsgSOPInvalid</a>;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            rxResult.<a class="code" href="struct__pd__phy__rx__result.html#a29f871220a1cc0617a6c5dd86e222f60">rxResultStatus</a> = rxState;</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <a class="code" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f">PD_Notify</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="group__usb__pd__phy__drv.html#gga9e1e6534f05a5dfae46d27dbf43e0455a75755590b2a119a4a558e7b13a708bd4">PD_PHY_EVENT_RECEIVE_COMPLETE</a>, &amp;rxResult);</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    }</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    {</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;        <span class="keywordflow">if</span> (rxState == <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a>)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aad459891077d4c8217e6ff3a46563a34">cacheRxValid</a> = 1;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <a class="code" href="usb__osa__bm_8h.html#a5b8053eca19b6df666a26fad3b07f953">USB_OSA_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="keywordflow">if</span> (rxState == <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a>)</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        {</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            <span class="comment">/* cache the received message */</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#a25aae9743a9817b28950047458226913">PDPTN5110_MsgHalRxReceiveBuffer</a>(ptn5110Instance, (uint8_t *)&amp;(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ab7f6700604267abb1ae7c89b848038f5">msgRxCacheBuf</a>[0]),</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                                            (<a class="code" href="struct__pd__phy__rx__result.html">pd_phy_rx_result_t</a> *)&amp;(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#aac4e841aeece50c977507048068e5b71">cacheRxResult</a>));</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        }</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;}</div>
<div class="ttc" id="struct__pd__phy__rx__result_html"><div class="ttname"><a href="struct__pd__phy__rx__result.html">_pd_phy_rx_result</a></div><div class="ttdoc">PD PHY receive result information. PD_PHY_EVENT_RECEIVE_COMPLETE event use this structure as paramete...</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:206</div></div>
<div class="ttc" id="usb__osa__bm_8h_html_a5b8053eca19b6df666a26fad3b07f953"><div class="ttname"><a href="usb__osa__bm_8h.html#a5b8053eca19b6df666a26fad3b07f953">USB_OSA_EXIT_CRITICAL</a></div><div class="ttdeci">#define USB_OSA_EXIT_CRITICAL()</div><div class="ttdef"><b>Definition:</b> usb_osa_bm.h:40</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_a25aae9743a9817b28950047458226913"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#a25aae9743a9817b28950047458226913">PDPTN5110_MsgHalRxReceiveBuffer</a></div><div class="ttdeci">void PDPTN5110_MsgHalRxReceiveBuffer(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t *dest, pd_phy_rx_result_t *rxResult)</div><div class="ttdoc">Read the device receive buffer to our intermediate buffer. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:695</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ac32468695e40e122402f73f58e2b2883"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">__pd_phy_tcpc_instance_::pdHandle</a></div><div class="ttdeci">pd_handle pdHandle</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:206</div></div>
<div class="ttc" id="struct__pd__phy__rx__result_html_a29f871220a1cc0617a6c5dd86e222f60"><div class="ttname"><a href="struct__pd__phy__rx__result.html#a29f871220a1cc0617a6c5dd86e222f60">_pd_phy_rx_result::rxResultStatus</a></div><div class="ttdeci">uint8_t rxResultStatus</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:209</div></div>
<div class="ttc" id="usb__osa__bm_8h_html_a8dbccf46cc2f8e3b5cece6a4a84f7ae8"><div class="ttname"><a href="usb__osa__bm_8h.html#a8dbccf46cc2f8e3b5cece6a4a84f7ae8">USB_OSA_SR_ALLOC</a></div><div class="ttdeci">#define USB_OSA_SR_ALLOC()</div><div class="ttdef"><b>Definition:</b> usb_osa_bm.h:38</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a7f28556318380a24d677a846ce484a65"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a7f28556318380a24d677a846ce484a65">__pd_phy_tcpc_instance_::rxDataBuffer</a></div><div class="ttdeci">uint8_t * rxDataBuffer</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:211</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aac4e841aeece50c977507048068e5b71"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aac4e841aeece50c977507048068e5b71">__pd_phy_tcpc_instance_::cacheRxResult</a></div><div class="ttdeci">volatile pd_phy_rx_result_t cacheRxResult</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:213</div></div>
<div class="ttc" id="group__usb__pd__stack_html_gga7a924235403e0acab44d01e720091aa1ac5812dddac0166cb234ab829e3538849"><div class="ttname"><a href="group__usb__pd__stack.html#gga7a924235403e0acab44d01e720091aa1ac5812dddac0166cb234ab829e3538849">kPD_MsgSOPInvalid</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:224</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga9e1e6534f05a5dfae46d27dbf43e0455a75755590b2a119a4a558e7b13a708bd4"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga9e1e6534f05a5dfae46d27dbf43e0455a75755590b2a119a4a558e7b13a708bd4">PD_PHY_EVENT_RECEIVE_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:173</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_ae070d3966d31951eabb91ba346cde8ce"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetRxSopEnable(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop_mask)</div><div class="ttdoc">Change the SOP mask used for receive. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:210</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555">kStatus_PD_Success</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:80</div></div>
<div class="ttc" id="struct__pd__phy__rx__result_html_a897dc52bf49a0d66a2aec6c4cff86a5b"><div class="ttname"><a href="struct__pd__phy__rx__result.html#a897dc52bf49a0d66a2aec6c4cff86a5b">_pd_phy_rx_result::rxLength</a></div><div class="ttdeci">uint16_t rxLength</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:213</div></div>
<div class="ttc" id="struct__pd__phy__rx__result_html_a70f74c4fbff251a4e08c91977e0c2871"><div class="ttname"><a href="struct__pd__phy__rx__result.html#a70f74c4fbff251a4e08c91977e0c2871">_pd_phy_rx_result::rxSop</a></div><div class="ttdeci">uint8_t rxSop</div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:211</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ga7f7f94758771b173653d27c508c8b33f"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f">PD_Notify</a></div><div class="ttdeci">void PD_Notify(pd_handle pdHandle, uint32_t event, void *param)</div><div class="ttdoc">Notify PD stack the PHY status. </div><div class="ttdef"><b>Definition:</b> usb_pd_interface.c:267</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a1e81356f89f625e8c0bd9436e7352fb3"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a1e81356f89f625e8c0bd9436e7352fb3">__pd_phy_tcpc_instance_::rxHave</a></div><div class="ttdeci">volatile uint8_t rxHave</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:246</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_aad459891077d4c8217e6ff3a46563a34"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#aad459891077d4c8217e6ff3a46563a34">__pd_phy_tcpc_instance_::cacheRxValid</a></div><div class="ttdeci">volatile uint8_t cacheRxValid</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:214</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ab7f6700604267abb1ae7c89b848038f5"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ab7f6700604267abb1ae7c89b848038f5">__pd_phy_tcpc_instance_::msgRxCacheBuf</a></div><div class="ttdeci">uint8_t msgRxCacheBuf[32]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:208</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073a6c0b47780246a36a36196cd5ff8abb52"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a6c0b47780246a36a36196cd5ff8abb52">kStatus_PD_Cancel</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:84</div></div>
<div class="ttc" id="usb__osa__bm_8h_html_a0485f70bf9c9a22f0340f014bc567362"><div class="ttname"><a href="usb__osa__bm_8h.html#a0485f70bf9c9a22f0340f014bc567362">USB_OSA_ENTER_CRITICAL</a></div><div class="ttdeci">#define USB_OSA_ENTER_CRITICAL()</div><div class="ttdef"><b>Definition:</b> usb_osa_bm.h:39</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_cgraph" id="usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="293,29,501,70"/><area shape="rect" id="node8" href="usb__pd__ptn5110__msg_8c.html#a25aae9743a9817b28950047458226913" title="Read the device receive buffer to our intermediate buffer. " alt="" coords="291,103,504,145"/><area shape="rect" id="node9" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f" title="Notify PD stack the PHY status. " alt="" coords="356,187,439,213"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="563,23,779,65"/><area shape="rect" id="node4" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="837,31,992,57"/><area shape="rect" id="node5" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1040,23,1229,65"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1285,5,1430,32"/><area shape="rect" id="node7" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1278,56,1437,83"/><area shape="rect" id="node10" href="group__usb__os__abstraction.html#gaa83073c31cced5742027d4046bd633db" title="Sets an event flag. " alt="" coords="847,140,982,167"/><area shape="rect" id="node11" href="usb__pd__interface_8c.html#a6ad144a0e0d32b011f83156c3edd30a8" title="PD_MsgSendDone" alt="" coords="603,140,738,167"/><area shape="rect" id="node12" href="usb__pd__interface_8c.html#a83de99272e34bf7bad5146401157ccff" title="PD_ConnectSetPowerProgress" alt="" coords="567,191,774,217"/><area shape="rect" id="node13" href="usb__pd__policy_8c.html#abdde9b20d8e38e68b6de66b1e9ece3eb" title="PD_DpmCheckLessOrEqualVsafe5v" alt="" coords="552,292,789,319"/><area shape="rect" id="node17" href="usb__pd__interface_8c.html#a81174001cad1ad0a3978c41a4e21daa0" title="PD_MsgReceived" alt="" coords="607,241,735,268"/><area shape="rect" id="node14" href="usb__pd__policy_8c.html#a555b1880b5b259c3fdcd3da821e06cf2" title="PD_PhyControl" alt="" coords="858,292,971,319"/><area shape="rect" id="node15" href="group__usb__os__abstraction.html#gab25fb5d93d3b665ca8eadf2a670d3361" title="Checks an event flag. " alt="" coords="1058,267,1211,293"/><area shape="rect" id="node16" href="group__usb__os__abstraction.html#ga90357f04d40469dc07104033b3c8581c" title="Clears an event flag. " alt="" coords="1061,317,1208,344"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_icgraph" id="usb__pd__ptn5110__msg_8c_ac5a47c3292f0eb098cbec28f49b8ede7_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1067,5,1213,32"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20" title="This is called by the interrupt controller when we receive a message. " alt="" coords="291,29,517,70"/><area shape="rect" id="node4" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="565,33,768,60"/><area shape="rect" id="node5" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="817,32,1018,59"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14e713eb2da2853a2648e9918cf36ee8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgResetAllMsgId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    memset(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">msgId</a>, 0, <span class="keyword">sizeof</span>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">msgId</a>));</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    memset(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">rcvMsgId</a>, 0, <span class="keyword">sizeof</span>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">rcvMsgId</a>));</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    memset(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">firstMsgAfterReset</a>, <span class="keyword">true</span>, <span class="keyword">sizeof</span>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">firstMsgAfterReset</a>));</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a48ed369a0454eb7ee62d935801db2018"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">__pd_phy_tcpc_instance_::rcvMsgId</a></div><div class="ttdeci">uint8_t rcvMsgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:239</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a6a94c29840da978ce0d5d0da545cf57f"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">__pd_phy_tcpc_instance_::msgId</a></div><div class="ttdeci">uint8_t msgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:238</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a2551b07e2795fdd33e05f05dfad8f211"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">__pd_phy_tcpc_instance_::firstMsgAfterReset</a></div><div class="ttdeci">uint8_t firstMsgAfterReset[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:240</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a14e713eb2da2853a2648e9918cf36ee8_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a14e713eb2da2853a2648e9918cf36ee8_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a14e713eb2da2853a2648e9918cf36ee8_icgraph" id="usb__pd__ptn5110__msg_8c_a14e713eb2da2853a2648e9918cf36ee8_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1057,70,1202,96"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a060f68d7b7790b4ad0311395f8ac644e" title="Reset the protcol layer hardware. " alt="" coords="547,33,743,74"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955" title="Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableRese..." alt="" coords="795,96,1008,123"/><area shape="rect" id="node5" href="usb__pd__ptn5110__msg_8c.html#a9cdfc7b9850cbc7252c4aeb05447f6fd" title="After all S/W processing of a hard reset is complete, flag the hardware (unused) " alt="" coords="279,150,486,192"/><area shape="rect" id="node6" href="usb__pd__ptn5110__msg_8c.html#ab7229a8cdc4e1c840c8fd1a0d1d5b75c" title="Get the bist data from the HW registers (unused) " alt="" coords="269,216,496,257"/><area shape="rect" id="node7" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="544,150,747,176"/><area shape="rect" id="node8" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="801,148,1002,175"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8eb6e370f609bad660887fbf1c6bb6a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void PDPTN5110_MsgResetMsgId </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;{</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">msgId</a>[sop] = 0;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">rcvMsgId</a>[sop] = 0;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">firstMsgAfterReset</a>[sop] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a48ed369a0454eb7ee62d935801db2018"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a48ed369a0454eb7ee62d935801db2018">__pd_phy_tcpc_instance_::rcvMsgId</a></div><div class="ttdeci">uint8_t rcvMsgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:239</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a6a94c29840da978ce0d5d0da545cf57f"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a6a94c29840da978ce0d5d0da545cf57f">__pd_phy_tcpc_instance_::msgId</a></div><div class="ttdeci">uint8_t msgId[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:238</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a2551b07e2795fdd33e05f05dfad8f211"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a2551b07e2795fdd33e05f05dfad8f211">__pd_phy_tcpc_instance_::firstMsgAfterReset</a></div><div class="ttdeci">uint8_t firstMsgAfterReset[8]</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:240</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_a8eb6e370f609bad660887fbf1c6bb6a1_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_a8eb6e370f609bad660887fbf1c6bb6a1_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_a8eb6e370f609bad660887fbf1c6bb6a1_icgraph" id="usb__pd__ptn5110__msg_8c_a8eb6e370f609bad660887fbf1c6bb6a1_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#a4c2dd9dfad91380bc2e067e0ae3f5311" title="Send a control message, specify sop. " alt="" coords="257,5,477,32"/><area shape="rect" id="node4" href="usb__pd__ptn5110__msg_8c.html#a197ab289f188adce834d460f882e7955" title="Send a hard reset or cable reset, and perform the associated reset of our state. hardResetOrCableRese..." alt="" coords="779,60,992,87"/><area shape="rect" id="node6" href="usb__pd__ptn5110__msg_8c.html#aa9f537f03af07588daf3ee11e48f9f20" title="This is called by the interrupt controller when we receive a message. " alt="" coords="253,107,480,149"/><area shape="rect" id="node3" href="usb__pd__ptn5110__interface_8c.html#a637498f43bc0fed57fc7eb8d6992a042" title="PDPTN5110_Send" alt="" coords="563,5,696,32"/><area shape="rect" id="node5" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1041,87,1186,113"/><area shape="rect" id="node7" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="528,113,731,140"/><area shape="rect" id="node8" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="785,112,986,139"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeab1126bfe7625c8fba3cb342eb6aa99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PDPTN5110_MsgSendCompLete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="usb__pd__ptn5110_8h.html#a4c30a11f85c4578ce0974b2812bc9734">pd_phy_ptn5110_instance_t</a> *&#160;</td>
          <td class="paramname"><em>ptn5110Instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sendResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;{</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <a class="code" href="usb__osa__bm_8h.html#a8dbccf46cc2f8e3b5cece6a4a84f7ae8">USB_OSA_SR_ALLOC</a>();</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <a class="code" href="usb__osa__bm_8h.html#a0485f70bf9c9a22f0340f014bc567362">USB_OSA_ENTER_CRITICAL</a>();</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2f5f0754a16062bcf9c7572d8c3b5bd7">txHave</a>)</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a2f5f0754a16062bcf9c7572d8c3b5bd7">txHave</a> = 0u;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <a class="code" href="usb__osa__bm_8h.html#a5b8053eca19b6df666a26fad3b07f953">USB_OSA_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">if</span> (!(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#a1e81356f89f625e8c0bd9436e7352fb3">rxHave</a>))</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a>(ptn5110Instance, 0);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;        }</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        <span class="comment">/* don&#39;t need the callback */</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;        <span class="keywordflow">if</span> (sendResult == <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a6c0b47780246a36a36196cd5ff8abb52">kStatus_PD_Cancel</a>)</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;            <span class="comment">/*_PDphy_MsgSwAbortTx(ptn5110Instance); */</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="comment">/* TODO: need abort */</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;        }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;        <span class="keywordflow">if</span> (sendResult == <a class="code" href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a4891ab8e97ec291cd5314365d341fe90">kStatus_PD_Abort</a>)</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;        {</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <span class="comment">/* TODO: need abort */</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        <span class="comment">/* notify pd stack */</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;        <a class="code" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f">PD_Notify</a>(ptn5110Instance-&gt;<a class="code" href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">pdHandle</a>, <a class="code" href="group__usb__pd__phy__drv.html#gga9e1e6534f05a5dfae46d27dbf43e0455ad761e5459c646a3557ddd40db0860251">PD_PHY_EVENT_SEND_COMPLETE</a>, &amp;sendResult);</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    }</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        <a class="code" href="usb__osa__bm_8h.html#a5b8053eca19b6df666a26fad3b07f953">USB_OSA_EXIT_CRITICAL</a>();</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;}</div>
<div class="ttc" id="group__usb__pd__phy__drv_html_gga9e1e6534f05a5dfae46d27dbf43e0455ad761e5459c646a3557ddd40db0860251"><div class="ttname"><a href="group__usb__pd__phy__drv.html#gga9e1e6534f05a5dfae46d27dbf43e0455ad761e5459c646a3557ddd40db0860251">PD_PHY_EVENT_SEND_COMPLETE</a></div><div class="ttdef"><b>Definition:</b> usb_pd_phy.h:171</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a2f5f0754a16062bcf9c7572d8c3b5bd7"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a2f5f0754a16062bcf9c7572d8c3b5bd7">__pd_phy_tcpc_instance_::txHave</a></div><div class="ttdeci">volatile uint8_t txHave</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:245</div></div>
<div class="ttc" id="usb__osa__bm_8h_html_a5b8053eca19b6df666a26fad3b07f953"><div class="ttname"><a href="usb__osa__bm_8h.html#a5b8053eca19b6df666a26fad3b07f953">USB_OSA_EXIT_CRITICAL</a></div><div class="ttdeci">#define USB_OSA_EXIT_CRITICAL()</div><div class="ttdef"><b>Definition:</b> usb_osa_bm.h:40</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_ac32468695e40e122402f73f58e2b2883"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#ac32468695e40e122402f73f58e2b2883">__pd_phy_tcpc_instance_::pdHandle</a></div><div class="ttdeci">pd_handle pdHandle</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:206</div></div>
<div class="ttc" id="usb__osa__bm_8h_html_a8dbccf46cc2f8e3b5cece6a4a84f7ae8"><div class="ttname"><a href="usb__osa__bm_8h.html#a8dbccf46cc2f8e3b5cece6a4a84f7ae8">USB_OSA_SR_ALLOC</a></div><div class="ttdeci">#define USB_OSA_SR_ALLOC()</div><div class="ttdef"><b>Definition:</b> usb_osa_bm.h:38</div></div>
<div class="ttc" id="usb__pd__ptn5110__msg_8c_html_ae070d3966d31951eabb91ba346cde8ce"><div class="ttname"><a href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce">PDPTN5110_MsgHalSetRxSopEnable</a></div><div class="ttdeci">void PDPTN5110_MsgHalSetRxSopEnable(pd_phy_ptn5110_instance_t *ptn5110Instance, uint8_t sop_mask)</div><div class="ttdoc">Change the SOP mask used for receive. </div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110_msg.c:210</div></div>
<div class="ttc" id="group__usb__pd__phy__drv_html_ga7f7f94758771b173653d27c508c8b33f"><div class="ttname"><a href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f">PD_Notify</a></div><div class="ttdeci">void PD_Notify(pd_handle pdHandle, uint32_t event, void *param)</div><div class="ttdoc">Notify PD stack the PHY status. </div><div class="ttdef"><b>Definition:</b> usb_pd_interface.c:267</div></div>
<div class="ttc" id="struct____pd__phy__tcpc__instance___html_a1e81356f89f625e8c0bd9436e7352fb3"><div class="ttname"><a href="struct____pd__phy__tcpc__instance__.html#a1e81356f89f625e8c0bd9436e7352fb3">__pd_phy_tcpc_instance_::rxHave</a></div><div class="ttdeci">volatile uint8_t rxHave</div><div class="ttdef"><b>Definition:</b> usb_pd_ptn5110.h:246</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073a6c0b47780246a36a36196cd5ff8abb52"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a6c0b47780246a36a36196cd5ff8abb52">kStatus_PD_Cancel</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:84</div></div>
<div class="ttc" id="usb__osa__bm_8h_html_a0485f70bf9c9a22f0340f014bc567362"><div class="ttname"><a href="usb__osa__bm_8h.html#a0485f70bf9c9a22f0340f014bc567362">USB_OSA_ENTER_CRITICAL</a></div><div class="ttdeci">#define USB_OSA_ENTER_CRITICAL()</div><div class="ttdef"><b>Definition:</b> usb_osa_bm.h:39</div></div>
<div class="ttc" id="group__usb__pd__stack_html_ggaaad4cd00dd02567c6169429e3a895073a4891ab8e97ec291cd5314365d341fe90"><div class="ttname"><a href="group__usb__pd__stack.html#ggaaad4cd00dd02567c6169429e3a895073a4891ab8e97ec291cd5314365d341fe90">kStatus_PD_Abort</a></div><div class="ttdef"><b>Definition:</b> usb_pd.h:82</div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_cgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_cgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_cgraph" id="usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_cgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__msg_8c.html#ae070d3966d31951eabb91ba346cde8ce" title="Change the SOP mask used for receive. " alt="" coords="272,49,480,90"/><area shape="rect" id="node8" href="group__usb__pd__phy__drv.html#ga7f7f94758771b173653d27c508c8b33f" title="Notify PD stack the PHY status. " alt="" coords="335,165,417,192"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a9270792d50c929299fb0525020c1291a" title="Set RECEIVE_DETECT register directly. " alt="" coords="539,23,755,65"/><area shape="rect" id="node4" href="usb__pd__ptn5110_8h.html#a094ea05af65e7446bcefb6cfc6fff237" title="REG_SET_REG_REF" alt="" coords="813,31,968,57"/><area shape="rect" id="node5" href="group__usb__pd__cmsis__wrapper.html#ga09c1e56830b347c846c280fe3525c757" title="Write data to slave. " alt="" coords="1016,23,1205,65"/><area shape="rect" id="node6" href="group__usb__os__abstraction.html#ga1fed31c4b683c5f652b4e2e8b23c34fd" title="Waits for a mutex and locks it. " alt="" coords="1261,5,1406,32"/><area shape="rect" id="node7" href="group__usb__os__abstraction.html#gaad3249273d566eae00e2cea81192315a" title="Unlocks a mutex. " alt="" coords="1254,56,1413,83"/><area shape="rect" id="node9" href="group__usb__os__abstraction.html#gaa83073c31cced5742027d4046bd633db" title="Sets an event flag. " alt="" coords="823,140,958,167"/><area shape="rect" id="node10" href="usb__pd__interface_8c.html#a6ad144a0e0d32b011f83156c3edd30a8" title="PD_MsgSendDone" alt="" coords="579,140,714,167"/><area shape="rect" id="node11" href="usb__pd__interface_8c.html#a83de99272e34bf7bad5146401157ccff" title="PD_ConnectSetPowerProgress" alt="" coords="543,191,750,217"/><area shape="rect" id="node12" href="usb__pd__policy_8c.html#abdde9b20d8e38e68b6de66b1e9ece3eb" title="PD_DpmCheckLessOrEqualVsafe5v" alt="" coords="528,292,765,319"/><area shape="rect" id="node16" href="usb__pd__interface_8c.html#a81174001cad1ad0a3978c41a4e21daa0" title="PD_MsgReceived" alt="" coords="583,241,711,268"/><area shape="rect" id="node13" href="usb__pd__policy_8c.html#a555b1880b5b259c3fdcd3da821e06cf2" title="PD_PhyControl" alt="" coords="834,292,947,319"/><area shape="rect" id="node14" href="group__usb__os__abstraction.html#gab25fb5d93d3b665ca8eadf2a670d3361" title="Checks an event flag. " alt="" coords="1034,267,1187,293"/><area shape="rect" id="node15" href="group__usb__os__abstraction.html#ga90357f04d40469dc07104033b3c8581c" title="Clears an event flag. " alt="" coords="1037,317,1184,344"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_icgraph.png" border="0" usemap="#usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_icgraph" alt=""/></div>
<map name="usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_icgraph" id="usb__pd__ptn5110__msg_8c_aeab1126bfe7625c8fba3cb342eb6aa99_icgraph">
<area shape="rect" id="node2" href="usb__pd__ptn5110__interface_8c.html#a91fdd39ab055725caf3867261e584c2f" title="PDPTN5110_Control" alt="" coords="1051,8,1197,35"/><area shape="rect" id="node3" href="usb__pd__ptn5110__msg_8c.html#a9917c53219ae71793f1543d8433eae4e" title="PDPTN5110_MsgHalSendAbort\lIsrProcess" alt="" coords="282,34,491,76"/><area shape="rect" id="node6" href="usb__pd__ptn5110__msg_8c.html#a6ac6dd7f29e5cefa92f6b94392ea74b6" title="PDPTN5110_MsgHalSendSuccess\lIsrProcess" alt="" coords="272,100,501,141"/><area shape="rect" id="node4" href="usb__pd__ptn5110__hal_8c.html#a706cb45223c529b6d01188e28d28a817" title="Handler for Int10. " alt="" coords="549,42,752,68"/><area shape="rect" id="node5" href="usb__pd__ptn5110__hal_8c.html#ae5d40eccd3a7c7902b303d44cedb6a42" title="Callback to be called on assertion of INT_N by victoria. " alt="" coords="801,38,1002,64"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 16 2017 13:51:13 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
