<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>My Project: Usb_device_controller_khci_driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Usb_device_controller_khci_driver</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__usb__device__khci__endpoint__state__struct.html">_usb_device_khci_endpoint_state_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint state structure.  <a href="struct__usb__device__khci__endpoint__state__struct.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__usb__device__khci__state__struct.html">_usb_device_khci_state_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">KHCI state structure.  <a href="struct__usb__device__khci__state__struct.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga9f6b9327136f7d46cd44196625ffbe57"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga9f6b9327136f7d46cd44196625ffbe57">USB_DEVICE_MAX_FS_ISO_MAX_PACKET_SIZE</a>&#160;&#160;&#160;(1023U)</td></tr>
<tr class="memdesc:ga9f6b9327136f7d46cd44196625ffbe57"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum value of ISO maximum packet size for FS in USB specification 2.0.  <a href="#ga9f6b9327136f7d46cd44196625ffbe57">More...</a><br/></td></tr>
<tr class="separator:ga9f6b9327136f7d46cd44196625ffbe57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2104656ccd927add52df23fc6618043"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#gad2104656ccd927add52df23fc6618043">USB_DEVICE_MAX_FS_NONE_ISO_MAX_PACKET_SIZE</a>&#160;&#160;&#160;(64U)</td></tr>
<tr class="memdesc:gad2104656ccd927add52df23fc6618043"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum value of non-ISO maximum packet size for FS in USB specification 2.0.  <a href="#gad2104656ccd927add52df23fc6618043">More...</a><br/></td></tr>
<tr class="separator:gad2104656ccd927add52df23fc6618043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ba0ab661daf2302b64972f524948489"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga1ba0ab661daf2302b64972f524948489">USB_KHCI_BDT_SET_ADDRESS</a>(bdt_base, ep, direction, odd, address)</td></tr>
<tr class="memdesc:ga1ba0ab661daf2302b64972f524948489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set BDT buffer address.  <a href="#ga1ba0ab661daf2302b64972f524948489">More...</a><br/></td></tr>
<tr class="separator:ga1ba0ab661daf2302b64972f524948489"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad93495da57693ca917381eaa4bf0e1d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#gad93495da57693ca917381eaa4bf0e1d5">USB_KHCI_BDT_SET_CONTROL</a>(bdt_base, ep, direction, odd, control)</td></tr>
<tr class="memdesc:gad93495da57693ca917381eaa4bf0e1d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set BDT control fields.  <a href="#gad93495da57693ca917381eaa4bf0e1d5">More...</a><br/></td></tr>
<tr class="separator:gad93495da57693ca917381eaa4bf0e1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f053b5c8affe26aa04d161449230985"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga8f053b5c8affe26aa04d161449230985">USB_KHCI_BDT_GET_ADDRESS</a>(bdt_base, ep, direction, odd)</td></tr>
<tr class="memdesc:ga8f053b5c8affe26aa04d161449230985"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get BDT buffer address.  <a href="#ga8f053b5c8affe26aa04d161449230985">More...</a><br/></td></tr>
<tr class="separator:ga8f053b5c8affe26aa04d161449230985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76ad3cb952ddc0c7fc7e3c5012a62f89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga76ad3cb952ddc0c7fc7e3c5012a62f89">USB_KHCI_BDT_GET_CONTROL</a>(bdt_base, ep, direction, odd)</td></tr>
<tr class="memdesc:ga76ad3cb952ddc0c7fc7e3c5012a62f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get BDT control fields.  <a href="#ga76ad3cb952ddc0c7fc7e3c5012a62f89">More...</a><br/></td></tr>
<tr class="separator:ga76ad3cb952ddc0c7fc7e3c5012a62f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga78d53188f22fcd0f4058fafea867d1df"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="struct__usb__device__khci__endpoint__state__struct.html">_usb_device_khci_endpoint_state_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga78d53188f22fcd0f4058fafea867d1df">usb_device_khci_endpoint_state_struct_t</a></td></tr>
<tr class="memdesc:ga78d53188f22fcd0f4058fafea867d1df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint state structure.  <a href="#ga78d53188f22fcd0f4058fafea867d1df">More...</a><br/></td></tr>
<tr class="separator:ga78d53188f22fcd0f4058fafea867d1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0132f753d6b7c62680d20f8a1926d825"><td class="memItemLeft" align="right" valign="top">typedef struct <br class="typebreak"/>
<a class="el" href="struct__usb__device__khci__state__struct.html">_usb_device_khci_state_struct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga0132f753d6b7c62680d20f8a1926d825">usb_device_khci_state_struct_t</a></td></tr>
<tr class="memdesc:ga0132f753d6b7c62680d20f8a1926d825"><td class="mdescLeft">&#160;</td><td class="mdescRight">KHCI state structure.  <a href="#ga0132f753d6b7c62680d20f8a1926d825">More...</a><br/></td></tr>
<tr class="separator:ga0132f753d6b7c62680d20f8a1926d825"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
USB device KHCI functions</h2></td></tr>
<tr class="memitem:gad9e6ecba752b0253547e3d57b7b8ea15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#gad9e6ecba752b0253547e3d57b7b8ea15">USB_DeviceKhciInit</a> (uint8_t controllerId, <a class="el" href="group__usb__drv.html#gae62132dc6e5eba994f8aa56cb7399abc">usb_device_handle</a> handle, <a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> *khciHandle)</td></tr>
<tr class="memdesc:gad9e6ecba752b0253547e3d57b7b8ea15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the USB device KHCI instance.  <a href="#gad9e6ecba752b0253547e3d57b7b8ea15">More...</a><br/></td></tr>
<tr class="separator:gad9e6ecba752b0253547e3d57b7b8ea15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeca0b3ce2863e004da6f749ebaeed21d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#gaeca0b3ce2863e004da6f749ebaeed21d">USB_DeviceKhciDeinit</a> (<a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> khciHandle)</td></tr>
<tr class="memdesc:gaeca0b3ce2863e004da6f749ebaeed21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitializes the USB device KHCI instance.  <a href="#gaeca0b3ce2863e004da6f749ebaeed21d">More...</a><br/></td></tr>
<tr class="separator:gaeca0b3ce2863e004da6f749ebaeed21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae85f89ac73253f83952f2a2b04211932"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#gae85f89ac73253f83952f2a2b04211932">USB_DeviceKhciSend</a> (<a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> khciHandle, uint8_t endpointAddress, uint8_t *buffer, uint32_t length)</td></tr>
<tr class="memdesc:gae85f89ac73253f83952f2a2b04211932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data through a specified endpoint.  <a href="#gae85f89ac73253f83952f2a2b04211932">More...</a><br/></td></tr>
<tr class="separator:gae85f89ac73253f83952f2a2b04211932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ab67ead189ef8a325de9db7d4025a32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga5ab67ead189ef8a325de9db7d4025a32">USB_DeviceKhciRecv</a> (<a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> khciHandle, uint8_t endpointAddress, uint8_t *buffer, uint32_t length)</td></tr>
<tr class="memdesc:ga5ab67ead189ef8a325de9db7d4025a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data through a specified endpoint.  <a href="#ga5ab67ead189ef8a325de9db7d4025a32">More...</a><br/></td></tr>
<tr class="separator:ga5ab67ead189ef8a325de9db7d4025a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cd047248d7e6e682112e8ab79ddf027"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#ga9cd047248d7e6e682112e8ab79ddf027">USB_DeviceKhciCancel</a> (<a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> khciHandle, uint8_t ep)</td></tr>
<tr class="memdesc:ga9cd047248d7e6e682112e8ab79ddf027"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels the pending transfer in a specified endpoint.  <a href="#ga9cd047248d7e6e682112e8ab79ddf027">More...</a><br/></td></tr>
<tr class="separator:ga9cd047248d7e6e682112e8ab79ddf027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab532e6ca027a37aa09d8ba7a9f5e8983"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__device__controller__khci__driver.html#gab532e6ca027a37aa09d8ba7a9f5e8983">USB_DeviceKhciControl</a> (<a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> khciHandle, <a class="el" href="group__usb__device__controller__driver.html#gae16dc18943ae9da34a2b122859568b5e">usb_device_control_type_t</a> type, void *param)</td></tr>
<tr class="memdesc:gab532e6ca027a37aa09d8ba7a9f5e8983"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls the status of the selected item.  <a href="#gab532e6ca027a37aa09d8ba7a9f5e8983">More...</a><br/></td></tr>
<tr class="separator:gab532e6ca027a37aa09d8ba7a9f5e8983"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga9f6b9327136f7d46cd44196625ffbe57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_DEVICE_MAX_FS_ISO_MAX_PACKET_SIZE&#160;&#160;&#160;(1023U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum value of ISO maximum packet size for FS in USB specification 2.0. </p>

</div>
</div>
<a class="anchor" id="gad2104656ccd927add52df23fc6618043"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_DEVICE_MAX_FS_NONE_ISO_MAX_PACKET_SIZE&#160;&#160;&#160;(64U)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum value of non-ISO maximum packet size for FS in USB specification 2.0. </p>

</div>
</div>
<a class="anchor" id="ga8f053b5c8affe26aa04d161449230985"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_KHCI_BDT_GET_ADDRESS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bdt_base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">direction, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">odd&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(*((<span class="keyword">volatile</span> uint32_t *)((bdt_base &amp; 0xfffffe00U) | (((uint32_t)ep &amp; 0x0fU) &lt;&lt; 5U) |          \</div>
<div class="line">                             (((uint32_t)direction &amp; 1U) &lt;&lt; 4U) | (((uint32_t)odd &amp; 1U) &lt;&lt; 3U)) + \</div>
<div class="line">       1U))</div>
</div><!-- fragment -->
<p>Get BDT buffer address. </p>

</div>
</div>
<a class="anchor" id="ga76ad3cb952ddc0c7fc7e3c5012a62f89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_KHCI_BDT_GET_CONTROL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bdt_base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">direction, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">odd&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(*(<span class="keyword">volatile</span> uint32_t *)((bdt_base &amp; 0xfffffe00U) | (((uint32_t)ep &amp; 0x0fU) &lt;&lt; 5U) | \</div>
<div class="line">                            (((uint32_t)direction &amp; 1U) &lt;&lt; 4U) | (((uint32_t)odd &amp; 1U) &lt;&lt; 3U)))</div>
</div><!-- fragment -->
<p>Get BDT control fields. </p>

</div>
</div>
<a class="anchor" id="ga1ba0ab661daf2302b64972f524948489"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_KHCI_BDT_SET_ADDRESS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bdt_base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">direction, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">odd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">address&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">*((<span class="keyword">volatile</span> uint32_t *)((bdt_base &amp; 0xfffffe00U) | (((uint32_t)ep &amp; 0x0fU) &lt;&lt; 5U) |          \</div>
<div class="line">                            (((uint32_t)direction &amp; 1U) &lt;&lt; 4U) | (((uint32_t)odd &amp; 1U) &lt;&lt; 3U)) + \</div>
<div class="line">      1U) = address</div>
</div><!-- fragment -->
<p>Set BDT buffer address. </p>

</div>
</div>
<a class="anchor" id="gad93495da57693ca917381eaa4bf0e1d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_KHCI_BDT_SET_CONTROL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bdt_base, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ep, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">direction, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">odd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">control&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">*(<span class="keyword">volatile</span> uint32_t *)((bdt_base &amp; 0xfffffe00U) | (((uint32_t)ep &amp; 0x0fU) &lt;&lt; 5U) | \</div>
<div class="line">                           (((uint32_t)direction &amp; 1U) &lt;&lt; 4U) | (((uint32_t)odd &amp; 1U) &lt;&lt; 3U)) = control</div>
</div><!-- fragment -->
<p>Set BDT control fields. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga78d53188f22fcd0f4058fafea867d1df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__usb__device__khci__endpoint__state__struct.html">_usb_device_khci_endpoint_state_struct</a>  <a class="el" href="group__usb__device__controller__khci__driver.html#ga78d53188f22fcd0f4058fafea867d1df">usb_device_khci_endpoint_state_struct_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Endpoint state structure. </p>

</div>
</div>
<a class="anchor" id="ga0132f753d6b7c62680d20f8a1926d825"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__usb__device__khci__state__struct.html">_usb_device_khci_state_struct</a>  <a class="el" href="group__usb__device__controller__khci__driver.html#ga0132f753d6b7c62680d20f8a1926d825">usb_device_khci_state_struct_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>KHCI state structure. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9cd047248d7e6e682112e8ab79ddf027"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a> USB_DeviceKhciCancel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a>&#160;</td>
          <td class="paramname"><em>khciHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancels the pending transfer in a specified endpoint. </p>
<p>The function is used to cancel the pending transfer in a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">khciHandle</td><td>Pointer of the device KHCI handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ep</td><td>Endpoint address, bit7 is the direction of endpoint, 1U - IN, abd 0U - OUT.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A USB error code or kStatus_USB_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gab532e6ca027a37aa09d8ba7a9f5e8983"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a> USB_DeviceKhciControl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a>&#160;</td>
          <td class="paramname"><em>khciHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gae16dc18943ae9da34a2b122859568b5e">usb_device_control_type_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls the status of the selected item. </p>
<p>The function is used to control the status of the selected item.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">khciHandle</td><td>Pointer of the device KHCI handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>The selected item. See enumeration type usb_device_control_type_t. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">param</td><td>The parameter type is determined by the selected item.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A USB error code or kStatus_USB_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gaeca0b3ce2863e004da6f749ebaeed21d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a> USB_DeviceKhciDeinit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a>&#160;</td>
          <td class="paramname"><em>khciHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitializes the USB device KHCI instance. </p>
<p>This function deinitializes the USB device KHCI module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">khciHandle</td><td>Pointer of the device KHCI handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A USB error code or kStatus_USB_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gad9e6ecba752b0253547e3d57b7b8ea15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a> USB_DeviceKhciInit </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>controllerId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__drv.html#gae62132dc6e5eba994f8aa56cb7399abc">usb_device_handle</a>&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a> *&#160;</td>
          <td class="paramname"><em>khciHandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the USB device KHCI instance. </p>
<p>This function initializes the USB device KHCI module specified by the controllerId.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">controllerId</td><td>The controller ID of the USB IP. See the enumeration type usb_controller_index_t. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>Pointer of the device handle used to identify the device object belongs to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">khciHandle</td><td>An out parameter used to return the pointer of the device KHCI handle to the caller.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A USB error code or kStatus_USB_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5ab67ead189ef8a325de9db7d4025a32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a> USB_DeviceKhciRecv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a>&#160;</td>
          <td class="paramname"><em>khciHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>endpointAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives data through a specified endpoint. </p>
<p>This function receives data through a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">khciHandle</td><td>Pointer of the device KHCI handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endpointAddress</td><td>Endpoint index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>The memory address to save the received data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The data length to be received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A USB error code or kStatus_USB_Success.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The return value indicates whether the receiving request is successful or not. The transfer completion is notified by the corresponding callback function. Currently, only one transfer request can be supported for a specific endpoint. If there is a specific requirement to support multiple transfer requests for a specific endpoint, the application should implement a queue in the application level. The subsequent transfer can begin only when the previous transfer is done (a notification is obtained through the endpoint callback). </dd></dl>

</div>
</div>
<a class="anchor" id="gae85f89ac73253f83952f2a2b04211932"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__usb__drv.html#ga3172b9f50553fb6d8aa2823d10a39c58">usb_status_t</a> USB_DeviceKhciSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__usb__device__controller__driver.html#gaec03ce2e4732aa876cd2a91cf8e93b5b">usb_device_controller_handle</a>&#160;</td>
          <td class="paramname"><em>khciHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>endpointAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data through a specified endpoint. </p>
<p>This function sends data through a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">khciHandle</td><td>Pointer of the device KHCI handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endpointAddress</td><td>Endpoint index. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>The memory address to hold the data need to be sent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>The data length need to be sent.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A USB error code or kStatus_USB_Success.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The return value indicates whether the sending request is successful or not. The transfer completion is notified by the corresponding callback function. Currently, only one transfer request can be supported for a specific endpoint. If there is a specific requirement to support multiple transfer requests for a specific endpoint, the application should implement a queue in the application level. The subsequent transfer can begin only when the previous transfer is done (a notification is obtained through the endpoint callback). </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Aug 16 2017 13:51:15 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
