\hypertarget{pd__command__app_8c}{\section{demo/pd/pd\-\_\-command\-\_\-app.c File Reference}
\label{pd__command__app_8c}\index{demo/pd/pd\-\_\-command\-\_\-app.\-c@{demo/pd/pd\-\_\-command\-\_\-app.\-c}}
}
{\ttfamily \#include $<$stdint.\-h$>$}\\*
{\ttfamily \#include $<$stdbool.\-h$>$}\\*
{\ttfamily \#include \char`\"{}usb\-\_\-pd\-\_\-config.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}usb\-\_\-pd.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}usb\-\_\-pd\-\_\-phy.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pd\-\_\-app.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}fsl\-\_\-debug\-\_\-console.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pd\-\_\-power\-\_\-interface.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}pd\-\_\-command\-\_\-interface.\-h\char`\"{}}\\*
Include dependency graph for pd\-\_\-command\-\_\-app.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a320c5867d39cdebb0bc6e98084c6be69}{P\-D\-\_\-\-Demo\-Find\-P\-D\-O} (\hyperlink{pd__app_8h_a43bb8eb90b29f6cc276fd6368cef34c2}{pd\-\_\-app\-\_\-t} $\ast$pd\-App\-Instance, \hyperlink{group__usb__pd__stack_ga4dcb1103574222cf94d4b45128f2b884}{pd\-\_\-rdo\-\_\-t} $\ast$rdo, uint32\-\_\-t $\ast$voltage)
\item 
uint32\-\_\-t \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{P\-D\-\_\-\-Demo\-Print} (\hyperlink{pd__app_8h_a43bb8eb90b29f6cc276fd6368cef34c2}{pd\-\_\-app\-\_\-t} $\ast$pd\-App\-Instance, const char $\ast$format,...)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a9a594323bf987df556436495d9d6dd2a}{P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback} (void $\ast$callback\-Param)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a34306bb735461e522c573f87e8a4049b}{P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback} (void $\ast$callback\-Param)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a1d232a97d0a852565547c1952e83faa6}{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t fr\-Swap, uint8\-\_\-t $\ast$evaluate\-Result)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a3d92f8202fc73da16faf6d8496bae858}{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_af8c3a76d7c2de000c0546a9939d8583a}{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t $\ast$evaluate\-Result)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a826803f4b1f9fdf80c90234ce290e881}{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_ac9514370755ca84c517e49e833ada971}{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t $\ast$evaluate\-Result)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a6f9aaba280e24edd2c837cd689d50eeb}{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a0012931c6c686dd4bdab89e0b3c6414d}{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_ga4dcb1103574222cf94d4b45128f2b884}{pd\-\_\-rdo\-\_\-t} rdo, uint8\-\_\-t $\ast$negotiate\-Result)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a098ead626f2b20fb29afb3e8b9d5350b}{P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t $\ast$is\-Still\-Valid)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a67ae7c023946ebdcdb306e1e96b3f45e}{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_aef2aa35be6feb902cbecde3673322473}{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_ga1f893b05affdc0ac42173f4dfdfaa258}{pd\-\_\-capabilities\-\_\-t} $\ast$caps)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a5043c66ba7fcf337c4333144f43ed630}{P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_adcf04a0dae4086c9517955cf3d447126}{P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_ga4dcb1103574222cf94d4b45128f2b884}{pd\-\_\-rdo\-\_\-t} $\ast$rdo)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a1a5c446f863f9b45b09e5b428c5c2613}{P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_afcdd95ee527ae1405c5d816317badd5f}{P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_ad4459653e54df154cb838bea4ccfd4e1}{P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_adfab2b7d8a3ba6b4a8e138ac138d2398}{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_ga1f893b05affdc0ac42173f4dfdfaa258}{pd\-\_\-capabilities\-\_\-t} $\ast$caps)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_ac82c79e04c70ce07454c8549666b7d5f}{P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a93eda98ed9ea76dfbf9975269a20907f}{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_ga7861c86d4d4511f1621b379cf24fe7c9}{pd\-\_\-svdm\-\_\-command\-\_\-request\-\_\-t} $\ast$svdm\-Request)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a292e6cc1ce06e7dc3d0e194747dfa5de}{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, \hyperlink{group__usb__pd__stack_ga89d37a53049e623f39d331b518280fbf}{pd\-\_\-svdm\-\_\-command\-\_\-result\-\_\-t} $\ast$svdm\-Result)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a508772bcb38cf6f15fecc3933c2ad798}{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_ga353c18d85300f7ee60dab2241f2e1310}{pd\-\_\-unstructured\-\_\-vdm\-\_\-command\-\_\-param\-\_\-t} $\ast$unstructured\-V\-D\-M\-Param)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a8e743ef12b8722d742d7eeae4f9b476d}{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a4719e49373052976ae6c146751657246}{P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t type, \hyperlink{group__usb__pd__stack_gac903dadc9a1dffbaac4f91f982a038de}{pd\-\_\-command\-\_\-data\-\_\-param\-\_\-t} $\ast$data\-Param)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_aeacfe9453f3f249dc48453104fba98fe}{P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t type, uint8\-\_\-t success, \hyperlink{group__usb__pd__stack_gac903dadc9a1dffbaac4f91f982a038de}{pd\-\_\-command\-\_\-data\-\_\-param\-\_\-t} $\ast$success\-Data, uint8\-\_\-t fail\-Result\-Type)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a29fdeaa67097b0b29462ddc1ec0b539f}{P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback} (void $\ast$callback\-Param, \hyperlink{group__usb__pd__stack_gac903dadc9a1dffbaac4f91f982a038de}{pd\-\_\-command\-\_\-data\-\_\-param\-\_\-t} $\ast$data\-Param)
\item 
\hyperlink{group__usb__pd__stack_ga04a1f331d9807a70ab9bb753f5ed1c80}{pd\-\_\-status\-\_\-t} \hyperlink{pd__command__app_8c_a1439dc2a791941fe3b5fb170c30b04f9}{P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback} (void $\ast$callback\-Param, uint8\-\_\-t success, uint8\-\_\-t fail\-Result\-Type)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{pd__command__app_8c_a320c5867d39cdebb0bc6e98084c6be69}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Demo\-Find\-P\-D\-O@{P\-D\-\_\-\-Demo\-Find\-P\-D\-O}}
\index{P\-D\-\_\-\-Demo\-Find\-P\-D\-O@{P\-D\-\_\-\-Demo\-Find\-P\-D\-O}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Demo\-Find\-P\-D\-O}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Demo\-Find\-P\-D\-O (
\begin{DoxyParamCaption}
\item[{{\bf pd\-\_\-app\-\_\-t} $\ast$}]{pd\-App\-Instance, }
\item[{{\bf pd\-\_\-rdo\-\_\-t} $\ast$}]{rdo, }
\item[{uint32\-\_\-t $\ast$}]{voltage}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a320c5867d39cdebb0bc6e98084c6be69}

\begin{DoxyCode}
644 \{
645     uint32\_t index;
646     \hyperlink{struct__pd__source__pdo}{pd\_source\_pdo\_t} sourcePDO;
647     \textcolor{keyword}{volatile} uint32\_t requestVoltage;
648     \textcolor{keyword}{volatile} uint32\_t requestCurrent;
649     uint8\_t findSourceCap = 0;
650 
651     \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7cd2902dee071f9f64b078bd4ac955be}{partnerSourceCapNumber} == 0)
652     \{
653         \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073a4d58370b8ee8d3d2a4c477f7a3f84dda}{kStatus\_PD\_Error};
654     \}
655 
656     \textcolor{comment}{/* default rdo as 5V - 0.5A or less */}
657     *voltage = 5000;
658     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition = 1;
659     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.giveBack = 0;
660     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.capabilityMismatch = 0;
661     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.usbCommunicationsCapable = 0;
662     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.noUsbSuspend = 1;
663     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue = 500 / \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT};
664     \textcolor{keywordflow}{if} (rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue > pdAppInstance->\hyperlink{struct__pd__app_ac8c4ef05a14fc26bacd62f1937726488}{partnerSourceCaps}[0].
      \hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_a1bb1756a3f7fe82e0395efac18eb8f41}{maxCurrent})
665     \{
666         rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue = pdAppInstance->\hyperlink{struct__pd__app_ac8c4ef05a14fc26bacd62f1937726488}{partnerSourceCaps}[0].
      \hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_a1bb1756a3f7fe82e0395efac18eb8f41}{maxCurrent};
667     \}
668     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.maxOrMinOperateValue = rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue;
669 
670     requestVoltage = \hyperlink{pd__app_8h_a82e13f4a1a5efe1195e2ef07def0113b}{PD\_DEMO\_EXPECTED\_VOLTAGE};
671     requestCurrent = \hyperlink{pd__app_8h_a3c0b76dbecdec400c32f77c6af78a98f}{PD\_DEMO\_EXPECTED\_CURRENT};
672 
673     \textcolor{keywordflow}{for} (index = 0; index < pdAppInstance->\hyperlink{struct__pd__app_a7cd2902dee071f9f64b078bd4ac955be}{partnerSourceCapNumber}; ++index)
674     \{
675         sourcePDO.\hyperlink{struct__pd__source__pdo_ae7c1220b81dd8506c6731d7a6adc6ac9}{PDOValue} = pdAppInstance->\hyperlink{struct__pd__app_ac8c4ef05a14fc26bacd62f1937726488}{partnerSourceCaps}[index].
      \hyperlink{struct__pd__source__pdo_ae7c1220b81dd8506c6731d7a6adc6ac9}{PDOValue};
676         \textcolor{keywordflow}{switch} (sourcePDO.\hyperlink{struct__pd__source__pdo_ad1af05b25c2dfc8f72eea50707536c10}{commonPDO}.\hyperlink{struct__pd__pdo__common_a5a1a819ee8e548be9b972852c75aa597}{pdoType})
677         \{
678             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9a92d0f35b314a01e880e257e5af3c9e62}{kPDO\_Fixed}:
679             \{
680                 \textcolor{keywordflow}{if} ((sourcePDO.\hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_abba8fe6a9f4c4f6ac33cbfe075945e6a}{voltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT} == requestVoltage) &&
681                     (sourcePDO.\hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_a1bb1756a3f7fe82e0395efac18eb8f41}{maxCurrent} * 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT} >= requestCurrent))
682                 \{
683                     *voltage = sourcePDO.\hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_abba8fe6a9f4c4f6ac33cbfe075945e6a}{voltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT};
684                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition = (index + 1);
685                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue = requestCurrent / 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT};
686                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.maxOrMinOperateValue = rdo->
      \hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue;
687                     findSourceCap = 1;
688                 \}
689                 \textcolor{keywordflow}{break};
690             \}
691 
692             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9ab2765d7b98d6e0922c4937be6d2ab618}{kPDO\_Variable}:
693             \{
694                 \textcolor{keywordflow}{if} ((sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a713018c825f51d1a6a7186582b40a106}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT} <= requestVoltage) &&
695                     (sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a493ced8078579d68ade7dfbce819b4d1}{maxVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT} >= requestVoltage) &&
696                     (sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a8a24367204d3381f0670311a88c0b2e6}{maxCurrent} * 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT} >= requestCurrent))
697                 \{
698                     *voltage = sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a713018c825f51d1a6a7186582b40a106}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT};
699                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition = (index + 1);
700                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue = requestCurrent / 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT};
701                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.maxOrMinOperateValue = rdo->
      \hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue;
702                     findSourceCap = 1;
703                 \}
704                 \textcolor{keywordflow}{break};
705             \}
706 
707             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9a42f5a5c21d0523dca99c8e14b2ec23a0}{kPDO\_Battery}:
708             \{
709                 \textcolor{keywordflow}{if} ((sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_a5c799cc37ea460e9bfeea8a05242cf54}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT} <= requestVoltage) &&
710                     (sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_af818fd645542287499a65f559ef6d571}{maxVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT} >= requestVoltage) &&
711                     (sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_ae4498258205f03a10afdb32e445a57ef}{maxAllowPower} * 
      \hyperlink{group__usb__pd__stack_ga18642aa62f457d8501be4bddf6608e80}{PD\_PDO\_POWER\_UNIT} >=
712                      (requestVoltage * requestCurrent / 1000)))
713                 \{
714                     *voltage = sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_a5c799cc37ea460e9bfeea8a05242cf54}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT};
715                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition = (index + 1);
716                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue = (requestVoltage * requestCurrent) / 1000 / 
      \hyperlink{group__usb__pd__stack_ga18642aa62f457d8501be4bddf6608e80}{PD\_PDO\_POWER\_UNIT};
717                     rdo->\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.maxOrMinOperateValue = rdo->
      \hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue;
718                     findSourceCap = 1;
719                 \}
720                 \textcolor{keywordflow}{break};
721             \}
722 
723             \textcolor{keywordflow}{default}:
724                 \textcolor{keywordflow}{break};
725         \}
726 
727         \textcolor{keywordflow}{if} (findSourceCap)
728         \{
729             \textcolor{keywordflow}{break};
730         \}
731     \}
732 
733     \textcolor{keywordflow}{if} (findSourceCap)
734     \{
735         \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
736     \}
737     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073a4d58370b8ee8d3d2a4c477f7a3f84dda}{kStatus\_PD\_Error};
738 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a320c5867d39cdebb0bc6e98084c6be69_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Demo\-Print@{P\-D\-\_\-\-Demo\-Print}}
\index{P\-D\-\_\-\-Demo\-Print@{P\-D\-\_\-\-Demo\-Print}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Demo\-Print}]{\setlength{\rightskip}{0pt plus 5cm}uint32\-\_\-t P\-D\-\_\-\-Demo\-Print (
\begin{DoxyParamCaption}
\item[{{\bf pd\-\_\-app\-\_\-t} $\ast$}]{pd\-App\-Instance, }
\item[{const char $\ast$}]{format, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}

\begin{DoxyCode}
741 \{
742     va\_list arg;
743     uint32\_t cnt;
744 
745     \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_ace27760f393eeceee39cf902b659cb67}{printFull})
746     \{
747         \textcolor{keywordflow}{return} 0;
748     \}
749     va\_start(arg, format);
750     cnt = (uint32\_t)vsprintf(pdAppInstance->\hyperlink{struct__pd__app_acae5bdb8d3a1a7624d440d766596a062}{printBuffers}[pdAppInstance->
      \hyperlink{struct__pd__app_a5ed6114200d041b6c16989abea86dbde}{printProvider}], format, arg);
751     va\_end(arg);
752 
753     pdAppInstance->\hyperlink{struct__pd__app_a5ed6114200d041b6c16989abea86dbde}{printProvider} = (pdAppInstance->\hyperlink{struct__pd__app_a5ed6114200d041b6c16989abea86dbde}{printProvider} + 1) % 
      \hyperlink{pd__app_8h_a521a768b4f33e6978fd649b8c538d170}{PD\_DEMO\_PRINT\_BUFFER\_COUNT};
754     \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a5ed6114200d041b6c16989abea86dbde}{printProvider} == pdAppInstance->
      \hyperlink{struct__pd__app_aab6771fc259fceda49fd93d3971c8f77}{printConsumer})
755     \{
756         pdAppInstance->\hyperlink{struct__pd__app_ace27760f393eeceee39cf902b659cb67}{printFull} = 1;
757     \}
758 
759     \textcolor{keywordflow}{return} cnt;
760 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_af8c3a76d7c2de000c0546a9939d8583a}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Request\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t $\ast$}]{evaluate\-Result}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_af8c3a76d7c2de000c0546a9939d8583a}

\begin{DoxyCode}
181 \{
182     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
183 
184     *evaluateResult = ((pdAppInstance->\hyperlink{struct__pd__app_a7c929e9d267016ae697a553a72528987}{drSwapAccept}) ? 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept} : \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject});
185     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
186 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_af8c3a76d7c2de000c0546a9939d8583a_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a826803f4b1f9fdf80c90234ce290e881}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Data\-Role\-Swap\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a826803f4b1f9fdf80c90234ce290e881}

\begin{DoxyCode}
189 \{
190     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
191     uint8\_t roleInfo;
192 
193     \textcolor{keywordflow}{if} (success)
194     \{
195         \hyperlink{group__usb__pd__stack_gac3d77e334213f541028d2da518086ca2}{PD\_Control}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_gga0edd2a390d28d96646bc71aac1858af1a06f4d2e5460a98f33e36db26ee0576cf}{PD\_CONTROL\_GET\_DATA\_ROLE}, &roleInfo);
196         \textcolor{keywordflow}{if} (roleInfo == \hyperlink{group__usb__pd__stack_gga25760887aa95821023cc0ab5e151f828ad5849c6d513a7161652bf49bf5096e61}{kPD\_DataRoleDFP})
197         \{
198             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"dr swap result: enter dfp\(\backslash\)r\(\backslash\)n"});
199         \}
200         \textcolor{keywordflow}{else}
201         \{
202             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"dr swap result: enter ufp\(\backslash\)r\(\backslash\)n"});
203         \}
204     \}
205     \textcolor{keywordflow}{else}
206     \{
207         \textcolor{keywordflow}{switch} (failResultType)
208         \{
209             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
210                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"dr swap result: fail\(\backslash\)r\(\backslash\)n"});
211                 \textcolor{keywordflow}{break};
212 
213             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject}:
214                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"dr swap result: reject\(\backslash\)r\(\backslash\)n"});
215                 \textcolor{keywordflow}{break};
216 
217             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cabbcc951c401dbb830050a5ece204079a}{kCommandResult\_Wait}:
218                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"dr swap result: wait\(\backslash\)r\(\backslash\)n"});
219                 \textcolor{keywordflow}{break};
220 
221             \textcolor{keywordflow}{default}:
222                 \textcolor{keywordflow}{break};
223         \}
224     \}
225 
226     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
227 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a826803f4b1f9fdf80c90234ce290e881_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a826803f4b1f9fdf80c90234ce290e881_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a4719e49373052976ae6c146751657246}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Get\-Info\-Request\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{type, }
\item[{{\bf pd\-\_\-command\-\_\-data\-\_\-param\-\_\-t} $\ast$}]{data\-Param}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a4719e49373052976ae6c146751657246}

\begin{DoxyCode}
959 \{
960     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
961 
962     \textcolor{keywordflow}{switch} (type)
963     \{
964         \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dba615accd0475ed93fbf2810f7ee13feab}{kInfoType\_SrcExtCap}:
965             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} != 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
966             \{
967                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported};
968             \}
969             \textcolor{keywordflow}{else}
970             \{
971                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
972             \}
973 
974             dataParam->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer} = (uint8\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_aeb76e6e3f6c697b91755a540ee5772cf}{selfExtCap};
975             dataParam->\hyperlink{struct__pd__command__data__param_a1ebd3619e990184cbc131f98137e3447}{dataLength} = \textcolor{keyword}{sizeof}(pdAppInstance->\hyperlink{struct__pd__app_aeb76e6e3f6c697b91755a540ee5772cf}{selfExtCap});
976             \textcolor{keywordflow}{break};
977 
978         \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dbad7eb2376a1248d3be2006ed470e69d6d}{kInfoType\_Status}:
979             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} != 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
980             \{
981                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported};
982             \}
983             \textcolor{keywordflow}{else}
984             \{
985                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
986             \}
987 
988             dataParam->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer} = (uint8\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_a6e05e1216ffa724cfb21c279323020b3}{selfStatus};
989             dataParam->\hyperlink{struct__pd__command__data__param_a1ebd3619e990184cbc131f98137e3447}{dataLength} = \textcolor{keyword}{sizeof}(pdAppInstance->\hyperlink{struct__pd__app_a6e05e1216ffa724cfb21c279323020b3}{selfStatus});
990             \textcolor{keywordflow}{break};
991 
992         \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dba53d96445d22ade3b89427bdd4145306e}{kInfoType\_BatteryCap}:
993             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} != 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
994             \{
995                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported};
996             \}
997             \textcolor{keywordflow}{else}
998             \{
999                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
1000             \}
1001             dataParam->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer} = (uint8\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_a69b5c0754997308fe2ad9308d7bb3622}{selfBatteryCap};
1002             dataParam->\hyperlink{struct__pd__command__data__param_a1ebd3619e990184cbc131f98137e3447}{dataLength} = \textcolor{keyword}{sizeof}(pdAppInstance->
      \hyperlink{struct__pd__app_a69b5c0754997308fe2ad9308d7bb3622}{selfBatteryCap});
1003             \textcolor{keywordflow}{break};
1004 
1005         \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dbad66b35525e912af71d9fa55661cd42f2}{kInfoType\_BatteryStatus}:
1006             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} != 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
1007             \{
1008                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported};
1009             \}
1010             \textcolor{keywordflow}{else}
1011             \{
1012                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
1013             \}
1014             dataParam->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer} = (uint8\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_a2aeaaa8274da80148c91444df5a8bda3}{selfBatteryStatus};
1015             dataParam->\hyperlink{struct__pd__command__data__param_a1ebd3619e990184cbc131f98137e3447}{dataLength} = \textcolor{keyword}{sizeof}(pdAppInstance->
      \hyperlink{struct__pd__app_a2aeaaa8274da80148c91444df5a8bda3}{selfBatteryStatus});
1016             \textcolor{keywordflow}{break};
1017 
1018         \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dba478e1a721488bbe50bbeb2f77b3951e4}{kInfoType\_ManufacturerInfo}:
1019             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} != 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
1020             \{
1021                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported};
1022             \}
1023             \textcolor{keywordflow}{else}
1024             \{
1025                 dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
1026             \}
1027             dataParam->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer} = (uint8\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_a8a105b2e53346e00f5ce2304ab67796a}{selfManufacInfo};
1028             dataParam->\hyperlink{struct__pd__command__data__param_a1ebd3619e990184cbc131f98137e3447}{dataLength} = 7;
1029             \textcolor{keywordflow}{break};
1030 
1031         \textcolor{keywordflow}{default}:
1032             \textcolor{keywordflow}{break};
1033     \}
1034     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
1035 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a4719e49373052976ae6c146751657246_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_aeacfe9453f3f249dc48453104fba98fe}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Get\-Info\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{type, }
\item[{uint8\-\_\-t}]{success, }
\item[{{\bf pd\-\_\-command\-\_\-data\-\_\-param\-\_\-t} $\ast$}]{success\-Data, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_aeacfe9453f3f249dc48453104fba98fe}

\begin{DoxyCode}
1039 \{
1040     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
1041 
1042     \textcolor{keywordflow}{if} (success)
1043     \{
1044         \textcolor{keywordflow}{switch} (type)
1045         \{
1046             \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dba615accd0475ed93fbf2810f7ee13feab}{kInfoType\_SrcExtCap}:
1047             \{
1048                 \hyperlink{struct__pd__source__cap__ext__data__block}{pd\_source\_cap\_ext\_data\_block\_t} *extDataBlock;
1049                 extDataBlock = (\hyperlink{struct__pd__source__cap__ext__data__block}{pd\_source\_cap\_ext\_data\_block\_t} *)successData
      ->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer};
1050                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vid:%x, pid:%x, xid:%x, fw version:%d, hw
       version:%d\(\backslash\)r\(\backslash\)n"},
1051                              (uint16\_t)extDataBlock->\hyperlink{struct__pd__source__cap__ext__data__block_a3ebf0b088d638829f685c9e401af51d9}{vid}, (uint16\_t)extDataBlock->
      \hyperlink{struct__pd__source__cap__ext__data__block_ac452b1d60d7700625f5a48e4e688bc74}{pid},
1052                              \hyperlink{usb__misc_8h_ab94871389a0730a311e19a217b223d4d}{USB\_LONG\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(((
      uint8\_t *)&(extDataBlock->\hyperlink{struct__pd__source__cap__ext__data__block_a7422db66b33622addc1c55d9876bd495}{xid}))),
1053                              (uint8\_t)extDataBlock->\hyperlink{struct__pd__source__cap__ext__data__block_a5f9b161cdc688ae7a7a71ac48bebe72b}{fwVersion}, (uint8\_t)extDataBlock->
      \hyperlink{struct__pd__source__cap__ext__data__block_a72634ef8e798fcfdda60b4d1b2ddf557}{hwVersion});
1054                 \textcolor{keywordflow}{break};
1055             \}
1056 
1057             \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dbad7eb2376a1248d3be2006ed470e69d6d}{kInfoType\_Status}:
1058             \{
1059                 \hyperlink{struct__pd__status__data__block}{pd\_status\_data\_block\_t} *status = (
      \hyperlink{struct__pd__status__data__block}{pd\_status\_data\_block\_t} *)(&successData->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer}[0]);
1060                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Internal Temp:%d\(\backslash\)r\(\backslash\)n"}, status->
      \hyperlink{struct__pd__status__data__block_a703addd9acd9c9208aee4b610cdcfee0}{internalTemp});
1061                 \textcolor{keywordflow}{break};
1062             \}
1063 
1064             \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dba53d96445d22ade3b89427bdd4145306e}{kInfoType\_BatteryCap}:
1065             \{
1066                 \hyperlink{struct__pd__battery__cap__data__block}{pd\_battery\_cap\_data\_block\_t} *partnerBatteryCap =
1067                     (\hyperlink{struct__pd__battery__cap__data__block}{pd\_battery\_cap\_data\_block\_t} *)(successData->
      \hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer});
1068                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"design cap:%dmWH, last full cap:%d\(\backslash\)r\(\backslash\)n"},
1069                              partnerBatteryCap->\hyperlink{struct__pd__battery__cap__data__block_ab3c3ebf4347b9ed544f266e2f9d34238}{batteryDesignCap} * 100,
1070                              partnerBatteryCap->\hyperlink{struct__pd__battery__cap__data__block_a3c566271c930773785e19daf77a05542}{batteryLastFullChargeCap} * 100);
1071                 \textcolor{keywordflow}{break};
1072             \}
1073 
1074             \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dbad66b35525e912af71d9fa55661cd42f2}{kInfoType\_BatteryStatus}:
1075             \{
1076                 \hyperlink{struct__pd__battery__status__data__object}{pd\_battery\_status\_data\_object\_t} *partnerBatteryStatus =
1077                     (\hyperlink{struct__pd__battery__status__data__object}{pd\_battery\_status\_data\_object\_t} *)(successData->
      \hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer});
1078                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"battery charge state:%dmWH, last full cap:%d\(\backslash\)r\(\backslash\)n"},
1079                              partnerBatteryStatus->\hyperlink{struct__pd__battery__status__data__object_a9e8c5885cae3cd051e4f8bd18db1a9db}{batteryPC} * 100);
1080                 \textcolor{keywordflow}{break};
1081             \}
1082 
1083             \textcolor{keywordflow}{case} \hyperlink{pd__command__interface_8h_a16038928d210292250ce3f9d972ac1dba478e1a721488bbe50bbeb2f77b3951e4}{kInfoType\_ManufacturerInfo}:
1084             \{
1085                 \hyperlink{struct__pd__manufac__info__data__block}{pd\_manufac\_info\_data\_block\_t} *partnerManufacturerInfo =
1086                     (\hyperlink{struct__pd__manufac__info__data__block}{pd\_manufac\_info\_data\_block\_t} *)(successData->
      \hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer});
1087                 partnerManufacturerInfo->\hyperlink{struct__pd__manufac__info__data__block_a02e7724a7ade9d8136676933ec43b637}{manufacturerString}[successData->
      \hyperlink{struct__pd__command__data__param_a1ebd3619e990184cbc131f98137e3447}{dataLength} - 4] = 0;
1088                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"manufacturer string:%s\(\backslash\)r\(\backslash\)n"}, 
      partnerManufacturerInfo->\hyperlink{struct__pd__manufac__info__data__block_a02e7724a7ade9d8136676933ec43b637}{manufacturerString});
1089                 \textcolor{keywordflow}{break};
1090             \}
1091 
1092             \textcolor{keywordflow}{default}:
1093                 \textcolor{keywordflow}{break};
1094         \}
1095     \}
1096     \textcolor{keywordflow}{else}
1097     \{
1098         \textcolor{keywordflow}{switch} (failResultType)
1099         \{
1100             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
1101                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"get info fail\(\backslash\)r\(\backslash\)n"});
1102                 \textcolor{keywordflow}{break};
1103 
1104             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported}:
1105                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"get info is not supported by partner\(\backslash\)r\(\backslash\)n"});
1106                 \textcolor{keywordflow}{break};
1107 
1108             \textcolor{keywordflow}{default}:
1109                 \textcolor{keywordflow}{break};
1110         \}
1111     \}
1112 
1113     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
1114 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_aeacfe9453f3f249dc48453104fba98fe_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_aeacfe9453f3f249dc48453104fba98fe_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_ac82c79e04c70ce07454c8549666b7d5f}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Get\-Partner\-Snk\-Caps\-Fail\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_ac82c79e04c70ce07454c8549666b7d5f}

\begin{DoxyCode}
547 \{
548     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
549 
550     \textcolor{keywordflow}{switch} (failResultType)
551     \{
552         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
553             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"get snk cap fail"});
554             \textcolor{keywordflow}{break};
555 
556         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported}:
557             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"get snk cap replying not supported"});
558             \textcolor{keywordflow}{break};
559     \}
560 
561     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
562 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_ac82c79e04c70ce07454c8549666b7d5f_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a5043c66ba7fcf337c4333144f43ed630}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback@{P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Get\-Partner\-Src\-Caps\-Fail\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a5043c66ba7fcf337c4333144f43ed630}

\begin{DoxyCode}
401 \{
402     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
403 
404     \textcolor{keywordflow}{switch} (failResultType)
405     \{
406         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
407             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"get src cap fail"});
408             \textcolor{keywordflow}{break};
409 
410         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported}:
411             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"get src cap replying not supported"});
412             \textcolor{keywordflow}{break};
413     \}
414 
415     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
416 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a5043c66ba7fcf337c4333144f43ed630_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a34306bb735461e522c573f87e8a4049b}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback@{P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback@{P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Hard\-Reset\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a34306bb735461e522c573f87e8a4049b}

\begin{DoxyCode}
70 \{
71     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
72 
73     \textcolor{comment}{/* reset state, The Sink shall not draw more than iSafe0mA when VBUS is driven to vSafe0V. */}
74     pdAppInstance->\hyperlink{struct__pd__app_a6cd3330740f3a7d5c35f3c9edf8ec6e2}{selfHasEnterAlernateMode} = 0;
75     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"hard reset request\(\backslash\)r\(\backslash\)n"});
76     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
77 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a34306bb735461e522c573f87e8a4049b_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a1d232a97d0a852565547c1952e83faa6}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Request\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{fr\-Swap, }
\item[{uint8\-\_\-t $\ast$}]{evaluate\-Result}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a1d232a97d0a852565547c1952e83faa6}

\begin{DoxyCode}
80 \{
81 \textcolor{preprocessor}{#if (defined PD\_CONFIG\_COMPLIANCE\_TEST\_ENABLE) && (PD\_CONFIG\_COMPLIANCE\_TEST\_ENABLE)}
82 \textcolor{preprocessor}{}    \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
83     uint8\_t powerRole;
84 
85     \textcolor{keywordflow}{if} (frSwap)
86     \{
87         *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
88     \}
89     \textcolor{keywordflow}{else}
90     \{
91         \hyperlink{group__usb__pd__stack_gac3d77e334213f541028d2da518086ca2}{PD\_Control}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_gga0edd2a390d28d96646bc71aac1858af1a04f2cae987c5f93bcd07bcffd679548e}{PD\_CONTROL\_GET\_POWER\_ROLE}, &powerRole);
92         \textcolor{keywordflow}{if} ((powerRole == \hyperlink{group__usb__pd__stack_gga46146487374ddc31d48f33b2b6a26f8ba9fdae65ce89c7d877981a3abef33a2cb}{kPD\_PowerRoleSource}) && (pdAppInstance->
      \hyperlink{struct__pd__app_ad908e0fab5fa09248c7412253ce41095}{selfSourcePdo1}.\hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_aa1715617698b348913227183195ae8f5}{externalPowered}))
93         \{
94             \textcolor{keywordflow}{if} ((pdAppInstance->\hyperlink{struct__pd__app_a7cd2902dee071f9f64b078bd4ac955be}{partnerSourceCapNumber} == 0) && (
      \hyperlink{pd__app_8c_a4c95db98c2e53feffacac68c5c3abd80}{g\_PDAppInstance}.\hyperlink{struct__pd__app_a927a55034c0beae071c028b60cd36290}{partnerSinkCapNumber} == 0))
95             \{
96                 *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cabbcc951c401dbb830050a5ece204079a}{kCommandResult\_Wait};
97                 \hyperlink{group__usb__pd__stack_gaa61d0ac40ef36db1ef5a88532f6eea90}{PD\_Command}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_ggabf2676c3360b7c572954ae09c0a5e46aae21522a20dc98bf1e6a27fd41104158a}{PD\_DPM\_CONTROL\_GET\_PARTNER\_SOURCE\_CAPABILITIES}, NULL);
98             \}
99             \textcolor{keywordflow}{else}
100             \{
101                 \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7cd2902dee071f9f64b078bd4ac955be}{partnerSourceCapNumber})
102                 \{
103                     \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_ac8c4ef05a14fc26bacd62f1937726488}{partnerSourceCaps}[0].
      \hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_aa1715617698b348913227183195ae8f5}{externalPowered} == 0)
104                     \{
105                         *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject};
106                     \}
107                     \textcolor{keywordflow}{else}
108                     \{
109                         *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
110                     \}
111                 \}
112                 \textcolor{keywordflow}{else}
113                 \{
114                     \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_acc42dfe2943d15788312733c25a20073}{partnerSinkCaps}[0].
      \hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_aa1715617698b348913227183195ae8f5}{externalPowered} == 0)
115                     \{
116                         *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject};
117                     \}
118                     \textcolor{keywordflow}{else}
119                     \{
120                         *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
121                     \}
122                 \}
123             \}
124         \}
125         \textcolor{keywordflow}{else}
126         \{
127             *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
128         \}
129     \}
130 \textcolor{preprocessor}{#else}
131 \textcolor{preprocessor}{}    *evaluateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
132 \textcolor{preprocessor}{#endif}
133 \textcolor{preprocessor}{}    \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
134 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a1d232a97d0a852565547c1952e83faa6_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a3d92f8202fc73da16faf6d8496bae858}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Power\-Role\-Swap\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a3d92f8202fc73da16faf6d8496bae858}

\begin{DoxyCode}
137 \{
138     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
139     uint8\_t roleInfo;
140 
141     \textcolor{keywordflow}{if} (success)
142     \{
143         \hyperlink{group__usb__pd__stack_gac3d77e334213f541028d2da518086ca2}{PD\_Control}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_gga0edd2a390d28d96646bc71aac1858af1a04f2cae987c5f93bcd07bcffd679548e}{PD\_CONTROL\_GET\_POWER\_ROLE}, &roleInfo);
144         \textcolor{keywordflow}{if} (roleInfo == \hyperlink{group__usb__pd__stack_gga46146487374ddc31d48f33b2b6a26f8ba9fdae65ce89c7d877981a3abef33a2cb}{kPD\_PowerRoleSource})
145         \{
146             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"enter source\(\backslash\)r\(\backslash\)n"});
147         \}
148         \textcolor{keywordflow}{else}
149         \{
150             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"enter sink\(\backslash\)r\(\backslash\)n"});
151         \}
152     \}
153     \textcolor{keywordflow}{else}
154     \{
155         \textcolor{keywordflow}{switch} (failResultType)
156         \{
157             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject}:
158                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"power role swap result: reject\(\backslash\)r\(\backslash\)n"});
159                 \textcolor{keywordflow}{break};
160 
161             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cabbcc951c401dbb830050a5ece204079a}{kCommandResult\_Wait}:
162                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"power role swap result: wait\(\backslash\)r\(\backslash\)n"});
163                 \textcolor{keywordflow}{break};
164 
165             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
166                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"power role swap result: fail\(\backslash\)r\(\backslash\)n"});
167                 \textcolor{keywordflow}{break};
168 
169             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported}:
170                 \textcolor{keywordflow}{break};
171 
172             \textcolor{keywordflow}{default}:
173                 \textcolor{keywordflow}{break};
174         \}
175     \}
176 
177     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
178 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a3d92f8202fc73da16faf6d8496bae858_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a29fdeaa67097b0b29462ddc1ec0b539f}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback@{P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback@{P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Receive\-Alert\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-command\-\_\-data\-\_\-param\-\_\-t} $\ast$}]{data\-Param}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a29fdeaa67097b0b29462ddc1ec0b539f}

\begin{DoxyCode}
1117 \{
1118     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
1119     \hyperlink{struct__pd__alert__data__object}{pd\_alert\_data\_object\_t} alertObj;
1120 
1121     dataParam->\hyperlink{struct__pd__command__data__param_ae615100fed31d9a3b0d14df3e88b427f}{resultStatus} = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
1122     alertObj.\hyperlink{struct__pd__alert__data__object_aed9a5657c490967d07dd7961217bc0f2}{alertValue} = \hyperlink{usb__misc_8h_ab94871389a0730a311e19a217b223d4d}{USB\_LONG\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(
      dataParam->\hyperlink{struct__pd__command__data__param_a208a0a5b69c2c44eaa616e4e1d6b77ee}{dataBuffer});
1123     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"alert change:%x\(\backslash\)r\(\backslash\)n"}, alertObj.
      \hyperlink{struct__pd__alert__data__object_a2cd260346b89e8818ac9a0fe06a69297}{bitFields}.typeOfAlert);
1124 
1125     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"start get status command\(\backslash\)r\(\backslash\)n"});
1126     \textcolor{keywordflow}{if} (\hyperlink{group__usb__pd__stack_gaa61d0ac40ef36db1ef5a88532f6eea90}{PD\_Command}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, \hyperlink{group__usb__pd__stack_ggabf2676c3360b7c572954ae09c0a5e46aad86c8e205d8307f0e9891f594f801fd3}{PD\_DPM\_GET\_STATUS}, NULL) != 
      \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success})
1127     \{
1128         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"command start fail\(\backslash\)r\(\backslash\)n"});
1129     \}
1130 
1131     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
1132 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a29fdeaa67097b0b29462ddc1ec0b539f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a29fdeaa67097b0b29462ddc1ec0b539f_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_adfab2b7d8a3ba6b4a8e138ac138d2398}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback@{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback@{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Receive\-Partner\-Snk\-Caps\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-capabilities\-\_\-t} $\ast$}]{caps}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_adfab2b7d8a3ba6b4a8e138ac138d2398}

\begin{DoxyCode}
498 \{
499     uint32\_t index;
500     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
501     \hyperlink{struct__pd__sink__pdo}{pd\_sink\_pdo\_t} sinkPDO;
502     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"receive sink capabilities:\(\backslash\)r\(\backslash\)n"});
503     pdAppInstance->\hyperlink{struct__pd__app_a927a55034c0beae071c028b60cd36290}{partnerSinkCapNumber} = caps->
      \hyperlink{struct__pd__capabilities_a240b859a2ffe7e634479a22c3f3e4feb}{capabilitiesCount};
504     \textcolor{keywordflow}{for} (index = 0; index < pdAppInstance->\hyperlink{struct__pd__app_a927a55034c0beae071c028b60cd36290}{partnerSinkCapNumber}; ++index)
505     \{
506         pdAppInstance->\hyperlink{struct__pd__app_acc42dfe2943d15788312733c25a20073}{partnerSinkCaps}[index].\hyperlink{struct__pd__source__pdo_ae7c1220b81dd8506c6731d7a6adc6ac9}{PDOValue} = caps->
      \hyperlink{struct__pd__capabilities_a559fdae7ddb5376491caf869366e7e71}{capabilities}[index];
507         sinkPDO.\hyperlink{struct__pd__sink__pdo_a2f3c5aa6d559d35227af11db28c5dac8}{PDOValue} = caps->\hyperlink{struct__pd__capabilities_a559fdae7ddb5376491caf869366e7e71}{capabilities}[index];
508         \textcolor{keywordflow}{switch} (sinkPDO.\hyperlink{struct__pd__sink__pdo_a8f6789929499a63a1326708206e016c5}{commonPDO}.\hyperlink{struct__pd__pdo__common_a5a1a819ee8e548be9b972852c75aa597}{pdoType})
509         \{
510             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9a92d0f35b314a01e880e257e5af3c9e62}{kPDO\_Fixed}:
511             \{
512                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"%d: fixed PDO; "}, index + 1);
513                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vol:%dmV, current:%dmA\(\backslash\)r\(\backslash\)n"},
514                              sinkPDO.\hyperlink{struct__pd__sink__pdo_aebd2d1f5078757ee9a4c3d836e0df136}{fixedPDO}.\hyperlink{struct__pd__sink__fixed__pdo_a5e095a725455f85faa43a1573e62b798}{voltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
515                              sinkPDO.\hyperlink{struct__pd__sink__pdo_aebd2d1f5078757ee9a4c3d836e0df136}{fixedPDO}.\hyperlink{struct__pd__sink__fixed__pdo_a264499e662c6bb82e0e25fc3d296b88b}{operateCurrent} * 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT});
516                 \textcolor{keywordflow}{break};
517             \}
518 
519             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9ab2765d7b98d6e0922c4937be6d2ab618}{kPDO\_Variable}:
520             \{
521                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"%d: variable PDO; "}, index + 1);
522                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vol:%dmV ~ %dmV, current:%dmA\(\backslash\)r\(\backslash\)n"},
523                              sinkPDO.\hyperlink{struct__pd__sink__pdo_a15603e339ec84b653f83ee6865c1dfd8}{variablePDO}.\hyperlink{struct__pd__sink__variable__pdo_adc5d6a90b282fc222e180b79aef74e65}{maxVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
524                              sinkPDO.\hyperlink{struct__pd__sink__pdo_a15603e339ec84b653f83ee6865c1dfd8}{variablePDO}.\hyperlink{struct__pd__sink__variable__pdo_a0ee666a778180c34bc4e0119ee3f51a3}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
525                              sinkPDO.\hyperlink{struct__pd__sink__pdo_a15603e339ec84b653f83ee6865c1dfd8}{variablePDO}.\hyperlink{struct__pd__sink__variable__pdo_a145ba35b4f033f771ae9b72c018181d5}{operateCurrent} * 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT});
526                 \textcolor{keywordflow}{break};
527             \}
528 
529             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9a42f5a5c21d0523dca99c8e14b2ec23a0}{kPDO\_Battery}:
530             \{
531                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"%d: battery PDO; "}, index + 1);
532                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vol:%dmV ~ %dmV, power:%dmW\(\backslash\)r\(\backslash\)n"},
533                              sinkPDO.\hyperlink{struct__pd__sink__pdo_adb7ddc7d4451cd6fe0f6eb13ebce229e}{batteryPDO}.\hyperlink{struct__pd__sink__battery__pdo_a5fe153e249c105e6b8414233ae216710}{maxVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
534                              sinkPDO.\hyperlink{struct__pd__sink__pdo_adb7ddc7d4451cd6fe0f6eb13ebce229e}{batteryPDO}.\hyperlink{struct__pd__sink__battery__pdo_a473824d26b81e000486844b83e32b09d}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
535                              sinkPDO.\hyperlink{struct__pd__sink__pdo_adb7ddc7d4451cd6fe0f6eb13ebce229e}{batteryPDO}.\hyperlink{struct__pd__sink__battery__pdo_aede06aa3716908a68c90828fbfe5cebe}{operatePower} * 
      \hyperlink{group__usb__pd__stack_ga18642aa62f457d8501be4bddf6608e80}{PD\_PDO\_POWER\_UNIT});
536             \}
537 
538             \textcolor{keywordflow}{default}:
539                 \textcolor{keywordflow}{break};
540         \}
541     \}
542 
543     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
544 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_adfab2b7d8a3ba6b4a8e138ac138d2398_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_aef2aa35be6feb902cbecde3673322473}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback@{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback@{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Receive\-Partner\-Src\-Caps\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-capabilities\-\_\-t} $\ast$}]{caps}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_aef2aa35be6feb902cbecde3673322473}

\begin{DoxyCode}
352 \{
353     uint32\_t index;
354     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
355     \hyperlink{struct__pd__source__pdo}{pd\_source\_pdo\_t} sourcePDO;
356     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"receive source capabilities:\(\backslash\)r\(\backslash\)n"});
357     pdAppInstance->\hyperlink{struct__pd__app_a7cd2902dee071f9f64b078bd4ac955be}{partnerSourceCapNumber} = caps->
      \hyperlink{struct__pd__capabilities_a240b859a2ffe7e634479a22c3f3e4feb}{capabilitiesCount};
358     \textcolor{keywordflow}{for} (index = 0; index < pdAppInstance->\hyperlink{struct__pd__app_a7cd2902dee071f9f64b078bd4ac955be}{partnerSourceCapNumber}; ++index)
359     \{
360         pdAppInstance->\hyperlink{struct__pd__app_ac8c4ef05a14fc26bacd62f1937726488}{partnerSourceCaps}[index].\hyperlink{struct__pd__source__pdo_ae7c1220b81dd8506c6731d7a6adc6ac9}{PDOValue} = caps->
      \hyperlink{struct__pd__capabilities_a559fdae7ddb5376491caf869366e7e71}{capabilities}[index];
361         sourcePDO.\hyperlink{struct__pd__source__pdo_ae7c1220b81dd8506c6731d7a6adc6ac9}{PDOValue} = caps->\hyperlink{struct__pd__capabilities_a559fdae7ddb5376491caf869366e7e71}{capabilities}[index];
362         \textcolor{keywordflow}{switch} (sourcePDO.\hyperlink{struct__pd__source__pdo_ad1af05b25c2dfc8f72eea50707536c10}{commonPDO}.\hyperlink{struct__pd__pdo__common_a5a1a819ee8e548be9b972852c75aa597}{pdoType})
363         \{
364             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9a92d0f35b314a01e880e257e5af3c9e62}{kPDO\_Fixed}:
365             \{
366                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"%d: fixed PDO; "}, index + 1);
367                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vol:%dmV, current:%dmA\(\backslash\)r\(\backslash\)n"},
368                              sourcePDO.\hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_abba8fe6a9f4c4f6ac33cbfe075945e6a}{voltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
369                              sourcePDO.\hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_a1bb1756a3f7fe82e0395efac18eb8f41}{maxCurrent} * 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT});
370                 \textcolor{keywordflow}{break};
371             \}
372 
373             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9ab2765d7b98d6e0922c4937be6d2ab618}{kPDO\_Variable}:
374             \{
375                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"%d: variable PDO; "}, index + 1);
376                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vol:%dmV ~ %dmV, current:%dmA\(\backslash\)r\(\backslash\)n"},
377                              sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a493ced8078579d68ade7dfbce819b4d1}{maxVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
378                              sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a713018c825f51d1a6a7186582b40a106}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
379                              sourcePDO.\hyperlink{struct__pd__source__pdo_a81d5ae3b407a289661136aa515ba1942}{variablePDO}.\hyperlink{struct__pd__source__variable__pdo_a8a24367204d3381f0670311a88c0b2e6}{maxCurrent} * 
      \hyperlink{group__usb__pd__stack_ga63746ad31eee8f5912a846952e6645b6}{PD\_PDO\_CURRENT\_UNIT});
380                 \textcolor{keywordflow}{break};
381             \}
382 
383             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggab9f5d08f382b92b55a7f5f224a231dc9a42f5a5c21d0523dca99c8e14b2ec23a0}{kPDO\_Battery}:
384             \{
385                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"%d: battery PDO; "}, index + 1);
386                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vol:%dmV ~ %dmV, power:%dmW\(\backslash\)r\(\backslash\)n"},
387                              sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_af818fd645542287499a65f559ef6d571}{maxVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
388                              sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_a5c799cc37ea460e9bfeea8a05242cf54}{minVoltage} * 
      \hyperlink{group__usb__pd__stack_ga83cbb5a0a1b721ddb0f815077c854e8e}{PD\_PDO\_VOLTAGE\_UNIT},
389                              sourcePDO.\hyperlink{struct__pd__source__pdo_ae677c279b52a30bc6ca29600d978757e}{batteryPDO}.\hyperlink{struct__pd__source__battery__pdo_ae4498258205f03a10afdb32e445a57ef}{maxAllowPower} * 
      \hyperlink{group__usb__pd__stack_ga18642aa62f457d8501be4bddf6608e80}{PD\_PDO\_POWER\_UNIT});
390             \}
391 
392             \textcolor{keywordflow}{default}:
393                 \textcolor{keywordflow}{break};
394         \}
395     \}
396 
397     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
398 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_aef2aa35be6feb902cbecde3673322473_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a1439dc2a791941fe3b5fb170c30b04f9}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback@{P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback@{P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Send\-Alert\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a1439dc2a791941fe3b5fb170c30b04f9}

\begin{DoxyCode}
1135 \{
1136     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
1137 
1138     \textcolor{keywordflow}{if} (success)
1139     \{
1140         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"send alert result: success\(\backslash\)r\(\backslash\)n"});
1141     \}
1142     \textcolor{keywordflow}{else}
1143     \{
1144         \textcolor{keywordflow}{switch} (failResultType)
1145         \{
1146             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
1147                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"send alert result: fail\(\backslash\)r\(\backslash\)n"});
1148                 \textcolor{keywordflow}{break};
1149 
1150             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported}:
1151                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"send alert result: not supported\(\backslash\)r\(\backslash\)n"});
1152                 \textcolor{keywordflow}{break};
1153 
1154             \textcolor{keywordflow}{default}:
1155                 \textcolor{keywordflow}{break};
1156         \}
1157     \}
1158 
1159     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
1160 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=338pt]{pd__command__app_8c_a1439dc2a791941fe3b5fb170c30b04f9_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a1439dc2a791941fe3b5fb170c30b04f9_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_adcf04a0dae4086c9517955cf3d447126}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback@{P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback@{P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Snk\-Get\-Request\-R\-D\-O\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-rdo\-\_\-t} $\ast$}]{rdo}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_adcf04a0dae4086c9517955cf3d447126}

\begin{DoxyCode}
419 \{
420     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
421     uint32\_t voltage;
422 
423     \textcolor{keywordflow}{if} (\hyperlink{pd__command__app_8c_a320c5867d39cdebb0bc6e98084c6be69}{PD\_DemoFindPDO}(pdAppInstance, rdo, &voltage) != 
      \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success})
424     \{
425         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"cap mismatch\(\backslash\)r\(\backslash\)n"});
426     \}
427     pdAppInstance->\hyperlink{struct__pd__app_ab41fa9c76e29ce689c812cfc7ad55150}{sinkRequestRDO} = *rdo;
428     pdAppInstance->\hyperlink{struct__pd__app_aaef3da806ed2695378c7ce5cc01462d5}{sinkRequestVoltage} = voltage;
429 
430     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
431 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_adcf04a0dae4086c9517955cf3d447126_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_ad4459653e54df154cb838bea4ccfd4e1}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Snk\-Goto\-Min\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_ad4459653e54df154cb838bea4ccfd4e1}

\begin{DoxyCode}
482 \{
483     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
484 
485     \textcolor{keywordflow}{if} (success)
486     \{
487         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"success\(\backslash\)r\(\backslash\)n"});
488     \}
489     \textcolor{keywordflow}{else}
490     \{
491         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"fail\(\backslash\)r\(\backslash\)n"});
492     \}
493 
494     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
495 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_ad4459653e54df154cb838bea4ccfd4e1_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a1a5c446f863f9b45b09e5b428c5c2613}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Snk\-R\-D\-O\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a1a5c446f863f9b45b09e5b428c5c2613}

\begin{DoxyCode}
434 \{
435     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
436 
437     \textcolor{keywordflow}{if} (success)
438     \{
439         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"sink request %dV success\(\backslash\)r\(\backslash\)n"}, pdAppInstance->
      \hyperlink{struct__pd__app_aaef3da806ed2695378c7ce5cc01462d5}{sinkRequestVoltage} / 1000);
440     \}
441     \textcolor{keywordflow}{else}
442     \{
443         \textcolor{keywordflow}{switch} (failResultType)
444         \{
445             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
446                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"sink request power result: fail\(\backslash\)r\(\backslash\)n"});
447                 \textcolor{keywordflow}{break};
448 
449             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject}:
450                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"sink request power result: reject\(\backslash\)r\(\backslash\)n"});
451                 \textcolor{keywordflow}{break};
452 
453             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cabbcc951c401dbb830050a5ece204079a}{kCommandResult\_Wait}:
454                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"sink request power result: wait\(\backslash\)r\(\backslash\)n"});
455                 \textcolor{keywordflow}{break};
456 
457             \textcolor{keywordflow}{default}:
458                 \textcolor{keywordflow}{break};
459         \}
460     \}
461 
462     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
463 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a1a5c446f863f9b45b09e5b428c5c2613_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a9a594323bf987df556436495d9d6dd2a}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback@{P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback@{P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Soft\-Reset\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a9a594323bf987df556436495d9d6dd2a}

\begin{DoxyCode}
61 \{
62     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
63 
64     \textcolor{comment}{/* reset soft status */}
65     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"app soft reset\(\backslash\)r\(\backslash\)n"});
66     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
67 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a9a594323bf987df556436495d9d6dd2a_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_afcdd95ee527ae1405c5d816317badd5f}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Src\-Goto\-Min\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_afcdd95ee527ae1405c5d816317badd5f}

\begin{DoxyCode}
466 \{
467     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
468 
469     \textcolor{keywordflow}{if} (success)
470     \{
471         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"success\(\backslash\)r\(\backslash\)n"});
472     \}
473     \textcolor{keywordflow}{else}
474     \{
475         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"fail\(\backslash\)r\(\backslash\)n"});
476     \}
477 
478     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
479 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_afcdd95ee527ae1405c5d816317badd5f_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a098ead626f2b20fb29afb3e8b9d5350b}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback@{P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback@{P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Src\-Pre\-Contract\-Still\-Valid\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t $\ast$}]{is\-Still\-Valid}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a098ead626f2b20fb29afb3e8b9d5350b}

\begin{DoxyCode}
320 \{
321     \textcolor{comment}{/* if pre contract exist, return true */}
322     *isStillValid = 1;
323     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
324 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a098ead626f2b20fb29afb3e8b9d5350b_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a0012931c6c686dd4bdab89e0b3c6414d}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Request\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-rdo\-\_\-t}}]{rdo, }
\item[{uint8\-\_\-t $\ast$}]{negotiate\-Result}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a0012931c6c686dd4bdab89e0b3c6414d}

\begin{DoxyCode}
282 \{
283     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
284     uint8\_t accept = 0;
285 
286     \textcolor{comment}{/* prepare for power supply, The power supply shall be ready to operate at the new power level within}
287 \textcolor{comment}{     * tSrcReady */}
288     \textcolor{keywordflow}{if} (rdo.\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition == 1)
289     \{
290         \textcolor{keywordflow}{if} (rdo.\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue <= pdAppInstance->\hyperlink{struct__pd__app_ad908e0fab5fa09248c7412253ce41095}{selfSourcePdo1}.
      \hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_a1bb1756a3f7fe82e0395efac18eb8f41}{maxCurrent})
291         \{
292             accept = 1;
293         \}
294     \}
295     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rdo.\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition == 2)
296     \{
297         \textcolor{keywordflow}{if} (rdo.\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.operateValue <= pdAppInstance->\hyperlink{struct__pd__app_a49087b316d085ddf2be9d4ab093a0088}{selfSourcePdo2}.
      \hyperlink{struct__pd__source__pdo_a2405f8ee75a370cba4a48b94080958b1}{fixedPDO}.\hyperlink{struct__pd__source__fixed__pdo_a1bb1756a3f7fe82e0395efac18eb8f41}{maxCurrent})
298         \{
299             accept = 1;
300         \}
301     \}
302     \textcolor{keywordflow}{else}
303     \{
304     \}
305 
306     \textcolor{keywordflow}{if} (accept)
307     \{
308         pdAppInstance->\hyperlink{struct__pd__app_ab41fa9c76e29ce689c812cfc7ad55150}{sinkRequestRDO}.\hyperlink{struct__pd__rdo_a66cd4e249b3284e7d1acc9714fa0ce0a}{rdoVal} = rdo.\hyperlink{struct__pd__rdo_a66cd4e249b3284e7d1acc9714fa0ce0a}{rdoVal};
309         *negotiateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept};
310     \}
311     \textcolor{keywordflow}{else}
312     \{
313         *negotiateResult = \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject};
314     \}
315 
316     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
317 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a0012931c6c686dd4bdab89e0b3c6414d_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a67ae7c023946ebdcdb306e1e96b3f45e}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Src\-R\-D\-O\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a67ae7c023946ebdcdb306e1e96b3f45e}

\begin{DoxyCode}
327 \{
328     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
329 
330     \textcolor{keywordflow}{if} (success)
331     \{
332         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"partner sink's request %dV success\(\backslash\)r\(\backslash\)n"},
333                      (pdAppInstance->\hyperlink{struct__pd__app_ab41fa9c76e29ce689c812cfc7ad55150}{sinkRequestRDO}.\hyperlink{struct__pd__rdo_acd03d551b682b870d0e30be5819d013e}{bitFields}.objectPosition == 1) ?
       5 : 9);
334     \}
335     \textcolor{keywordflow}{else}
336     \{
337         \textcolor{keywordflow}{switch} (failResultType)
338         \{
339             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
340                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"source has error in power negotiation\(\backslash\)r\(\backslash\)n"});
341                 \textcolor{keywordflow}{break};
342 
343             \textcolor{keywordflow}{default}:
344                 \textcolor{keywordflow}{break};
345         \}
346     \}
347 
348     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
349 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a67ae7c023946ebdcdb306e1e96b3f45e_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a93eda98ed9ea76dfbf9975269a20907f}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback@{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback}}
\index{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback@{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Request\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-svdm\-\_\-command\-\_\-request\-\_\-t} $\ast$}]{svdm\-Request}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a93eda98ed9ea76dfbf9975269a20907f}

\begin{DoxyCode}
565 \{
566     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
567 
568     \textcolor{comment}{/* common process */}
569     \textcolor{keywordflow}{switch} (svdmRequest->\hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.command)
570     \{
571         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa093484740fe8a0d1886fd86ab3ddab3e}{kVDM\_DiscoverIdentity}:
572         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa3467f9c1fa07c560f41145a00fcd25da}{kVDM\_DiscoverSVIDs}:
573             \textcolor{keywordflow}{break};
574 
575         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fae6922b747be7bb80dbe7822a940bab16}{kVDM\_DiscoverModes}:
576         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa171284120b4265e1e8d90b279682a7bf}{kVDM\_EnterMode}:
577         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa1457e1ea577c3e45e1d4a657cd5005d7}{kVDM\_ExitMode}:
578             \textcolor{keywordflow}{if} (svdmRequest->\hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.SVID != 
      \hyperlink{pd__app_8h_a91dfd33e2891ead42941df24caa16abe}{PD\_VENDOR\_VID})
579             \{
580                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cac783d71949646db3d0780d123de6bf3c}{kCommandResult\_VDMNAK};
581                 \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
582             \}
583             \textcolor{keywordflow}{break};
584 
585         \textcolor{keywordflow}{default}:
586             \textcolor{keywordflow}{break};
587     \}
588 
589     \textcolor{comment}{/* ack or nak, no busy */}
590     \textcolor{comment}{/* partner return nak if it is not in the alternate mode */}
591     \textcolor{keywordflow}{switch} (svdmRequest->\hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.command)
592     \{
593         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa093484740fe8a0d1886fd86ab3ddab3e}{kVDM\_DiscoverIdentity}:
594             svdmRequest->\hyperlink{struct__pd__svdm__request_ac674930499f5462b363cb7890746888e}{vdoData} = (uint32\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_a9ed2335d20ff0eb86b07dc8770d2b6a7}{selfVdmIdentity};
595             svdmRequest->\hyperlink{struct__pd__svdm__request_a447ad7fabf845dde656f32b7ba306582}{vdoCount} = \textcolor{keyword}{sizeof}(pdAppInstance->
      \hyperlink{struct__pd__app_a9ed2335d20ff0eb86b07dc8770d2b6a7}{selfVdmIdentity}) / 4;
596             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} == 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
597             \{
598                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca8de7fa85a3e37afed0b95cd975959f13}{kCommandResult\_VDMACK};
599             \}
600             \textcolor{keywordflow}{else}
601             \{
602                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca7d97a0d078d217c54b88f5a076204572}{kCommandResult\_VDMBUSY};
603             \}
604             \textcolor{keywordflow}{break};
605 
606         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa3467f9c1fa07c560f41145a00fcd25da}{kVDM\_DiscoverSVIDs}:
607             svdmRequest->\hyperlink{struct__pd__svdm__request_ac674930499f5462b363cb7890746888e}{vdoData} = (uint32\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_a11745e09255efcf04a755844a8f7dc4c}{selfVdmSVIDs};
608             svdmRequest->\hyperlink{struct__pd__svdm__request_a447ad7fabf845dde656f32b7ba306582}{vdoCount} = 1;
609             if (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} == 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
610             \{
611                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca8de7fa85a3e37afed0b95cd975959f13}{kCommandResult\_VDMACK};
612             \}
613             \textcolor{keywordflow}{else}
614             \{
615                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca7d97a0d078d217c54b88f5a076204572}{kCommandResult\_VDMBUSY};
616             \}
617             \textcolor{keywordflow}{break};
618 
619         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fae6922b747be7bb80dbe7822a940bab16}{kVDM\_DiscoverModes}:
620             svdmRequest->\hyperlink{struct__pd__svdm__request_ac674930499f5462b363cb7890746888e}{vdoData} = (uint32\_t *)&pdAppInstance->
      \hyperlink{struct__pd__app_afc00e2e0f839a534a57c6cd5d8154b34}{selfVdmModes};
621             svdmRequest->\hyperlink{struct__pd__svdm__request_a447ad7fabf845dde656f32b7ba306582}{vdoCount} = 1;
622             if (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} == 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
623             \{
624                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca8de7fa85a3e37afed0b95cd975959f13}{kCommandResult\_VDMACK};
625             \}
626             \textcolor{keywordflow}{else}
627             \{
628                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca7d97a0d078d217c54b88f5a076204572}{kCommandResult\_VDMBUSY};
629             \}
630             \textcolor{keywordflow}{break};
631 
632         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa171284120b4265e1e8d90b279682a7bf}{kVDM\_EnterMode}:
633             svdmRequest->\hyperlink{struct__pd__svdm__request_ac674930499f5462b363cb7890746888e}{vdoData} = NULL;
634             svdmRequest->\hyperlink{struct__pd__svdm__request_a447ad7fabf845dde656f32b7ba306582}{vdoCount} = 0;
635             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} == 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
636             \{
637                 \textcolor{keywordflow}{if} (svdmRequest->\hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.objPos == 1)
638                 \{
639                     svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca8de7fa85a3e37afed0b95cd975959f13}{kCommandResult\_VDMACK};
640                     pdAppInstance->\hyperlink{struct__pd__app_a6cd3330740f3a7d5c35f3c9edf8ec6e2}{selfHasEnterAlernateMode} = 1;
641                 \}
642                 \textcolor{keywordflow}{else}
643                 \{
644                     svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cac783d71949646db3d0780d123de6bf3c}{kCommandResult\_VDMNAK};
645                     pdAppInstance->\hyperlink{struct__pd__app_a6cd3330740f3a7d5c35f3c9edf8ec6e2}{selfHasEnterAlernateMode} = 1;
646                 \}
647             \}
648             \textcolor{keywordflow}{else}
649             \{
650                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca7d97a0d078d217c54b88f5a076204572}{kCommandResult\_VDMBUSY};
651             \}
652             \textcolor{keywordflow}{break};
653 
654         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa1457e1ea577c3e45e1d4a657cd5005d7}{kVDM\_ExitMode}:
655             svdmRequest->\hyperlink{struct__pd__svdm__request_ac674930499f5462b363cb7890746888e}{vdoData} = NULL;
656             svdmRequest->\hyperlink{struct__pd__svdm__request_a447ad7fabf845dde656f32b7ba306582}{vdoCount} = 0;
657             \textcolor{keywordflow}{if} ((pdAppInstance->\hyperlink{struct__pd__app_a6cd3330740f3a7d5c35f3c9edf8ec6e2}{selfHasEnterAlernateMode} == 1) && (svdmRequest->
      \hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.objPos == 1))
658             \{
659                 pdAppInstance->\hyperlink{struct__pd__app_a6cd3330740f3a7d5c35f3c9edf8ec6e2}{selfHasEnterAlernateMode} = 0;
660                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca8de7fa85a3e37afed0b95cd975959f13}{kCommandResult\_VDMACK};
661             \}
662             \textcolor{keywordflow}{else}
663             \{
664                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cac783d71949646db3d0780d123de6bf3c}{kCommandResult\_VDMNAK};
665             \}
666             \textcolor{keywordflow}{break};
667 
668         \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa6c3e8356521df30c2a7cb1100623676f}{kVDM\_Attention}:
669             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"receive attention\(\backslash\)r\(\backslash\)n"});
670             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"start exit mode command\(\backslash\)r\(\backslash\)n"});
671             pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_a8047c38bf19593f6d467256b1696587e}{vdmSop} = pdAppInstance->\hyperlink{struct__pd__app_a2fc0a3061498fda37106d3d16aec10c8}{msgSop};
672             pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_aaebc50d834d15e862f264a4e4d8421b4}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.objPos =
673                 svdmRequest->\hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.objPos;
674             pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_aaebc50d834d15e862f264a4e4d8421b4}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.SVID = svdmRequest->\hyperlink{struct__pd__svdm__request_a502097a71d336575e7c64feded3fc3d1}{vdmHeader}.
      \hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.SVID;
675 
676             \textcolor{keywordflow}{if} (\hyperlink{group__usb__pd__stack_gaa61d0ac40ef36db1ef5a88532f6eea90}{PD\_Command}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_ggabf2676c3360b7c572954ae09c0a5e46aa979f0d2508a56e60739866d338599f73}{PD\_DPM\_CONTROL\_EXIT\_MODE},
677                            &pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}) != 
      \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success})
678             \{
679                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"command start fail\(\backslash\)r\(\backslash\)n"});
680             \}
681             \textcolor{keywordflow}{break};
682 
683         \textcolor{keywordflow}{default}:
684             \textcolor{comment}{/* vendor defined structured vdm */}
685             \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a7020e18597a0914824f3b9cb417dff87}{reqestResponse} == 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept})
686             \{
687                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca8de7fa85a3e37afed0b95cd975959f13}{kCommandResult\_VDMACK};
688             \}
689             \textcolor{keywordflow}{else}
690             \{
691                 svdmRequest->\hyperlink{struct__pd__svdm__request_a234e68f92801246ea761e56aa163c3e6}{requestResultStatus} = 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca7d97a0d078d217c54b88f5a076204572}{kCommandResult\_VDMBUSY};
692             \}
693             \textcolor{keywordflow}{break};
694     \}
695 
696     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
697 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a93eda98ed9ea76dfbf9975269a20907f_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a93eda98ed9ea76dfbf9975269a20907f_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a292e6cc1ce06e7dc3d0e194747dfa5de}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback@{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback@{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-S\-V\-D\-M\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{{\bf pd\-\_\-svdm\-\_\-command\-\_\-result\-\_\-t} $\ast$}]{svdm\-Result}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a292e6cc1ce06e7dc3d0e194747dfa5de}

\begin{DoxyCode}
700 \{
701     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
702 
703     \textcolor{keywordflow}{if} (success)
704     \{
705         \textcolor{keywordflow}{switch} (svdmResult->\hyperlink{struct__pd__svdm__command__result_af1f46eb3cd5009b29a5f3ba293a5fc84}{vdmCommand})
706         \{
707             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa093484740fe8a0d1886fd86ab3ddab3e}{kVDM\_DiscoverIdentity}:
708             \{
709                 \hyperlink{struct__pd__id__heaer__vdo}{pd\_id\_header\_vdo\_t} idHeaderVDO;
710                 idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_ab1f86734d25b3b0135b97b567dbbf827}{vdoValue} = 
      \hyperlink{usb__misc_8h_ab94871389a0730a311e19a217b223d4d}{USB\_LONG\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(((uint8\_t *)(svdmResult->
      \hyperlink{struct__pd__svdm__command__result_acd15ff8f7fe85b7e8ed891199339053f}{vdoData})));
711                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vendor:%x, modual support:%d, usb communication
       capable device:%d"},
712                              idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.usbVendorID, idHeaderVDO.
      \hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.modalOperateSupport,
713                              idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.usbCommunicationCapableAsDevice);
714                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{", usb communication capable host:%d"},
715                              idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.usbCommunicationCapableAsHost);
716                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{", product type: (DFP or Cable)"});
717                 \textcolor{keywordflow}{if} (idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.productTypeDFP != 0)
718                 \{
719                     \textcolor{keywordflow}{switch} (idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.productTypeDFP)
720                     \{
721                         \textcolor{keywordflow}{case} 0:
722                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"undefined, "});
723                             \textcolor{keywordflow}{break};
724 
725                         \textcolor{keywordflow}{case} 1:
726                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"PDUSB Hub, "});
727                             \textcolor{keywordflow}{break};
728 
729                         \textcolor{keywordflow}{case} 2:
730                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"PDUSB Host, "});
731                             \textcolor{keywordflow}{break};
732 
733                         \textcolor{keywordflow}{case} 3:
734                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Power Brick, "});
735                             \textcolor{keywordflow}{break};
736 
737                         \textcolor{keywordflow}{case} 4:
738                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Alternate Mode Controller (AMC), "});
739                             \textcolor{keywordflow}{break};
740 
741                         \textcolor{keywordflow}{default}:
742                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"cannot recognition, "});
743                             \textcolor{keywordflow}{break};
744                     \}
745                 \}
746 
747                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"(UFP)"});
748                 \textcolor{keywordflow}{if} (idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.productTypeUFPOrCablePlug != 0)
749                 \{
750                     \textcolor{keywordflow}{switch} (idHeaderVDO.\hyperlink{struct__pd__id__heaer__vdo_aa8e2886698b5a02a2245c9a3fb667783}{bitFields}.productTypeUFPOrCablePlug)
751                     \{
752                         \textcolor{keywordflow}{case} 0:
753                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"undefined\(\backslash\)r\(\backslash\)n"});
754                             \textcolor{keywordflow}{break};
755 
756                         \textcolor{keywordflow}{case} 1:
757                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"PDUSB Hub\(\backslash\)r\(\backslash\)n"});
758                             \textcolor{keywordflow}{break};
759 
760                         \textcolor{keywordflow}{case} 2:
761                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"PDUSB Peripheral\(\backslash\)r\(\backslash\)n"});
762                             \textcolor{keywordflow}{break};
763 
764                         \textcolor{keywordflow}{case} 3:
765                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Passive Cable\(\backslash\)r\(\backslash\)n"});
766                             \textcolor{keywordflow}{break};
767 
768                         \textcolor{keywordflow}{case} 4:
769                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Active Cable\(\backslash\)r\(\backslash\)n"});
770                             \textcolor{keywordflow}{break};
771 
772                         \textcolor{keywordflow}{case} 5:
773                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Alternate Mode Adapter (AMA)\(\backslash\)r\(\backslash\)n"});
774                             \textcolor{keywordflow}{break};
775 
776                         \textcolor{keywordflow}{default}:
777                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"cannot recognition\(\backslash\)r\(\backslash\)n"});
778                             \textcolor{keywordflow}{break};
779                     \}
780                 \}
781 
782                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"(2) discovery SVIDs\(\backslash\)r\(\backslash\)n"});
783                 pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_a8047c38bf19593f6d467256b1696587e}{vdmSop} = pdAppInstance->\hyperlink{struct__pd__app_a2fc0a3061498fda37106d3d16aec10c8}{msgSop};
784                 \textcolor{keywordflow}{if} (\hyperlink{group__usb__pd__stack_gaa61d0ac40ef36db1ef5a88532f6eea90}{PD\_Command}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_ggabf2676c3360b7c572954ae09c0a5e46aaee8cd08286d5286bdf2284f9af10e3ad}{PD\_DPM\_CONTROL\_DISCOVERY\_SVIDS},
785                                &pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}) != 
      \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success})
786                 \{
787                     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"command fail\(\backslash\)r\(\backslash\)n"});
788                 \}
789                 \textcolor{keywordflow}{break};
790             \}
791 
792             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa3467f9c1fa07c560f41145a00fcd25da}{kVDM\_DiscoverSVIDs}:
793             \{
794                 uint32\_t index;
795                 uint8\_t svidIndex = 1;
796                 uint32\_t SVID;
797                 uint8\_t *buffPtr = (uint8\_t *)svdmResult->\hyperlink{struct__pd__svdm__command__result_acd15ff8f7fe85b7e8ed891199339053f}{vdoData};
798                 for (index = 0; index < (svdmResult->\hyperlink{struct__pd__svdm__command__result_a347c19dd5209bb9ef874aa11caf4c07b}{vdoCount} >> 2); ++index)
799                 \{
800                     SVID = \hyperlink{usb__misc_8h_ab94871389a0730a311e19a217b223d4d}{USB\_LONG\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(buffPtr);
801                     buffPtr += 4;
802                     \textcolor{keywordflow}{if} (SVID != 0)
803                     \{
804                         pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2] = SVID >> 16;
805                         \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2] != 0x0000u)
806                         \{
807                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"SVID%d: %x\(\backslash\)r\(\backslash\)n"}, svidIndex,
808                                          pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2]);
809                             svidIndex++;
810                         \}
811 
812                         pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2 + 1] = (SVID & 0x0000FFFFu);
813                         \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2 + 1] != 0x0000u)
814                         \{
815                             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"SVID%d: %x\(\backslash\)r\(\backslash\)n"}, svidIndex,
816                                          pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2 + 1]);
817                             svidIndex++;
818                         \}
819                     \}
820 
821                     pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[index * 2 + 1] = 
      \hyperlink{usb__misc_8h_ad653e9416e47d6669d5b8e57c48e2d6f}{USB\_SHORT\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(buffPtr);
822                 \}
823 
824                 \textcolor{keywordflow}{if} (pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[0] == 0x0000u)
825                 \{
826                     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"SVIDs: none\(\backslash\)r\(\backslash\)n"});
827                 \}
828                 \textcolor{keywordflow}{else}
829                 \{
830                     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"(3) discovery Modes\(\backslash\)r\(\backslash\)n"});
831                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_a8047c38bf19593f6d467256b1696587e}{vdmSop} = pdAppInstance->\hyperlink{struct__pd__app_a2fc0a3061498fda37106d3d16aec10c8}{msgSop};
832                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_aaebc50d834d15e862f264a4e4d8421b4}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.SVID = pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[0];
833                     \textcolor{keywordflow}{if} (\hyperlink{group__usb__pd__stack_gaa61d0ac40ef36db1ef5a88532f6eea90}{PD\_Command}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_ggabf2676c3360b7c572954ae09c0a5e46aaf975cd0b8e1039525d282a872236eb96}{PD\_DPM\_CONTROL\_DISCOVERY\_MODES},
834                                    &pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}) != 
      \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success})
835                     \{
836                         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"command fail\(\backslash\)r\(\backslash\)n"});
837                     \}
838                 \}
839                 \textcolor{keywordflow}{break};
840             \}
841 
842             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fae6922b747be7bb80dbe7822a940bab16}{kVDM\_DiscoverModes}:
843             \{
844                 uint32\_t index;
845                 uint8\_t *buffPtr = (uint8\_t *)svdmResult->\hyperlink{struct__pd__svdm__command__result_acd15ff8f7fe85b7e8ed891199339053f}{vdoData};
846                 uint8\_t dataRole;
847                 for (index = 0; index < (svdmResult->\hyperlink{struct__pd__svdm__command__result_a347c19dd5209bb9ef874aa11caf4c07b}{vdoCount} >> 2); ++index)
848                 \{
849                     pdAppInstance->\hyperlink{struct__pd__app_a627bddd71b69afb7c7347ffd9f59ca84}{partnerModes}[index * 2] = 
      \hyperlink{usb__misc_8h_ad653e9416e47d6669d5b8e57c48e2d6f}{USB\_SHORT\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(buffPtr);
850                     buffPtr += 2;
851                     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Mode%d: %x\(\backslash\)r\(\backslash\)n"}, 1 + index * 2,
852                                  pdAppInstance->\hyperlink{struct__pd__app_a627bddd71b69afb7c7347ffd9f59ca84}{partnerModes}[index * 2]);
853                     pdAppInstance->\hyperlink{struct__pd__app_a627bddd71b69afb7c7347ffd9f59ca84}{partnerModes}[index * 2 + 1] = 
      \hyperlink{usb__misc_8h_ad653e9416e47d6669d5b8e57c48e2d6f}{USB\_SHORT\_FROM\_LITTLE\_ENDIAN\_ADDRESS}(buffPtr);
854                     buffPtr += 2;
855                     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"Mode%d: %x\(\backslash\)r\(\backslash\)n"}, 1 + index * 2 + 1,
856                                  pdAppInstance->\hyperlink{struct__pd__app_a627bddd71b69afb7c7347ffd9f59ca84}{partnerModes}[index * 2 + 1]);
857                 \}
858 
859                 \hyperlink{group__usb__pd__stack_gac3d77e334213f541028d2da518086ca2}{PD\_Control}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_gga0edd2a390d28d96646bc71aac1858af1a06f4d2e5460a98f33e36db26ee0576cf}{PD\_CONTROL\_GET\_DATA\_ROLE}, &dataRole);
860 
861                 \textcolor{keywordflow}{if} (dataRole == \hyperlink{group__usb__pd__stack_gga25760887aa95821023cc0ab5e151f828ad5849c6d513a7161652bf49bf5096e61}{kPD\_DataRoleDFP})
862                 \{
863                     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"(4) enter mode 1\(\backslash\)r\(\backslash\)n"});
864                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_a8047c38bf19593f6d467256b1696587e}{vdmSop} = pdAppInstance->\hyperlink{struct__pd__app_a2fc0a3061498fda37106d3d16aec10c8}{msgSop};
865                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_a153be4aa8e8fa9e41ac83eb41e513060}{vdoCount} = 0;
866                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_a1da6696ea0b07e0173cc469094639e99}{vdoData} = NULL;
867                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_aaebc50d834d15e862f264a4e4d8421b4}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.objPos = 1;
868                     pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}.
      \hyperlink{struct__pd__svdm__param_aaebc50d834d15e862f264a4e4d8421b4}{vdmHeader}.\hyperlink{struct__pd__structured__vdm__header_afc8471a70fa430820836286de3cf2281}{bitFields}.SVID = pdAppInstance->\hyperlink{struct__pd__app_a595e9d8b83e3ba15e9eaa30252ea865f}{partnerSVIDs}[0];
869                     \textcolor{keywordflow}{if} (\hyperlink{group__usb__pd__stack_gaa61d0ac40ef36db1ef5a88532f6eea90}{PD\_Command}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_ggabf2676c3360b7c572954ae09c0a5e46aaa2c72dc0674fc14bc03afbf89da88e2b}{PD\_DPM\_CONTROL\_ENTER\_MODE},
870                                    &pdAppInstance->\hyperlink{struct__pd__app_afd1d474adb3bfefdb1ca2a55d36a6428}{structuredVDMCommandParam}) != 
      \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success})
871                     \{
872                         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"command fail\(\backslash\)r\(\backslash\)n"});
873                     \}
874                 \}
875                 \textcolor{keywordflow}{break};
876             \}
877 
878             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa171284120b4265e1e8d90b279682a7bf}{kVDM\_EnterMode}:
879                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"enter mode result: ack\(\backslash\)r\(\backslash\)n"});
880                 \textcolor{keywordflow}{break};
881 
882             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa1457e1ea577c3e45e1d4a657cd5005d7}{kVDM\_ExitMode}:
883                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"exit mode result: ack\(\backslash\)r\(\backslash\)n"});
884                 \textcolor{keywordflow}{break};
885 
886             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggac4a67ecdc78b1a071ca6505a765a301fa6c3e8356521df30c2a7cb1100623676f}{kVDM\_Attention}:
887                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"send attention result: success\(\backslash\)r\(\backslash\)n"});
888                 \textcolor{keywordflow}{break};
889 
890             \textcolor{keywordflow}{default}:
891             \{
892                 \textcolor{comment}{/* process the buffer data and length */}
893                 \textcolor{comment}{// pd\_svdm\_command\_result\_t *vdmResult = (pd\_svdm\_command\_result\_t*)param;}
894                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vendor structured vdm result: success\(\backslash\)r\(\backslash\)n"});
895                 \textcolor{keywordflow}{break};
896             \}
897         \}
898     \}
899     \textcolor{keywordflow}{else}
900     \{
901         \textcolor{keywordflow}{switch} (svdmResult->\hyperlink{struct__pd__svdm__command__result_af52b0485285dda6a8eda1154989dc84e}{vdmCommandResult})
902         \{
903             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
904                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"structured vdm result: fail\(\backslash\)r\(\backslash\)n"});
905                 \textcolor{keywordflow}{break};
906 
907             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cac783d71949646db3d0780d123de6bf3c}{kCommandResult\_VDMNAK}:
908                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"structured vdm result: nak\(\backslash\)r\(\backslash\)n"});
909                 \textcolor{keywordflow}{break};
910 
911             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca7d97a0d078d217c54b88f5a076204572}{kCommandResult\_VDMBUSY}:
912                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"structured vdm result: busy\(\backslash\)r\(\backslash\)n"});
913                 \textcolor{keywordflow}{break};
914 
915             \textcolor{keywordflow}{default}:
916                 \textcolor{keywordflow}{break};
917         \}
918     \}
919 
920     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
921 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a292e6cc1ce06e7dc3d0e194747dfa5de_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a292e6cc1ce06e7dc3d0e194747dfa5de_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a508772bcb38cf6f15fecc3933c2ad798}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback@{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback@{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Received\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{{\bf pd\-\_\-unstructured\-\_\-vdm\-\_\-command\-\_\-param\-\_\-t} $\ast$}]{unstructured\-V\-D\-M\-Param}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a508772bcb38cf6f15fecc3933c2ad798}

\begin{DoxyCode}
925 \{
926     uint32\_t index;
927     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
928 
929     \textcolor{comment}{/* process the unstructured vdm */}
930     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"receive unstructured vdm, sop:%d, vdo count:%d\(\backslash\)r\(\backslash\)n"}, 
      unstructuredVDMParam->\hyperlink{struct__pd__unstructured__vdm__param_a842d85782a56f40375590061c9e2003c}{vdmSop},
931                  unstructuredVDMParam->\hyperlink{struct__pd__unstructured__vdm__param_a7efceddd48daf429c447c7c7108c9066}{vdmHeaderAndVDOsCount});
932     \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"VDO Header:%x\(\backslash\)r\(\backslash\)n"}, unstructuredVDMParam->
      \hyperlink{struct__pd__unstructured__vdm__param_ace459022833c093044261a805aca67ac}{vdmHeaderAndVDOsData}[0]);
933     \textcolor{keywordflow}{for} (index = 1; index < unstructuredVDMParam->\hyperlink{struct__pd__unstructured__vdm__param_a7efceddd48daf429c447c7c7108c9066}{vdmHeaderAndVDOsCount}; ++index)
934     \{
935         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"VDO%d:%d\(\backslash\)r\(\backslash\)n"}, index, unstructuredVDMParam->
      \hyperlink{struct__pd__unstructured__vdm__param_ace459022833c093044261a805aca67ac}{vdmHeaderAndVDOsData}[index]);
936     \}
937 
938     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
939 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a508772bcb38cf6f15fecc3933c2ad798_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a508772bcb38cf6f15fecc3933c2ad798_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a8e743ef12b8722d742d7eeae4f9b476d}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Unstructured\-V\-D\-M\-Send\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a8e743ef12b8722d742d7eeae4f9b476d}

\begin{DoxyCode}
942 \{
943     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
944 
945     \textcolor{keywordflow}{if} (success)
946     \{
947         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"send unstructured vdm result: success\(\backslash\)r\(\backslash\)n"});
948     \}
949     \textcolor{keywordflow}{else}
950     \{
951         \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"send unstructured vdm result: fail\(\backslash\)r\(\backslash\)n"});
952     \}
953 
954     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
955 \}
\end{DoxyCode}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a8e743ef12b8722d742d7eeae4f9b476d_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a8e743ef12b8722d742d7eeae4f9b476d_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_ac9514370755ca84c517e49e833ada971}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback@{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Request\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t $\ast$}]{evaluate\-Result}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_ac9514370755ca84c517e49e833ada971}

\begin{DoxyCode}
230 \{
231     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
232 
233     *evaluateResult = ((pdAppInstance->\hyperlink{struct__pd__app_ad3460ca1eda49e355b0b155671ba2823}{vconnSwapAccept}) ? 
      \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca5cbc28129fbc8ef711e9af7a9400d858}{kCommandResult\_Accept} : \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject});
234     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
235 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_ac9514370755ca84c517e49e833ada971_icgraph}
\end{center}
\end{figure}


\hypertarget{pd__command__app_8c_a6f9aaba280e24edd2c837cd689d50eeb}{\index{pd\-\_\-command\-\_\-app.\-c@{pd\-\_\-command\-\_\-app.\-c}!P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback}}
\index{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback@{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback}!pd_command_app.c@{pd\-\_\-command\-\_\-app.\-c}}
\subsubsection[{P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}{\bf pd\-\_\-status\-\_\-t} P\-D\-\_\-\-Dpm\-Vconn\-Swap\-Result\-Callback (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{callback\-Param, }
\item[{uint8\-\_\-t}]{success, }
\item[{uint8\-\_\-t}]{fail\-Result\-Type}
\end{DoxyParamCaption}
)}}\label{pd__command__app_8c_a6f9aaba280e24edd2c837cd689d50eeb}

\begin{DoxyCode}
238 \{
239     \hyperlink{struct__pd__app}{pd\_app\_t} *pdAppInstance = (\hyperlink{struct__pd__app}{pd\_app\_t} *)callbackParam;
240     uint8\_t roleInfo;
241 
242     \textcolor{keywordflow}{if} (success)
243     \{
244         \hyperlink{group__usb__pd__stack_gac3d77e334213f541028d2da518086ca2}{PD\_Control}(pdAppInstance->\hyperlink{struct__pd__app_a604cb18a01edb2da262e6d53fe41b70e}{pdHandle}, 
      \hyperlink{group__usb__pd__stack_gga0edd2a390d28d96646bc71aac1858af1a157e80a587dd98e5cd78e9927b4c4994}{PD\_CONTROL\_GET\_VCONN\_ROLE}, &roleInfo);
245         \textcolor{keywordflow}{if} (roleInfo == \hyperlink{group__usb__pd__stack_ggab67908aebf6cb10704f4ec6127761e28a239cd9fcbe39abba0bc8959dc1a24e37}{kPD\_IsVconnSource})
246         \{
247             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vconn swap result: turn as source\(\backslash\)r\(\backslash\)n"});
248         \}
249         \textcolor{keywordflow}{else}
250         \{
251             \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vconn swap result: not vconn source\(\backslash\)r\(\backslash\)n"});
252         \}
253     \}
254     \textcolor{keywordflow}{else}
255     \{
256         \textcolor{keywordflow}{switch} (failResultType)
257         \{
258             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca1f47bf73466bcfd41a0e492b4ee77221}{kCommandResult\_Reject}:
259                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vconn swap result: reject\(\backslash\)r\(\backslash\)n"});
260                 \textcolor{keywordflow}{break};
261 
262             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045cabbcc951c401dbb830050a5ece204079a}{kCommandResult\_Wait}:
263                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vconn swap result: wait\(\backslash\)r\(\backslash\)n"});
264                 \textcolor{keywordflow}{break};
265 
266             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045ca2037b8a85f98d8d2413d589dbe7ea4fd}{kCommandResult\_Error}:
267                 \hyperlink{pd__command__app_8c_adf0d4d7f816d9d87fa663abcfc292ab7}{PD\_DemoPrint}(pdAppInstance, \textcolor{stringliteral}{"vconn swap result: fail\(\backslash\)r\(\backslash\)n"});
268                 \textcolor{keywordflow}{break};
269 
270             \textcolor{keywordflow}{case} \hyperlink{group__usb__pd__stack_ggaa0c9fbfbfb4442ef9d805438bfeb045caa7d52b6983bc63b06da53587776a1664}{kCommandResult\_NotSupported}:
271                 \textcolor{keywordflow}{break};
272 
273             \textcolor{keywordflow}{default}:
274                 \textcolor{keywordflow}{break};
275         \}
276     \}
277 
278     \textcolor{keywordflow}{return} \hyperlink{group__usb__pd__stack_ggaaad4cd00dd02567c6169429e3a895073acf06f954f9c52f560cea34df48c63555}{kStatus\_PD\_Success};
279 \}
\end{DoxyCode}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{pd__command__app_8c_a6f9aaba280e24edd2c837cd689d50eeb_icgraph}
\end{center}
\end{figure}


